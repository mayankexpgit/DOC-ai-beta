"use strict";(self["webpackChunk_N_E"]=self["webpackChunk_N_E"]||[]).push([[501],{34137:(t,e,r)=>{r.r(e);r.d(e,{AElement:()=>t5,AnimateColorElement:()=>tJ,AnimateElement:()=>tZ,AnimateTransformElement:()=>tK,BoundingBox:()=>tE,CB1:()=>Y,CB2:()=>Q,CB3:()=>$,CB4:()=>Z,Canvg:()=>eE,CircleElement:()=>tR,ClipPathElement:()=>eg,DefsElement:()=>tH,DescElement:()=>em,Document:()=>eC,Element:()=>tS,EllipseElement:()=>tF,FeColorMatrixElement:()=>eo,FeCompositeElement:()=>ed,FeDropShadowElement:()=>ef,FeGaussianBlurElement:()=>ep,FeMorphologyElement:()=>ev,FilterElement:()=>ec,Font:()=>tV,FontElement:()=>t0,FontFaceElement:()=>t1,GElement:()=>tq,GlyphElement:()=>tN,GradientElement:()=>tG,ImageElement:()=>t6,LineElement:()=>t_,LinearGradientElement:()=>tY,MarkerElement:()=>tW,MaskElement:()=>el,Matrix:()=>tv,MissingGlyphElement:()=>t2,Mouse:()=>ta,PSEUDO_ZERO:()=>W,Parser:()=>tu,PathElement:()=>tO,PathParser:()=>tM,PatternElement:()=>tU,Point:()=>ti,PolygonElement:()=>tX,PolylineElement:()=>tj,Property:()=>te,QB1:()=>J,QB2:()=>K,QB3:()=>tt,RadialGradientElement:()=>tQ,RectElement:()=>tI,RenderedElement:()=>tk,Rotate:()=>tc,SVGElement:()=>tL,SVGFontLoader:()=>ee,Scale:()=>tf,Screen:()=>th,Skew:()=>td,SkewX:()=>tp,SkewY:()=>ty,StopElement:()=>t$,StyleElement:()=>er,SymbolElement:()=>et,TRefElement:()=>t3,TSpanElement:()=>tD,TextElement:()=>tB,TextPathElement:()=>t8,TitleElement:()=>ey,Transform:()=>tb,Translate:()=>tg,UnknownElement:()=>tw,UseElement:()=>ei,ViewPort:()=>tr,compressSpaces:()=>V,"default":()=>eE,getSelectorSpecificity:()=>U,normalizeAttributeName:()=>N,normalizeColor:()=>D,parseExternalUrl:()=>B,presets:()=>T,toNumbers:()=>k,trimLeft:()=>E,trimRight:()=>M,vectorMagnitude:()=>H,vectorsAngle:()=>G,vectorsRatio:()=>q});var i=r(24008);var a=r(94251);var s=r(76509);var n=r(89572);var h=r(27380);var o=r(56528);var l=r(97755);var u=r(50488);var g=r(96732);var c=r(84061);var f=r(51240);var v=r(56227);var d=r(77648);var p=r(39022);var y=r(92548);var m=r(83997);var x=r(59660);var b=r(44381);var S=r(40545);var w=r(61733);var P=r(49509);function A(){var{DOMParser:t}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var e={window:null,ignoreAnimation:true,ignoreMouse:true,DOMParser:t,createCanvas(t,e){return new OffscreenCanvas(t,e)},createImage(t){return(0,a.A)(function*(){var e=yield fetch(t);var r=yield e.blob();var i=yield createImageBitmap(r);return i})()}};if(typeof DOMParser!=="undefined"||typeof t==="undefined"){Reflect.deleteProperty(e,"DOMParser")}return e}function C(t){var{DOMParser:e,canvas:r,fetch:i}=t;return{window:null,ignoreAnimation:true,ignoreMouse:true,DOMParser:e,fetch:i,createCanvas:r.createCanvas,createImage:r.loadImage}}var T=Object.freeze({__proto__:null,offscreen:A,node:C});function V(t){return t.replace(/(?!\u3000)\s+/gm," ")}function E(t){return t.replace(/^[\n \t]+/,"")}function M(t){return t.replace(/[\n \t]+$/,"")}function k(t){var e=(t||"").match(/-?(\d+(?:\.\d*(?:[eE][+-]?\d+)?)?|\.\d+)(?=\D|$)/gm)||[];return e.map(parseFloat)}var O=/^[A-Z-]+$/;function N(t){if(O.test(t)){return t.toLowerCase()}return t}function B(t){var e=/url\(('([^']+)'|"([^"]+)"|([^'")]+))\)/.exec(t)||[];return e[2]||e[3]||e[4]}function D(t){if(!t.startsWith("rgb")){return t}var e=3;var r=t.replace(/\d+(\.\d+)?/g,(t,r)=>e--&&r?String(Math.round(parseFloat(t))):t);return r}var z=/(\[[^\]]+\])/g;var L=/(#[^\s+>~.[:]+)/g;var I=/(\.[^\s+>~.[:]+)/g;var R=/(::[^\s+>~.[:]+|:first-line|:first-letter|:before|:after)/gi;var F=/(:[\w-]+\([^)]*\))/gi;var _=/(:[^\s+>~.[:]+)/g;var j=/([^\s+>~.[:]+)/g;function X(t,e){var r=e.exec(t);if(!r){return[t,0]}return[t.replace(e," "),r.length]}function U(t){var e=[0,0,0];var r=t.replace(/:not\(([^)]*)\)/g,"     $1 ").replace(/{[\s\S]*/gm," ");var i=0;[r,i]=X(r,z);e[1]+=i;[r,i]=X(r,L);e[0]+=i;[r,i]=X(r,I);e[1]+=i;[r,i]=X(r,R);e[2]+=i;[r,i]=X(r,F);e[1]+=i;[r,i]=X(r,_);e[1]+=i;r=r.replace(/[*\s+>~]/g," ").replace(/[#.]/g," ");[r,i]=X(r,j);e[2]+=i;return e.join("")}var W=1e-8;function H(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))}function q(t,e){return(t[0]*e[0]+t[1]*e[1])/(H(t)*H(e))}function G(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(q(t,e))}function Y(t){return t*t*t}function Q(t){return 3*t*t*(1-t)}function $(t){return 3*t*(1-t)*(1-t)}function Z(t){return(1-t)*(1-t)*(1-t)}function J(t){return t*t}function K(t){return 2*t*(1-t)}function tt(t){return(1-t)*(1-t)}class te{constructor(t,e,r){this.document=t;this.name=e;this.value=r;this.isNormalizedColor=false}static empty(t){return new te(t,"EMPTY","")}split(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:" ";var{document:e,name:r}=this;return V(this.getString()).trim().split(t).map(t=>new te(e,r,t))}hasValue(t){var{value:e}=this;return e!==null&&e!==""&&(t||e!==0)&&typeof e!=="undefined"}isString(t){var{value:e}=this;var r=typeof e==="string";if(!r||!t){return r}return t.test(e)}isUrlDefinition(){return this.isString(/^url\(/)}isPixels(){if(!this.hasValue()){return false}var t=this.getString();switch(true){case t.endsWith("px"):case/^[0-9]+$/.test(t):return true;default:return false}}setValue(t){this.value=t;return this}getValue(t){if(typeof t==="undefined"||this.hasValue()){return this.value}return t}getNumber(t){if(!this.hasValue()){if(typeof t==="undefined"){return 0}return parseFloat(t)}var{value:e}=this;var r=parseFloat(e);if(this.isString(/%$/)){r/=100}return r}getString(t){if(typeof t==="undefined"||this.hasValue()){return typeof this.value==="undefined"?"":String(this.value)}return String(t)}getColor(t){var e=this.getString(t);if(this.isNormalizedColor){return e}this.isNormalizedColor=true;e=D(e);this.value=e;return e}getDpi(){return 96}getRem(){return this.document.rootEmSize}getEm(){return this.document.emSize}getUnits(){return this.getString().replace(/[0-9.-]/g,"")}getPixels(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!this.hasValue()){return 0}var[r,i]=typeof t==="boolean"?[undefined,t]:[t];var{viewPort:a}=this.document.screen;switch(true){case this.isString(/vmin$/):return this.getNumber()/100*Math.min(a.computeSize("x"),a.computeSize("y"));case this.isString(/vmax$/):return this.getNumber()/100*Math.max(a.computeSize("x"),a.computeSize("y"));case this.isString(/vw$/):return this.getNumber()/100*a.computeSize("x");case this.isString(/vh$/):return this.getNumber()/100*a.computeSize("y");case this.isString(/rem$/):return this.getNumber()*this.getRem();case this.isString(/em$/):return this.getNumber()*this.getEm();case this.isString(/ex$/):return this.getNumber()*this.getEm()/2;case this.isString(/px$/):return this.getNumber();case this.isString(/pt$/):return this.getNumber()*this.getDpi()*(1/72);case this.isString(/pc$/):return this.getNumber()*15;case this.isString(/cm$/):return this.getNumber()*this.getDpi()/2.54;case this.isString(/mm$/):return this.getNumber()*this.getDpi()/25.4;case this.isString(/in$/):return this.getNumber()*this.getDpi();case this.isString(/%$/)&&i:return this.getNumber()*this.getEm();case this.isString(/%$/):return this.getNumber()*a.computeSize(r);default:{var s=this.getNumber();if(e&&s<1){return s*a.computeSize(r)}return s}}}getMilliseconds(){if(!this.hasValue()){return 0}if(this.isString(/ms$/)){return this.getNumber()}return this.getNumber()*1e3}getRadians(){if(!this.hasValue()){return 0}switch(true){case this.isString(/deg$/):return this.getNumber()*(Math.PI/180);case this.isString(/grad$/):return this.getNumber()*(Math.PI/200);case this.isString(/rad$/):return this.getNumber();default:return this.getNumber()*(Math.PI/180)}}getDefinition(){var t=this.getString();var e=/#([^)'"]+)/.exec(t);if(e){e=e[1]}if(!e){e=t}return this.document.definitions[e]}getFillStyleDefinition(t,e){var r=this.getDefinition();if(!r){return null}if(typeof r.createGradient==="function"){return r.createGradient(this.document.ctx,t,e)}if(typeof r.createPattern==="function"){if(r.getHrefAttribute().hasValue()){var i=r.getAttribute("patternTransform");r=r.getHrefAttribute().getDefinition();if(i.hasValue()){r.getAttribute("patternTransform",true).setValue(i.value)}}return r.createPattern(this.document.ctx,t,e)}return null}getTextBaseline(){if(!this.hasValue()){return null}return te.textBaselineMapping[this.getString()]}addOpacity(t){var e=this.getColor();var r=e.length;var i=0;for(var a=0;a<r;a++){if(e[a]===","){i++}if(i===3){break}}if(t.hasValue()&&this.isString()&&i!==3){var s=new p(e);if(s.ok){s.alpha=t.getNumber();e=s.toRGBA()}}return new te(this.document,this.name,e)}}te.textBaselineMapping={"baseline":"alphabetic","before-edge":"top","text-before-edge":"top","middle":"middle","central":"middle","after-edge":"bottom","text-after-edge":"bottom","ideographic":"ideographic","alphabetic":"alphabetic","hanging":"hanging","mathematical":"alphabetic"};class tr{constructor(){this.viewPorts=[]}clear(){this.viewPorts=[]}setCurrent(t,e){this.viewPorts.push({width:t,height:e})}removeCurrent(){this.viewPorts.pop()}getCurrent(){var{viewPorts:t}=this;return t[t.length-1]}get width(){return this.getCurrent().width}get height(){return this.getCurrent().height}computeSize(t){if(typeof t==="number"){return t}if(t==="x"){return this.width}if(t==="y"){return this.height}return Math.sqrt(Math.pow(this.width,2)+Math.pow(this.height,2))/Math.sqrt(2)}}class ti{constructor(t,e){this.x=t;this.y=e}static parse(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var[r=e,i=e]=k(t);return new ti(r,i)}static parseScale(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var[r=e,i=r]=k(t);return new ti(r,i)}static parsePath(t){var e=k(t);var r=e.length;var i=[];for(var a=0;a<r;a+=2){i.push(new ti(e[a],e[a+1]))}return i}angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}applyTransform(t){var{x:e,y:r}=this;var i=e*t[0]+r*t[2]+t[4];var a=e*t[1]+r*t[3]+t[5];this.x=i;this.y=a}}class ta{constructor(t){this.screen=t;this.working=false;this.events=[];this.eventElements=[];this.onClick=this.onClick.bind(this);this.onMouseMove=this.onMouseMove.bind(this)}isWorking(){return this.working}start(){if(this.working){return}var{screen:t,onClick:e,onMouseMove:r}=this;var i=t.ctx.canvas;i.onclick=e;i.onmousemove=r;this.working=true}stop(){if(!this.working){return}var t=this.screen.ctx.canvas;this.working=false;t.onclick=null;t.onmousemove=null}hasEvents(){return this.working&&this.events.length>0}runEvents(){if(!this.working){return}var{screen:t,events:e,eventElements:r}=this;var{style:i}=t.ctx.canvas;if(i){i.cursor=""}e.forEach((t,e)=>{var{run:i}=t;var a=r[e];while(a){i(a);a=a.parent}});this.events=[];this.eventElements=[]}checkPath(t,e){if(!this.working||!e){return}var{events:r,eventElements:i}=this;r.forEach((r,a)=>{var{x:s,y:n}=r;if(!i[a]&&e.isPointInPath&&e.isPointInPath(s,n)){i[a]=t}})}checkBoundingBox(t,e){if(!this.working||!e){return}var{events:r,eventElements:i}=this;r.forEach((r,a)=>{var{x:s,y:n}=r;if(!i[a]&&e.isPointInBox(s,n)){i[a]=t}})}mapXY(t,e){var{window:r,ctx:i}=this.screen;var a=new ti(t,e);var s=i.canvas;while(s){a.x-=s.offsetLeft;a.y-=s.offsetTop;s=s.offsetParent}if(r.scrollX){a.x+=r.scrollX}if(r.scrollY){a.y+=r.scrollY}return a}onClick(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onclick",x:e,y:r,run(t){if(t.onClick){t.onClick()}}})}onMouseMove(t){var{x:e,y:r}=this.mapXY(t.clientX,t.clientY);this.events.push({type:"onmousemove",x:e,y:r,run(t){if(t.onMouseMove){t.onMouseMove()}}})}}var ts=typeof window!=="undefined"?window:null;var tn=typeof fetch!=="undefined"?fetch.bind(undefined):null;class th{constructor(t){var{fetch:e=tn,window:r=ts}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.ctx=t;this.FRAMERATE=30;this.MAX_VIRTUAL_PIXELS=3e4;this.CLIENT_WIDTH=800;this.CLIENT_HEIGHT=600;this.viewPort=new tr;this.mouse=new ta(this);this.animations=[];this.waits=[];this.frameDuration=0;this.isReadyLock=false;this.isFirstRender=true;this.intervalId=null;this.window=r;this.fetch=e}wait(t){this.waits.push(t)}ready(){if(!this.readyPromise){return Promise.resolve()}return this.readyPromise}isReady(){if(this.isReadyLock){return true}var t=this.waits.every(t=>t());if(t){this.waits=[];if(this.resolveReady){this.resolveReady()}}this.isReadyLock=t;return t}setDefaults(t){t.strokeStyle="rgba(0,0,0,0)";t.lineCap="butt";t.lineJoin="miter";t.miterLimit=4}setViewBox(t){var{document:e,ctx:r,aspectRatio:i,width:a,desiredWidth:s,height:n,desiredHeight:h,minX:o=0,minY:l=0,refX:u,refY:g,clip:c=false,clipX:f=0,clipY:v=0}=t;var d=V(i).replace(/^defer\s/,"");var[p,y]=d.split(" ");var m=p||"xMidYMid";var x=y||"meet";var b=a/s;var S=n/h;var w=Math.min(b,S);var P=Math.max(b,S);var A=s;var C=h;if(x==="meet"){A*=w;C*=w}if(x==="slice"){A*=P;C*=P}var T=new te(e,"refX",u);var E=new te(e,"refY",g);var M=T.hasValue()&&E.hasValue();if(M){r.translate(-w*T.getPixels("x"),-w*E.getPixels("y"))}if(c){var k=w*f;var O=w*v;r.beginPath();r.moveTo(k,O);r.lineTo(a,O);r.lineTo(a,n);r.lineTo(k,n);r.closePath();r.clip()}if(!M){var N=x==="meet"&&w===S;var B=x==="slice"&&P===S;var D=x==="meet"&&w===b;var z=x==="slice"&&P===b;if(m.startsWith("xMid")&&(N||B)){r.translate(a/2-A/2,0)}if(m.endsWith("YMid")&&(D||z)){r.translate(0,n/2-C/2)}if(m.startsWith("xMax")&&(N||B)){r.translate(a-A,0)}if(m.endsWith("YMax")&&(D||z)){r.translate(0,n-C)}}switch(true){case m==="none":r.scale(b,S);break;case x==="meet":r.scale(w,w);break;case x==="slice":r.scale(P,P);break}r.translate(-o,-l)}start(t){var{enableRedraw:e=false,ignoreMouse:r=false,ignoreAnimation:i=false,ignoreDimensions:a=false,ignoreClear:s=false,forceRedraw:n,scaleWidth:h,scaleHeight:o,offsetX:l,offsetY:u}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var{FRAMERATE:g,mouse:c}=this;var f=1e3/g;this.frameDuration=f;this.readyPromise=new Promise(t=>{this.resolveReady=t});if(this.isReady()){this.render(t,a,s,h,o,l,u)}if(!e){return}var d=Date.now();var p=d;var y=0;var m=()=>{d=Date.now();y=d-p;if(y>=f){p=d-y%f;if(this.shouldUpdate(i,n)){this.render(t,a,s,h,o,l,u);c.runEvents()}}this.intervalId=v(m)};if(!r){c.start()}this.intervalId=v(m)}stop(){if(this.intervalId){v.cancel(this.intervalId);this.intervalId=null}this.mouse.stop()}shouldUpdate(t,e){if(!t){var{frameDuration:r}=this;var i=this.animations.reduce((t,e)=>e.update(r)||t,false);if(i){return true}}if(typeof e==="function"&&e()){return true}if(!this.isReadyLock&&this.isReady()){return true}if(this.mouse.hasEvents()){return true}return false}render(t,e,r,i,a,s,n){var{CLIENT_WIDTH:h,CLIENT_HEIGHT:o,viewPort:l,ctx:u,isFirstRender:g}=this;var c=u.canvas;l.clear();if(c.width&&c.height){l.setCurrent(c.width,c.height)}else{l.setCurrent(h,o)}var f=t.getStyle("width");var v=t.getStyle("height");if(!e&&(g||typeof i!=="number"&&typeof a!=="number")){if(f.hasValue()){c.width=f.getPixels("x");if(c.style){c.style.width="".concat(c.width,"px")}}if(v.hasValue()){c.height=v.getPixels("y");if(c.style){c.style.height="".concat(c.height,"px")}}}var d=c.clientWidth||c.width;var p=c.clientHeight||c.height;if(e&&f.hasValue()&&v.hasValue()){d=f.getPixels("x");p=v.getPixels("y")}l.setCurrent(d,p);if(typeof s==="number"){t.getAttribute("x",true).setValue(s)}if(typeof n==="number"){t.getAttribute("y",true).setValue(n)}if(typeof i==="number"||typeof a==="number"){var y=k(t.getAttribute("viewBox").getString());var m=0;var x=0;if(typeof i==="number"){var b=t.getStyle("width");if(b.hasValue()){m=b.getPixels("x")/i}else if(!isNaN(y[2])){m=y[2]/i}}if(typeof a==="number"){var S=t.getStyle("height");if(S.hasValue()){x=S.getPixels("y")/a}else if(!isNaN(y[3])){x=y[3]/a}}if(!m){m=x}if(!x){x=m}t.getAttribute("width",true).setValue(i);t.getAttribute("height",true).setValue(a);var w=t.getStyle("transform",true,true);w.setValue("".concat(w.getString()," scale(").concat(1/m,", ").concat(1/x,")"))}if(!r){u.clearRect(0,0,d,p)}t.render(u);if(g){this.isFirstRender=false}}}th.defaultWindow=ts;th.defaultFetch=tn;var{defaultFetch:to}=th;var tl=typeof DOMParser!=="undefined"?DOMParser:null;class tu{constructor(){var{fetch:t=to,DOMParser:e=tl}=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this.fetch=t;this.DOMParser=e}parse(t){var e=this;return(0,a.A)(function*(){if(t.startsWith("<")){return e.parseFromString(t)}return e.load(t)})()}parseFromString(t){var e=new this.DOMParser;try{return this.checkDocument(e.parseFromString(t,"image/svg+xml"))}catch(r){return this.checkDocument(e.parseFromString(t,"text/xml"))}}checkDocument(t){var e=t.getElementsByTagName("parsererror")[0];if(e){throw new Error(e.textContent)}return t}load(t){var e=this;return(0,a.A)(function*(){var r=yield e.fetch(t);var i=yield r.text();return e.parseFromString(i)})()}}class tg{constructor(t,e){this.type="translate";this.point=null;this.point=ti.parse(e)}apply(t){var{x:e,y:r}=this.point;t.translate(e||0,r||0)}unapply(t){var{x:e,y:r}=this.point;t.translate(-1*e||0,-1*r||0)}applyToPoint(t){var{x:e,y:r}=this.point;t.applyTransform([1,0,0,1,e||0,r||0])}}class tc{constructor(t,e,r){this.type="rotate";this.angle=null;this.originX=null;this.originY=null;this.cx=0;this.cy=0;var i=k(e);this.angle=new te(t,"angle",i[0]);this.originX=r[0];this.originY=r[1];this.cx=i[1]||0;this.cy=i[2]||0}apply(t){var{cx:e,cy:r,originX:i,originY:a,angle:s}=this;var n=e+i.getPixels("x");var h=r+a.getPixels("y");t.translate(n,h);t.rotate(s.getRadians());t.translate(-n,-h)}unapply(t){var{cx:e,cy:r,originX:i,originY:a,angle:s}=this;var n=e+i.getPixels("x");var h=r+a.getPixels("y");t.translate(n,h);t.rotate(-1*s.getRadians());t.translate(-n,-h)}applyToPoint(t){var{cx:e,cy:r,angle:i}=this;var a=i.getRadians();t.applyTransform([1,0,0,1,e||0,r||0]);t.applyTransform([Math.cos(a),Math.sin(a),-Math.sin(a),Math.cos(a),0,0]);t.applyTransform([1,0,0,1,-e||0,-r||0])}}class tf{constructor(t,e,r){this.type="scale";this.scale=null;this.originX=null;this.originY=null;var i=ti.parseScale(e);if(i.x===0||i.y===0){i.x=W;i.y=W}this.scale=i;this.originX=r[0];this.originY=r[1]}apply(t){var{scale:{x:e,y:r},originX:i,originY:a}=this;var s=i.getPixels("x");var n=a.getPixels("y");t.translate(s,n);t.scale(e,r||e);t.translate(-s,-n)}unapply(t){var{scale:{x:e,y:r},originX:i,originY:a}=this;var s=i.getPixels("x");var n=a.getPixels("y");t.translate(s,n);t.scale(1/e,1/r||e);t.translate(-s,-n)}applyToPoint(t){var{x:e,y:r}=this.scale;t.applyTransform([e||0,0,0,r||0,0,0])}}class tv{constructor(t,e,r){this.type="matrix";this.matrix=[];this.originX=null;this.originY=null;this.matrix=k(e);this.originX=r[0];this.originY=r[1]}apply(t){var{originX:e,originY:r,matrix:i}=this;var a=e.getPixels("x");var s=r.getPixels("y");t.translate(a,s);t.transform(i[0],i[1],i[2],i[3],i[4],i[5]);t.translate(-a,-s)}unapply(t){var{originX:e,originY:r,matrix:i}=this;var a=i[0];var s=i[2];var n=i[4];var h=i[1];var o=i[3];var l=i[5];var u=0;var g=0;var c=1;var f=1/(a*(o*c-l*g)-s*(h*c-l*u)+n*(h*g-o*u));var v=e.getPixels("x");var d=r.getPixels("y");t.translate(v,d);t.transform(f*(o*c-l*g),f*(l*u-h*c),f*(n*g-s*c),f*(a*c-n*u),f*(s*l-n*o),f*(n*h-a*l));t.translate(-v,-d)}applyToPoint(t){t.applyTransform(this.matrix)}}class td extends tv{constructor(t,e,r){super(t,e,r);this.type="skew";this.angle=null;this.angle=new te(t,"angle",e)}}class tp extends td{constructor(t,e,r){super(t,e,r);this.type="skewX";this.matrix=[1,0,Math.tan(this.angle.getRadians()),1,0,0]}}class ty extends td{constructor(t,e,r){super(t,e,r);this.type="skewY";this.matrix=[1,Math.tan(this.angle.getRadians()),0,1,0,0]}}function tm(t){return V(t).trim().replace(/\)([a-zA-Z])/g,") $1").replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/)}function tx(t){var[e,r]=t.split("(");return[e.trim(),r.trim().replace(")","")]}class tb{constructor(t,e,r){this.document=t;this.transforms=[];var i=tm(e);i.forEach(t=>{if(t==="none"){return}var[e,i]=tx(t);var a=tb.transformTypes[e];if(typeof a!=="undefined"){this.transforms.push(new a(this.document,i,r))}})}static fromElement(t,e){var r=e.getStyle("transform",false,true);var[i,a=i]=e.getStyle("transform-origin",false,true).split();var s=[i,a];if(r.hasValue()){return new tb(t,r.getString(),s)}return null}apply(t){var{transforms:e}=this;var r=e.length;for(var i=0;i<r;i++){e[i].apply(t)}}unapply(t){var{transforms:e}=this;var r=e.length;for(var i=r-1;i>=0;i--){e[i].unapply(t)}}applyToPoint(t){var{transforms:e}=this;var r=e.length;for(var i=0;i<r;i++){e[i].applyToPoint(t)}}}tb.transformTypes={translate:tg,rotate:tc,scale:tf,matrix:tv,skewX:tp,skewY:ty};class tS{constructor(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this.document=t;this.node=e;this.captureTextNodes=r;this.attributes=Object.create(null);this.styles=Object.create(null);this.stylesSpecificity=Object.create(null);this.animationFrozen=false;this.animationFrozenValue="";this.parent=null;this.children=[];if(!e||e.nodeType!==1){return}Array.from(e.attributes).forEach(e=>{var r=N(e.nodeName);this.attributes[r]=new te(t,r,e.value)});this.addStylesFromStyleDefinition();if(this.getAttribute("style").hasValue()){var i=this.getAttribute("style").getString().split(";").map(t=>t.trim());i.forEach(e=>{if(!e){return}var[r,i]=e.split(":").map(t=>t.trim());this.styles[r]=new te(t,r,i)})}var{definitions:a}=t;var s=this.getAttribute("id");if(s.hasValue()){if(!a[s.getString()]){a[s.getString()]=this}}Array.from(e.childNodes).forEach(e=>{if(e.nodeType===1){this.addChild(e)}else if(r&&(e.nodeType===3||e.nodeType===4)){var i=t.createTextNode(e);if(i.getText().length>0){this.addChild(i)}}})}getAttribute(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=this.attributes[t];if(!r&&e){var i=new te(this.document,t,"");this.attributes[t]=i;return i}return r||te.empty(this.document)}getHrefAttribute(){for(var t in this.attributes){if(t==="href"||t.endsWith(":href")){return this.attributes[t]}}return te.empty(this.document)}getStyle(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=this.styles[t];if(i){return i}var a=this.getAttribute(t);if(a!==null&&a!==void 0&&a.hasValue()){this.styles[t]=a;return a}if(!r){var{parent:s}=this;if(s){var n=s.getStyle(t);if(n!==null&&n!==void 0&&n.hasValue()){return n}}}if(e){var h=new te(this.document,t,"");this.styles[t]=h;return h}return i||te.empty(this.document)}render(t){if(this.getStyle("display").getString()==="none"||this.getStyle("visibility").getString()==="hidden"){return}t.save();if(this.getStyle("mask").hasValue()){var e=this.getStyle("mask").getDefinition();if(e){this.applyEffects(t);e.apply(t,this)}}else if(this.getStyle("filter").getValue("none")!=="none"){var r=this.getStyle("filter").getDefinition();if(r){this.applyEffects(t);r.apply(t,this)}}else{this.setContext(t);this.renderChildren(t);this.clearContext(t)}t.restore()}setContext(t){}applyEffects(t){var e=tb.fromElement(this.document,this);if(e){e.apply(t)}var r=this.getStyle("clip-path",false,true);if(r.hasValue()){var i=r.getDefinition();if(i){i.apply(t)}}}clearContext(t){}renderChildren(t){this.children.forEach(e=>{e.render(t)})}addChild(t){var e=t instanceof tS?t:this.document.createElement(t);e.parent=this;if(!tS.ignoreChildTypes.includes(e.type)){this.children.push(e)}}matchesSelector(t){var e;var{node:r}=this;if(typeof r.matches==="function"){return r.matches(t)}var i=(e=r.getAttribute)===null||e===void 0?void 0:e.call(r,"class");if(!i||i===""){return false}return i.split(" ").some(e=>".".concat(e)===t)}addStylesFromStyleDefinition(){var{styles:t,stylesSpecificity:e}=this.document;for(var r in t){if(!r.startsWith("@")&&this.matchesSelector(r)){var i=t[r];var a=e[r];if(i){for(var s in i){var n=this.stylesSpecificity[s];if(typeof n==="undefined"){n="000"}if(a>=n){this.styles[s]=i[s];this.stylesSpecificity[s]=a}}}}}}removeStyles(t,e){var r=e.reduce((e,r)=>{var i=t.getStyle(r);if(!i.hasValue()){return e}var a=i.getString();i.setValue("");return[...e,[r,a]]},[]);return r}restoreStyles(t,e){e.forEach(e=>{var[r,i]=e;t.getStyle(r,true).setValue(i)})}isFirstChild(){var t;return((t=this.parent)===null||t===void 0?void 0:t.children.indexOf(this))===0}}tS.ignoreChildTypes=["title"];class tw extends tS{constructor(t,e,r){super(t,e,r)}}function tP(t){var e=t.trim();return/^('|")/.test(e)?e:'"'.concat(e,'"')}function tA(t){return typeof P==="undefined"?t:t.trim().split(",").map(tP).join(",")}function tC(t){if(!t){return""}var e=t.trim().toLowerCase();switch(e){case"normal":case"italic":case"oblique":case"inherit":case"initial":case"unset":return e;default:if(/^oblique\s+(-|)\d+deg$/.test(e)){return e}return""}}function tT(t){if(!t){return""}var e=t.trim().toLowerCase();switch(e){case"normal":case"bold":case"lighter":case"bolder":case"inherit":case"initial":case"unset":return e;default:if(/^[\d.]+$/.test(e)){return e}return""}}class tV{constructor(t,e,r,i,a,s){var n=s?typeof s==="string"?tV.parse(s):s:{};this.fontFamily=a||n.fontFamily;this.fontSize=i||n.fontSize;this.fontStyle=t||n.fontStyle;this.fontWeight=r||n.fontWeight;this.fontVariant=e||n.fontVariant}static parse(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"";var e=arguments.length>1?arguments[1]:undefined;var r="";var i="";var a="";var s="";var n="";var h=V(t).trim().split(" ");var o={fontSize:false,fontStyle:false,fontWeight:false,fontVariant:false};h.forEach(t=>{switch(true){case!o.fontStyle&&tV.styles.includes(t):if(t!=="inherit"){r=t}o.fontStyle=true;break;case!o.fontVariant&&tV.variants.includes(t):if(t!=="inherit"){i=t}o.fontStyle=true;o.fontVariant=true;break;case!o.fontWeight&&tV.weights.includes(t):if(t!=="inherit"){a=t}o.fontStyle=true;o.fontVariant=true;o.fontWeight=true;break;case!o.fontSize:if(t!=="inherit"){[s]=t.split("/")}o.fontStyle=true;o.fontVariant=true;o.fontWeight=true;o.fontSize=true;break;default:if(t!=="inherit"){n+=t}}});return new tV(r,i,a,s,n,e)}toString(){return[tC(this.fontStyle),this.fontVariant,tT(this.fontWeight),this.fontSize,tA(this.fontFamily)].join(" ").trim()}}tV.styles="normal|italic|oblique|inherit";tV.variants="normal|small-caps|inherit";tV.weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit";class tE{constructor(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Number.NaN;var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:Number.NaN;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:Number.NaN;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:Number.NaN;this.x1=t;this.y1=e;this.x2=r;this.y2=i;this.addPoint(t,e);this.addPoint(r,i)}get x(){return this.x1}get y(){return this.y1}get width(){return this.x2-this.x1}get height(){return this.y2-this.y1}addPoint(t,e){if(typeof t!=="undefined"){if(isNaN(this.x1)||isNaN(this.x2)){this.x1=t;this.x2=t}if(t<this.x1){this.x1=t}if(t>this.x2){this.x2=t}}if(typeof e!=="undefined"){if(isNaN(this.y1)||isNaN(this.y2)){this.y1=e;this.y2=e}if(e<this.y1){this.y1=e}if(e>this.y2){this.y2=e}}}addX(t){this.addPoint(t,null)}addY(t){this.addPoint(null,t)}addBoundingBox(t){if(!t){return}var{x1:e,y1:r,x2:i,y2:a}=t;this.addPoint(e,r);this.addPoint(i,a)}sumCubic(t,e,r,i,a){return Math.pow(1-t,3)*e+3*Math.pow(1-t,2)*t*r+3*(1-t)*Math.pow(t,2)*i+Math.pow(t,3)*a}bezierCurveAdd(t,e,r,i,a){var s=6*e-12*r+6*i;var n=-3*e+9*r-9*i+3*a;var h=3*r-3*e;if(n===0){if(s===0){return}var o=-h/s;if(0<o&&o<1){if(t){this.addX(this.sumCubic(o,e,r,i,a))}else{this.addY(this.sumCubic(o,e,r,i,a))}}return}var l=Math.pow(s,2)-4*h*n;if(l<0){return}var u=(-s+Math.sqrt(l))/(2*n);if(0<u&&u<1){if(t){this.addX(this.sumCubic(u,e,r,i,a))}else{this.addY(this.sumCubic(u,e,r,i,a))}}var g=(-s-Math.sqrt(l))/(2*n);if(0<g&&g<1){if(t){this.addX(this.sumCubic(g,e,r,i,a))}else{this.addY(this.sumCubic(g,e,r,i,a))}}}addBezierCurve(t,e,r,i,a,s,n,h){this.addPoint(t,e);this.addPoint(n,h);this.bezierCurveAdd(true,t,r,a,n);this.bezierCurveAdd(false,e,i,s,h)}addQuadraticCurve(t,e,r,i,a,s){var n=t+2/3*(r-t);var h=e+2/3*(i-e);var o=n+1/3*(a-t);var l=h+1/3*(s-e);this.addBezierCurve(t,e,n,o,h,l,a,s)}isPointInBox(t,e){var{x1:r,y1:i,x2:a,y2:s}=this;return r<=t&&t<=a&&i<=e&&e<=s}}class tM extends b.LQ{constructor(t){super(t.replace(/([+\-.])\s+/gm,"$1").replace(/[^MmZzLlHhVvCcSsQqTtAae\d\s.,+-].*/g,""));this.control=null;this.start=null;this.current=null;this.command=null;this.commands=this.commands;this.i=-1;this.previousCommand=null;this.points=[];this.angles=[]}reset(){this.i=-1;this.command=null;this.previousCommand=null;this.start=new ti(0,0);this.control=new ti(0,0);this.current=new ti(0,0);this.points=[];this.angles=[]}isEnd(){var{i:t,commands:e}=this;return t>=e.length-1}next(){var t=this.commands[++this.i];this.previousCommand=this.command;this.command=t;return t}getPoint(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:"x";var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"y";var r=new ti(this.command[t],this.command[e]);return this.makeAbsolute(r)}getAsControlPoint(t,e){var r=this.getPoint(t,e);this.control=r;return r}getAsCurrentPoint(t,e){var r=this.getPoint(t,e);this.current=r;return r}getReflectedControlPoint(){var t=this.previousCommand.type;if(t!==b.LQ.CURVE_TO&&t!==b.LQ.SMOOTH_CURVE_TO&&t!==b.LQ.QUAD_TO&&t!==b.LQ.SMOOTH_QUAD_TO){return this.current}var{current:{x:e,y:r},control:{x:i,y:a}}=this;var s=new ti(2*e-i,2*r-a);return s}makeAbsolute(t){if(this.command.relative){var{x:e,y:r}=this.current;t.x+=e;t.y+=r}return t}addMarker(t,e,r){var{points:i,angles:a}=this;if(r&&a.length>0&&!a[a.length-1]){a[a.length-1]=i[i.length-1].angleTo(r)}this.addMarkerAngle(t,e?e.angleTo(t):null)}addMarkerAngle(t,e){this.points.push(t);this.angles.push(e)}getMarkerPoints(){return this.points}getMarkerAngles(){var{angles:t}=this;var e=t.length;for(var r=0;r<e;r++){if(!t[r]){for(var i=r+1;i<e;i++){if(t[i]){t[r]=t[i];break}}}}return t}}class tk extends tS{constructor(){super(...arguments);this.modifiedEmSizeStack=false}calculateOpacity(){var t=1;var e=this;while(e){var r=e.getStyle("opacity",false,true);if(r.hasValue(true)){t*=r.getNumber()}e=e.parent}return t}setContext(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;if(!e){var r=this.getStyle("fill");var i=this.getStyle("fill-opacity");var a=this.getStyle("stroke");var s=this.getStyle("stroke-opacity");if(r.isUrlDefinition()){var n=r.getFillStyleDefinition(this,i);if(n){t.fillStyle=n}}else if(r.hasValue()){if(r.getString()==="currentColor"){r.setValue(this.getStyle("color").getColor())}var h=r.getColor();if(h!=="inherit"){t.fillStyle=h==="none"?"rgba(0,0,0,0)":h}}if(i.hasValue()){var o=new te(this.document,"fill",t.fillStyle).addOpacity(i).getColor();t.fillStyle=o}if(a.isUrlDefinition()){var l=a.getFillStyleDefinition(this,s);if(l){t.strokeStyle=l}}else if(a.hasValue()){if(a.getString()==="currentColor"){a.setValue(this.getStyle("color").getColor())}var u=a.getString();if(u!=="inherit"){t.strokeStyle=u==="none"?"rgba(0,0,0,0)":u}}if(s.hasValue()){var g=new te(this.document,"stroke",t.strokeStyle).addOpacity(s).getString();t.strokeStyle=g}var c=this.getStyle("stroke-width");if(c.hasValue()){var f=c.getPixels();t.lineWidth=!f?W:f}var v=this.getStyle("stroke-linecap");var d=this.getStyle("stroke-linejoin");var p=this.getStyle("stroke-miterlimit");var y=this.getStyle("stroke-dasharray");var m=this.getStyle("stroke-dashoffset");if(v.hasValue()){t.lineCap=v.getString()}if(d.hasValue()){t.lineJoin=d.getString()}if(p.hasValue()){t.miterLimit=p.getNumber()}if(y.hasValue()&&y.getString()!=="none"){var x=k(y.getString());if(typeof t.setLineDash!=="undefined"){t.setLineDash(x)}else if(typeof t.webkitLineDash!=="undefined"){t.webkitLineDash=x}else if(typeof t.mozDash!=="undefined"&&!(x.length===1&&x[0]===0)){t.mozDash=x}var b=m.getPixels();if(typeof t.lineDashOffset!=="undefined"){t.lineDashOffset=b}else if(typeof t.webkitLineDashOffset!=="undefined"){t.webkitLineDashOffset=b}else if(typeof t.mozDashOffset!=="undefined"){t.mozDashOffset=b}}}this.modifiedEmSizeStack=false;if(typeof t.font!=="undefined"){var S=this.getStyle("font");var w=this.getStyle("font-style");var P=this.getStyle("font-variant");var A=this.getStyle("font-weight");var C=this.getStyle("font-size");var T=this.getStyle("font-family");var V=new tV(w.getString(),P.getString(),A.getString(),C.hasValue()?"".concat(C.getPixels(true),"px"):"",T.getString(),tV.parse(S.getString(),t.font));w.setValue(V.fontStyle);P.setValue(V.fontVariant);A.setValue(V.fontWeight);C.setValue(V.fontSize);T.setValue(V.fontFamily);t.font=V.toString();if(C.isPixels()){this.document.emSize=C.getPixels();this.modifiedEmSizeStack=true}}if(!e){this.applyEffects(t);t.globalAlpha=this.calculateOpacity()}}clearContext(t){super.clearContext(t);if(this.modifiedEmSizeStack){this.document.popEmSize()}}}class tO extends tk{constructor(t,e,r){super(t,e,r);this.type="path";this.pathParser=null;this.pathParser=new tM(this.getAttribute("d").getString())}path(t){var{pathParser:e}=this;var r=new tE;e.reset();if(t){t.beginPath()}while(!e.isEnd()){switch(e.next().type){case tM.MOVE_TO:this.pathM(t,r);break;case tM.LINE_TO:this.pathL(t,r);break;case tM.HORIZ_LINE_TO:this.pathH(t,r);break;case tM.VERT_LINE_TO:this.pathV(t,r);break;case tM.CURVE_TO:this.pathC(t,r);break;case tM.SMOOTH_CURVE_TO:this.pathS(t,r);break;case tM.QUAD_TO:this.pathQ(t,r);break;case tM.SMOOTH_QUAD_TO:this.pathT(t,r);break;case tM.ARC:this.pathA(t,r);break;case tM.CLOSE_PATH:this.pathZ(t,r);break}}return r}getBoundingBox(t){return this.path()}getMarkers(){var{pathParser:t}=this;var e=t.getMarkerPoints();var r=t.getMarkerAngles();var i=e.map((t,e)=>[t,r[e]]);return i}renderChildren(t){this.path(t);this.document.screen.mouse.checkPath(this,t);var e=this.getStyle("fill-rule");if(t.fillStyle!==""){if(e.getString("inherit")!=="inherit"){t.fill(e.getString())}else{t.fill()}}if(t.strokeStyle!==""){if(this.getAttribute("vector-effect").getString()==="non-scaling-stroke"){t.save();t.setTransform(1,0,0,1,0,0);t.stroke();t.restore()}else{t.stroke()}}var r=this.getMarkers();if(r){var i=r.length-1;var a=this.getStyle("marker-start");var s=this.getStyle("marker-mid");var n=this.getStyle("marker-end");if(a.isUrlDefinition()){var h=a.getDefinition();var[o,l]=r[0];h.render(t,o,l)}if(s.isUrlDefinition()){var u=s.getDefinition();for(var g=1;g<i;g++){var[c,f]=r[g];u.render(t,c,f)}}if(n.isUrlDefinition()){var v=n.getDefinition();var[d,p]=r[i];v.render(t,d,p)}}}static pathM(t){var e=t.getAsCurrentPoint();t.start=t.current;return{point:e}}pathM(t,e){var{pathParser:r}=this;var{point:i}=tO.pathM(r);var{x:a,y:s}=i;r.addMarker(i);e.addPoint(a,s);if(t){t.moveTo(a,s)}}static pathL(t){var{current:e}=t;var r=t.getAsCurrentPoint();return{current:e,point:r}}pathL(t,e){var{pathParser:r}=this;var{current:i,point:a}=tO.pathL(r);var{x:s,y:n}=a;r.addMarker(a,i);e.addPoint(s,n);if(t){t.lineTo(s,n)}}static pathH(t){var{current:e,command:r}=t;var i=new ti((r.relative?e.x:0)+r.x,e.y);t.current=i;return{current:e,point:i}}pathH(t,e){var{pathParser:r}=this;var{current:i,point:a}=tO.pathH(r);var{x:s,y:n}=a;r.addMarker(a,i);e.addPoint(s,n);if(t){t.lineTo(s,n)}}static pathV(t){var{current:e,command:r}=t;var i=new ti(e.x,(r.relative?e.y:0)+r.y);t.current=i;return{current:e,point:i}}pathV(t,e){var{pathParser:r}=this;var{current:i,point:a}=tO.pathV(r);var{x:s,y:n}=a;r.addMarker(a,i);e.addPoint(s,n);if(t){t.lineTo(s,n)}}static pathC(t){var{current:e}=t;var r=t.getPoint("x1","y1");var i=t.getAsControlPoint("x2","y2");var a=t.getAsCurrentPoint();return{current:e,point:r,controlPoint:i,currentPoint:a}}pathC(t,e){var{pathParser:r}=this;var{current:i,point:a,controlPoint:s,currentPoint:n}=tO.pathC(r);r.addMarker(n,s,a);e.addBezierCurve(i.x,i.y,a.x,a.y,s.x,s.y,n.x,n.y);if(t){t.bezierCurveTo(a.x,a.y,s.x,s.y,n.x,n.y)}}static pathS(t){var{current:e}=t;var r=t.getReflectedControlPoint();var i=t.getAsControlPoint("x2","y2");var a=t.getAsCurrentPoint();return{current:e,point:r,controlPoint:i,currentPoint:a}}pathS(t,e){var{pathParser:r}=this;var{current:i,point:a,controlPoint:s,currentPoint:n}=tO.pathS(r);r.addMarker(n,s,a);e.addBezierCurve(i.x,i.y,a.x,a.y,s.x,s.y,n.x,n.y);if(t){t.bezierCurveTo(a.x,a.y,s.x,s.y,n.x,n.y)}}static pathQ(t){var{current:e}=t;var r=t.getAsControlPoint("x1","y1");var i=t.getAsCurrentPoint();return{current:e,controlPoint:r,currentPoint:i}}pathQ(t,e){var{pathParser:r}=this;var{current:i,controlPoint:a,currentPoint:s}=tO.pathQ(r);r.addMarker(s,a,a);e.addQuadraticCurve(i.x,i.y,a.x,a.y,s.x,s.y);if(t){t.quadraticCurveTo(a.x,a.y,s.x,s.y)}}static pathT(t){var{current:e}=t;var r=t.getReflectedControlPoint();t.control=r;var i=t.getAsCurrentPoint();return{current:e,controlPoint:r,currentPoint:i}}pathT(t,e){var{pathParser:r}=this;var{current:i,controlPoint:a,currentPoint:s}=tO.pathT(r);r.addMarker(s,a,a);e.addQuadraticCurve(i.x,i.y,a.x,a.y,s.x,s.y);if(t){t.quadraticCurveTo(a.x,a.y,s.x,s.y)}}static pathA(t){var{current:e,command:r}=t;var{rX:i,rY:a,xRot:s,lArcFlag:n,sweepFlag:h}=r;var o=s*(Math.PI/180);var l=t.getAsCurrentPoint();var u=new ti(Math.cos(o)*(e.x-l.x)/2+Math.sin(o)*(e.y-l.y)/2,-Math.sin(o)*(e.x-l.x)/2+Math.cos(o)*(e.y-l.y)/2);var g=Math.pow(u.x,2)/Math.pow(i,2)+Math.pow(u.y,2)/Math.pow(a,2);if(g>1){i*=Math.sqrt(g);a*=Math.sqrt(g)}var c=(n===h?-1:1)*Math.sqrt((Math.pow(i,2)*Math.pow(a,2)-Math.pow(i,2)*Math.pow(u.y,2)-Math.pow(a,2)*Math.pow(u.x,2))/(Math.pow(i,2)*Math.pow(u.y,2)+Math.pow(a,2)*Math.pow(u.x,2)));if(isNaN(c)){c=0}var f=new ti(c*i*u.y/a,c*-a*u.x/i);var v=new ti((e.x+l.x)/2+Math.cos(o)*f.x-Math.sin(o)*f.y,(e.y+l.y)/2+Math.sin(o)*f.x+Math.cos(o)*f.y);var d=G([1,0],[(u.x-f.x)/i,(u.y-f.y)/a]);var p=[(u.x-f.x)/i,(u.y-f.y)/a];var y=[(-u.x-f.x)/i,(-u.y-f.y)/a];var m=G(p,y);if(q(p,y)<=-1){m=Math.PI}if(q(p,y)>=1){m=0}return{currentPoint:l,rX:i,rY:a,sweepFlag:h,xAxisRotation:o,centp:v,a1:d,ad:m}}pathA(t,e){var{pathParser:r}=this;var{currentPoint:i,rX:a,rY:s,sweepFlag:n,xAxisRotation:h,centp:o,a1:l,ad:u}=tO.pathA(r);var g=1-n?1:-1;var c=l+g*(u/2);var f=new ti(o.x+a*Math.cos(c),o.y+s*Math.sin(c));r.addMarkerAngle(f,c-g*Math.PI/2);r.addMarkerAngle(i,c-g*Math.PI);e.addPoint(i.x,i.y);if(t&&!isNaN(l)&&!isNaN(u)){var v=a>s?a:s;var d=a>s?1:a/s;var p=a>s?s/a:1;t.translate(o.x,o.y);t.rotate(h);t.scale(d,p);t.arc(0,0,v,l,l+u,Boolean(1-n));t.scale(1/d,1/p);t.rotate(-h);t.translate(-o.x,-o.y)}}static pathZ(t){t.current=t.start}pathZ(t,e){tO.pathZ(this.pathParser);if(t){if(e.x1!==e.x2&&e.y1!==e.y2){t.closePath()}}}}class tN extends tO{constructor(t,e,r){super(t,e,r);this.type="glyph";this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();this.unicode=this.getAttribute("unicode").getString();this.arabicForm=this.getAttribute("arabic-form").getString()}}class tB extends tk{constructor(t,e,r){super(t,e,new.target===tB?true:r);this.type="text";this.x=0;this.y=0;this.measureCache=-1}setContext(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;super.setContext(t,e);var r=this.getStyle("dominant-baseline").getTextBaseline()||this.getStyle("alignment-baseline").getTextBaseline();if(r){t.textBaseline=r}}initializeCoordinates(){this.x=0;this.y=0;this.leafTexts=[];this.textChunkStart=0;this.minX=Number.POSITIVE_INFINITY;this.maxX=Number.NEGATIVE_INFINITY}getBoundingBox(t){if(this.type!=="text"){return this.getTElementBoundingBox(t)}this.initializeCoordinates();this.adjustChildCoordinatesRecursive(t);var e=null;this.children.forEach((r,i)=>{var a=this.getChildBoundingBox(t,this,this,i);if(!e){e=a}else{e.addBoundingBox(a)}});return e}getFontSize(){var{document:t,parent:e}=this;var r=tV.parse(t.ctx.font).fontSize;var i=e.getStyle("font-size").getNumber(r);return i}getTElementBoundingBox(t){var e=this.getFontSize();return new tE(this.x,this.y-e,this.x+this.measureText(t),this.y)}getGlyph(t,e,r){var i=e[r];var a=null;if(t.isArabic){var s=e.length;var n=e[r-1];var h=e[r+1];var o="isolated";if((r===0||n===" ")&&r<s-1&&h!==" "){o="terminal"}if(r>0&&n!==" "&&r<s-1&&h!==" "){o="medial"}if(r>0&&n!==" "&&(r===s-1||h===" ")){o="initial"}if(typeof t.glyphs[i]!=="undefined"){var l=t.glyphs[i];a=l instanceof tN?l:l[o]}}else{a=t.glyphs[i]}if(!a){a=t.missingGlyph}return a}getText(){return""}getTextFromNode(t){var e=t||this.node;var r=Array.from(e.parentNode.childNodes);var i=r.indexOf(e);var a=r.length-1;var s=V(e.textContent||"");if(i===0){s=E(s)}if(i===a){s=M(s)}return s}renderChildren(t){if(this.type!=="text"){this.renderTElementChildren(t);return}this.initializeCoordinates();this.adjustChildCoordinatesRecursive(t);this.children.forEach((e,r)=>{this.renderChild(t,this,this,r)});var{mouse:e}=this.document.screen;if(e.isWorking()){e.checkBoundingBox(this,this.getBoundingBox(t))}}renderTElementChildren(t){var{document:e,parent:r}=this;var i=this.getText();var a=r.getStyle("font-family").getDefinition();if(a){var{unitsPerEm:s}=a.fontFace;var n=tV.parse(e.ctx.font);var h=r.getStyle("font-size").getNumber(n.fontSize);var o=r.getStyle("font-style").getString(n.fontStyle);var l=h/s;var u=a.isRTL?i.split("").reverse().join(""):i;var g=k(r.getAttribute("dx").getString());var c=u.length;for(var f=0;f<c;f++){var v=this.getGlyph(a,u,f);t.translate(this.x,this.y);t.scale(l,-l);var d=t.lineWidth;t.lineWidth=t.lineWidth*s/h;if(o==="italic"){t.transform(1,0,.4,1,0,0)}v.render(t);if(o==="italic"){t.transform(1,0,-.4,1,0,0)}t.lineWidth=d;t.scale(1/l,-1/l);t.translate(-this.x,-this.y);this.x+=h*(v.horizAdvX||a.horizAdvX)/s;if(typeof g[f]!=="undefined"&&!isNaN(g[f])){this.x+=g[f]}}return}var{x:p,y}=this;if(t.fillStyle){t.fillText(i,p,y)}if(t.strokeStyle){t.strokeText(i,p,y)}}applyAnchoring(){if(this.textChunkStart>=this.leafTexts.length){return}var t=this.leafTexts[this.textChunkStart];var e=t.getStyle("text-anchor").getString("start");var r=false;var i=0;if(e==="start"&&!r||e==="end"&&r){i=t.x-this.minX}else if(e==="end"&&!r||e==="start"&&r){i=t.x-this.maxX}else{i=t.x-(this.minX+this.maxX)/2}for(var a=this.textChunkStart;a<this.leafTexts.length;a++){this.leafTexts[a].x+=i}this.minX=Number.POSITIVE_INFINITY;this.maxX=Number.NEGATIVE_INFINITY;this.textChunkStart=this.leafTexts.length}adjustChildCoordinatesRecursive(t){this.children.forEach((e,r)=>{this.adjustChildCoordinatesRecursiveCore(t,this,this,r)});this.applyAnchoring()}adjustChildCoordinatesRecursiveCore(t,e,r,i){var a=r.children[i];if(a.children.length>0){a.children.forEach((r,i)=>{e.adjustChildCoordinatesRecursiveCore(t,e,a,i)})}else{this.adjustChildCoordinates(t,e,r,i)}}adjustChildCoordinates(t,e,r,i){var a=r.children[i];if(typeof a.measureText!=="function"){return a}t.save();a.setContext(t,true);var s=a.getAttribute("x");var n=a.getAttribute("y");var h=a.getAttribute("dx");var o=a.getAttribute("dy");var l=a.getStyle("font-family").getDefinition();var u=Boolean(l)&&l.isRTL;if(i===0){if(!s.hasValue()){s.setValue(a.getInheritedAttribute("x"))}if(!n.hasValue()){n.setValue(a.getInheritedAttribute("y"))}if(!h.hasValue()){h.setValue(a.getInheritedAttribute("dx"))}if(!o.hasValue()){o.setValue(a.getInheritedAttribute("dy"))}}var g=a.measureText(t);if(u){e.x-=g}if(s.hasValue()){e.applyAnchoring();a.x=s.getPixels("x");if(h.hasValue()){a.x+=h.getPixels("x")}}else{if(h.hasValue()){e.x+=h.getPixels("x")}a.x=e.x}e.x=a.x;if(!u){e.x+=g}if(n.hasValue()){a.y=n.getPixels("y");if(o.hasValue()){a.y+=o.getPixels("y")}}else{if(o.hasValue()){e.y+=o.getPixels("y")}a.y=e.y}e.y=a.y;e.leafTexts.push(a);e.minX=Math.min(e.minX,a.x,a.x+g);e.maxX=Math.max(e.maxX,a.x,a.x+g);a.clearContext(t);t.restore();return a}getChildBoundingBox(t,e,r,i){var a=r.children[i];if(typeof a.getBoundingBox!=="function"){return null}var s=a.getBoundingBox(t);if(!s){return null}a.children.forEach((r,i)=>{var n=e.getChildBoundingBox(t,e,a,i);s.addBoundingBox(n)});return s}renderChild(t,e,r,i){var a=r.children[i];a.render(t);a.children.forEach((r,i)=>{e.renderChild(t,e,a,i)})}measureText(t){var{measureCache:e}=this;if(~e){return e}var r=this.getText();var i=this.measureTargetText(t,r);this.measureCache=i;return i}measureTargetText(t,e){if(!e.length){return 0}var{parent:r}=this;var i=r.getStyle("font-family").getDefinition();if(i){var a=this.getFontSize();var s=i.isRTL?e.split("").reverse().join(""):e;var n=k(r.getAttribute("dx").getString());var h=s.length;var o=0;for(var l=0;l<h;l++){var u=this.getGlyph(i,s,l);o+=(u.horizAdvX||i.horizAdvX)*a/i.fontFace.unitsPerEm;if(typeof n[l]!=="undefined"&&!isNaN(n[l])){o+=n[l]}}return o}if(!t.measureText){return e.length*10}t.save();this.setContext(t,true);var{width:g}=t.measureText(e);this.clearContext(t);t.restore();return g}getInheritedAttribute(t){var e=this;while(e instanceof tB&&e.isFirstChild()){var r=e.parent.getAttribute(t);if(r.hasValue(true)){return r.getValue("0")}e=e.parent}return null}}class tD extends tB{constructor(t,e,r){super(t,e,new.target===tD?true:r);this.type="tspan";this.text=this.children.length>0?"":this.getTextFromNode()}getText(){return this.text}}class tz extends tD{constructor(){super(...arguments);this.type="textNode"}}class tL extends tk{constructor(){super(...arguments);this.type="svg";this.root=false}setContext(t){var e;var{document:r}=this;var{screen:i,window:a}=r;var s=t.canvas;i.setDefaults(t);if(s.style&&typeof t.font!=="undefined"&&a&&typeof a.getComputedStyle!=="undefined"){t.font=a.getComputedStyle(s).getPropertyValue("font");var n=new te(r,"fontSize",tV.parse(t.font).fontSize);if(n.hasValue()){r.rootEmSize=n.getPixels("y");r.emSize=r.rootEmSize}}if(!this.getAttribute("x").hasValue()){this.getAttribute("x",true).setValue(0)}if(!this.getAttribute("y").hasValue()){this.getAttribute("y",true).setValue(0)}var{width:h,height:o}=i.viewPort;if(!this.getStyle("width").hasValue()){this.getStyle("width",true).setValue("100%")}if(!this.getStyle("height").hasValue()){this.getStyle("height",true).setValue("100%")}if(!this.getStyle("color").hasValue()){this.getStyle("color",true).setValue("black")}var l=this.getAttribute("refX");var u=this.getAttribute("refY");var g=this.getAttribute("viewBox");var c=g.hasValue()?k(g.getString()):null;var f=!this.root&&this.getStyle("overflow").getValue("hidden")!=="visible";var v=0;var d=0;var p=0;var y=0;if(c){v=c[0];d=c[1]}if(!this.root){h=this.getStyle("width").getPixels("x");o=this.getStyle("height").getPixels("y");if(this.type==="marker"){p=v;y=d;v=0;d=0}}i.viewPort.setCurrent(h,o);if(this.node&&(!this.parent||((e=this.node.parentNode)===null||e===void 0?void 0:e.nodeName)==="foreignObject")&&this.getStyle("transform",false,true).hasValue()&&!this.getStyle("transform-origin",false,true).hasValue()){this.getStyle("transform-origin",true,true).setValue("50% 50%")}super.setContext(t);t.translate(this.getAttribute("x").getPixels("x"),this.getAttribute("y").getPixels("y"));if(c){h=c[2];o=c[3]}r.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:i.viewPort.width,desiredWidth:h,height:i.viewPort.height,desiredHeight:o,minX:v,minY:d,refX:l.getValue(),refY:u.getValue(),clip:f,clipX:p,clipY:y});if(c){i.viewPort.removeCurrent();i.viewPort.setCurrent(h,o)}}clearContext(t){super.clearContext(t);this.document.screen.viewPort.removeCurrent()}resize(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var i=this.getAttribute("width",true);var a=this.getAttribute("height",true);var s=this.getAttribute("viewBox");var n=this.getAttribute("style");var h=i.getNumber(0);var o=a.getNumber(0);if(r){if(typeof r==="string"){this.getAttribute("preserveAspectRatio",true).setValue(r)}else{var l=this.getAttribute("preserveAspectRatio");if(l.hasValue()){l.setValue(l.getString().replace(/^\s*(\S.*\S)\s*$/,"$1"))}}}i.setValue(t);a.setValue(e);if(!s.hasValue()){s.setValue("0 0 ".concat(h||t," ").concat(o||e))}if(n.hasValue()){var u=this.getStyle("width");var g=this.getStyle("height");if(u.hasValue()){u.setValue("".concat(t,"px"))}if(g.hasValue()){g.setValue("".concat(e,"px"))}}}}class tI extends tO{constructor(){super(...arguments);this.type="rect"}path(t){var e=this.getAttribute("x").getPixels("x");var r=this.getAttribute("y").getPixels("y");var i=this.getStyle("width",false,true).getPixels("x");var a=this.getStyle("height",false,true).getPixels("y");var s=this.getAttribute("rx");var n=this.getAttribute("ry");var h=s.getPixels("x");var o=n.getPixels("y");if(s.hasValue()&&!n.hasValue()){o=h}if(n.hasValue()&&!s.hasValue()){h=o}h=Math.min(h,i/2);o=Math.min(o,a/2);if(t){var l=4*((Math.sqrt(2)-1)/3);t.beginPath();if(a>0&&i>0){t.moveTo(e+h,r);t.lineTo(e+i-h,r);t.bezierCurveTo(e+i-h+l*h,r,e+i,r+o-l*o,e+i,r+o);t.lineTo(e+i,r+a-o);t.bezierCurveTo(e+i,r+a-o+l*o,e+i-h+l*h,r+a,e+i-h,r+a);t.lineTo(e+h,r+a);t.bezierCurveTo(e+h-l*h,r+a,e,r+a-o+l*o,e,r+a-o);t.lineTo(e,r+o);t.bezierCurveTo(e,r+o-l*o,e+h-l*h,r,e+h,r);t.closePath()}}return new tE(e,r,e+i,r+a)}getMarkers(){return null}}class tR extends tO{constructor(){super(...arguments);this.type="circle"}path(t){var e=this.getAttribute("cx").getPixels("x");var r=this.getAttribute("cy").getPixels("y");var i=this.getAttribute("r").getPixels();if(t&&i>0){t.beginPath();t.arc(e,r,i,0,Math.PI*2,false);t.closePath()}return new tE(e-i,r-i,e+i,r+i)}getMarkers(){return null}}class tF extends tO{constructor(){super(...arguments);this.type="ellipse"}path(t){var e=4*((Math.sqrt(2)-1)/3);var r=this.getAttribute("rx").getPixels("x");var i=this.getAttribute("ry").getPixels("y");var a=this.getAttribute("cx").getPixels("x");var s=this.getAttribute("cy").getPixels("y");if(t&&r>0&&i>0){t.beginPath();t.moveTo(a+r,s);t.bezierCurveTo(a+r,s+e*i,a+e*r,s+i,a,s+i);t.bezierCurveTo(a-e*r,s+i,a-r,s+e*i,a-r,s);t.bezierCurveTo(a-r,s-e*i,a-e*r,s-i,a,s-i);t.bezierCurveTo(a+e*r,s-i,a+r,s-e*i,a+r,s);t.closePath()}return new tE(a-r,s-i,a+r,s+i)}getMarkers(){return null}}class t_ extends tO{constructor(){super(...arguments);this.type="line"}getPoints(){return[new ti(this.getAttribute("x1").getPixels("x"),this.getAttribute("y1").getPixels("y")),new ti(this.getAttribute("x2").getPixels("x"),this.getAttribute("y2").getPixels("y"))]}path(t){var[{x:e,y:r},{x:i,y:a}]=this.getPoints();if(t){t.beginPath();t.moveTo(e,r);t.lineTo(i,a)}return new tE(e,r,i,a)}getMarkers(){var[t,e]=this.getPoints();var r=t.angleTo(e);return[[t,r],[e,r]]}}class tj extends tO{constructor(t,e,r){super(t,e,r);this.type="polyline";this.points=[];this.points=ti.parsePath(this.getAttribute("points").getString())}path(t){var{points:e}=this;var[{x:r,y:i}]=e;var a=new tE(r,i);if(t){t.beginPath();t.moveTo(r,i)}e.forEach(e=>{var{x:r,y:i}=e;a.addPoint(r,i);if(t){t.lineTo(r,i)}});return a}getMarkers(){var{points:t}=this;var e=t.length-1;var r=[];t.forEach((i,a)=>{if(a===e){return}r.push([i,i.angleTo(t[a+1])])});if(r.length>0){r.push([t[t.length-1],r[r.length-1][1]])}return r}}class tX extends tj{constructor(){super(...arguments);this.type="polygon"}path(t){var e=super.path(t);var[{x:r,y:i}]=this.points;if(t){t.lineTo(r,i);t.closePath()}return e}}class tU extends tS{constructor(){super(...arguments);this.type="pattern"}createPattern(t,e,r){var i=this.getStyle("width").getPixels("x",true);var a=this.getStyle("height").getPixels("y",true);var s=new tL(this.document,null);s.attributes.viewBox=new te(this.document,"viewBox",this.getAttribute("viewBox").getValue());s.attributes.width=new te(this.document,"width","".concat(i,"px"));s.attributes.height=new te(this.document,"height","".concat(a,"px"));s.attributes.transform=new te(this.document,"transform",this.getAttribute("patternTransform").getValue());s.children=this.children;var n=this.document.createCanvas(i,a);var h=n.getContext("2d");var o=this.getAttribute("x");var l=this.getAttribute("y");if(o.hasValue()&&l.hasValue()){h.translate(o.getPixels("x",true),l.getPixels("y",true))}if(r.hasValue()){this.styles["fill-opacity"]=r}else{Reflect.deleteProperty(this.styles,"fill-opacity")}for(var u=-1;u<=1;u++){for(var g=-1;g<=1;g++){h.save();s.attributes.x=new te(this.document,"x",u*n.width);s.attributes.y=new te(this.document,"y",g*n.height);s.render(h);h.restore()}}var c=t.createPattern(n,"repeat");return c}}class tW extends tS{constructor(){super(...arguments);this.type="marker"}render(t,e,r){if(!e){return}var{x:i,y:a}=e;var s=this.getAttribute("orient").getString("auto");var n=this.getAttribute("markerUnits").getString("strokeWidth");t.translate(i,a);if(s==="auto"){t.rotate(r)}if(n==="strokeWidth"){t.scale(t.lineWidth,t.lineWidth)}t.save();var h=new tL(this.document,null);h.type=this.type;h.attributes.viewBox=new te(this.document,"viewBox",this.getAttribute("viewBox").getValue());h.attributes.refX=new te(this.document,"refX",this.getAttribute("refX").getValue());h.attributes.refY=new te(this.document,"refY",this.getAttribute("refY").getValue());h.attributes.width=new te(this.document,"width",this.getAttribute("markerWidth").getValue());h.attributes.height=new te(this.document,"height",this.getAttribute("markerHeight").getValue());h.attributes.overflow=new te(this.document,"overflow",this.getAttribute("overflow").getValue());h.attributes.fill=new te(this.document,"fill",this.getAttribute("fill").getColor("black"));h.attributes.stroke=new te(this.document,"stroke",this.getAttribute("stroke").getValue("none"));h.children=this.children;h.render(t);t.restore();if(n==="strokeWidth"){t.scale(1/t.lineWidth,1/t.lineWidth)}if(s==="auto"){t.rotate(-r)}t.translate(-i,-a)}}class tH extends tS{constructor(){super(...arguments);this.type="defs"}render(){}}class tq extends tk{constructor(){super(...arguments);this.type="g"}getBoundingBox(t){var e=new tE;this.children.forEach(r=>{e.addBoundingBox(r.getBoundingBox(t))});return e}}class tG extends tS{constructor(t,e,r){super(t,e,r);this.attributesToInherit=["gradientUnits"];this.stops=[];var{stops:i,children:a}=this;a.forEach(t=>{if(t.type==="stop"){i.push(t)}})}getGradientUnits(){return this.getAttribute("gradientUnits").getString("objectBoundingBox")}createGradient(t,e,r){var i=this;if(this.getHrefAttribute().hasValue()){i=this.getHrefAttribute().getDefinition();this.inheritStopContainer(i)}var{stops:a}=i;var s=this.getGradient(t,e);if(!s){return this.addParentOpacity(r,a[a.length-1].color)}a.forEach(t=>{s.addColorStop(t.offset,this.addParentOpacity(r,t.color))});if(this.getAttribute("gradientTransform").hasValue()){var{document:n}=this;var{MAX_VIRTUAL_PIXELS:h,viewPort:o}=n.screen;var[l]=o.viewPorts;var u=new tI(n,null);u.attributes.x=new te(n,"x",-h/3);u.attributes.y=new te(n,"y",-h/3);u.attributes.width=new te(n,"width",h);u.attributes.height=new te(n,"height",h);var g=new tq(n,null);g.attributes.transform=new te(n,"transform",this.getAttribute("gradientTransform").getValue());g.children=[u];var c=new tL(n,null);c.attributes.x=new te(n,"x",0);c.attributes.y=new te(n,"y",0);c.attributes.width=new te(n,"width",l.width);c.attributes.height=new te(n,"height",l.height);c.children=[g];var f=n.createCanvas(l.width,l.height);var v=f.getContext("2d");v.fillStyle=s;c.render(v);return v.createPattern(f,"no-repeat")}return s}inheritStopContainer(t){this.attributesToInherit.forEach(e=>{if(!this.getAttribute(e).hasValue()&&t.getAttribute(e).hasValue()){this.getAttribute(e,true).setValue(t.getAttribute(e).getValue())}})}addParentOpacity(t,e){if(t.hasValue()){var r=new te(this.document,"color",e);return r.addOpacity(t).getColor()}return e}}class tY extends tG{constructor(t,e,r){super(t,e,r);this.type="linearGradient";this.attributesToInherit.push("x1","y1","x2","y2")}getGradient(t,e){var r=this.getGradientUnits()==="objectBoundingBox";var i=r?e.getBoundingBox(t):null;if(r&&!i){return null}if(!this.getAttribute("x1").hasValue()&&!this.getAttribute("y1").hasValue()&&!this.getAttribute("x2").hasValue()&&!this.getAttribute("y2").hasValue()){this.getAttribute("x1",true).setValue(0);this.getAttribute("y1",true).setValue(0);this.getAttribute("x2",true).setValue(1);this.getAttribute("y2",true).setValue(0)}var a=r?i.x+i.width*this.getAttribute("x1").getNumber():this.getAttribute("x1").getPixels("x");var s=r?i.y+i.height*this.getAttribute("y1").getNumber():this.getAttribute("y1").getPixels("y");var n=r?i.x+i.width*this.getAttribute("x2").getNumber():this.getAttribute("x2").getPixels("x");var h=r?i.y+i.height*this.getAttribute("y2").getNumber():this.getAttribute("y2").getPixels("y");if(a===n&&s===h){return null}return t.createLinearGradient(a,s,n,h)}}class tQ extends tG{constructor(t,e,r){super(t,e,r);this.type="radialGradient";this.attributesToInherit.push("cx","cy","r","fx","fy","fr")}getGradient(t,e){var r=this.getGradientUnits()==="objectBoundingBox";var i=e.getBoundingBox(t);if(r&&!i){return null}if(!this.getAttribute("cx").hasValue()){this.getAttribute("cx",true).setValue("50%")}if(!this.getAttribute("cy").hasValue()){this.getAttribute("cy",true).setValue("50%")}if(!this.getAttribute("r").hasValue()){this.getAttribute("r",true).setValue("50%")}var a=r?i.x+i.width*this.getAttribute("cx").getNumber():this.getAttribute("cx").getPixels("x");var s=r?i.y+i.height*this.getAttribute("cy").getNumber():this.getAttribute("cy").getPixels("y");var n=a;var h=s;if(this.getAttribute("fx").hasValue()){n=r?i.x+i.width*this.getAttribute("fx").getNumber():this.getAttribute("fx").getPixels("x")}if(this.getAttribute("fy").hasValue()){h=r?i.y+i.height*this.getAttribute("fy").getNumber():this.getAttribute("fy").getPixels("y")}var o=r?(i.width+i.height)/2*this.getAttribute("r").getNumber():this.getAttribute("r").getPixels();var l=this.getAttribute("fr").getPixels();return t.createRadialGradient(n,h,l,a,s,o)}}class t$ extends tS{constructor(t,e,r){super(t,e,r);this.type="stop";var i=Math.max(0,Math.min(1,this.getAttribute("offset").getNumber()));var a=this.getStyle("stop-opacity");var s=this.getStyle("stop-color",true);if(s.getString()===""){s.setValue("#000")}if(a.hasValue()){s=s.addOpacity(a)}this.offset=i;this.color=s.getColor()}}class tZ extends tS{constructor(t,e,r){super(t,e,r);this.type="animate";this.duration=0;this.initialValue=null;this.initialUnits="";this.removed=false;this.frozen=false;t.screen.animations.push(this);this.begin=this.getAttribute("begin").getMilliseconds();this.maxDuration=this.begin+this.getAttribute("dur").getMilliseconds();this.from=this.getAttribute("from");this.to=this.getAttribute("to");this.values=new te(t,"values",null);var i=this.getAttribute("values");if(i.hasValue()){this.values.setValue(i.getString().split(";"))}}getProperty(){var t=this.getAttribute("attributeType").getString();var e=this.getAttribute("attributeName").getString();if(t==="CSS"){return this.parent.getStyle(e,true)}return this.parent.getAttribute(e,true)}calcValue(){var{initialUnits:t}=this;var{progress:e,from:r,to:i}=this.getProgress();var a=r.getNumber()+(i.getNumber()-r.getNumber())*e;if(t==="%"){a*=100}return"".concat(a).concat(t)}update(t){var{parent:e}=this;var r=this.getProperty();if(!this.initialValue){this.initialValue=r.getString();this.initialUnits=r.getUnits()}if(this.duration>this.maxDuration){var i=this.getAttribute("fill").getString("remove");if(this.getAttribute("repeatCount").getString()==="indefinite"||this.getAttribute("repeatDur").getString()==="indefinite"){this.duration=0}else if(i==="freeze"&&!this.frozen){this.frozen=true;e.animationFrozen=true;e.animationFrozenValue=r.getString()}else if(i==="remove"&&!this.removed){this.removed=true;r.setValue(e.animationFrozen?e.animationFrozenValue:this.initialValue);return true}return false}this.duration+=t;var a=false;if(this.begin<this.duration){var s=this.calcValue();var n=this.getAttribute("type");if(n.hasValue()){var h=n.getString();s="".concat(h,"(").concat(s,")")}r.setValue(s);a=true}return a}getProgress(){var{document:t,values:e}=this;var r={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(e.hasValue()){var i=r.progress*(e.getValue().length-1);var a=Math.floor(i);var s=Math.ceil(i);r.from=new te(t,"from",parseFloat(e.getValue()[a]));r.to=new te(t,"to",parseFloat(e.getValue()[s]));r.progress=(i-a)/(s-a)}else{r.from=this.from;r.to=this.to}return r}}class tJ extends tZ{constructor(){super(...arguments);this.type="animateColor"}calcValue(){var{progress:t,from:e,to:r}=this.getProgress();var i=new p(e.getColor());var a=new p(r.getColor());if(i.ok&&a.ok){var s=i.r+(a.r-i.r)*t;var n=i.g+(a.g-i.g)*t;var h=i.b+(a.b-i.b)*t;return"rgb(".concat(Math.floor(s),", ").concat(Math.floor(n),", ").concat(Math.floor(h),")")}return this.getAttribute("from").getColor()}}class tK extends tZ{constructor(){super(...arguments);this.type="animateTransform"}calcValue(){var{progress:t,from:e,to:r}=this.getProgress();var i=k(e.getString());var a=k(r.getString());var s=i.map((e,r)=>{var i=a[r];return e+(i-e)*t}).join(" ");return s}}class t0 extends tS{constructor(t,e,r){super(t,e,r);this.type="font";this.glyphs=Object.create(null);this.horizAdvX=this.getAttribute("horiz-adv-x").getNumber();var{definitions:i}=t;var{children:a}=this;for(var s of a){switch(s.type){case"font-face":{this.fontFace=s;var n=s.getStyle("font-family");if(n.hasValue()){i[n.getString()]=this}break}case"missing-glyph":this.missingGlyph=s;break;case"glyph":{var h=s;if(h.arabicForm){this.isRTL=true;this.isArabic=true;if(typeof this.glyphs[h.unicode]==="undefined"){this.glyphs[h.unicode]=Object.create(null)}this.glyphs[h.unicode][h.arabicForm]=h}else{this.glyphs[h.unicode]=h}break}}}}render(){}}class t1 extends tS{constructor(t,e,r){super(t,e,r);this.type="font-face";this.ascent=this.getAttribute("ascent").getNumber();this.descent=this.getAttribute("descent").getNumber();this.unitsPerEm=this.getAttribute("units-per-em").getNumber()}}class t2 extends tO{constructor(){super(...arguments);this.type="missing-glyph";this.horizAdvX=0}}class t3 extends tB{constructor(){super(...arguments);this.type="tref"}getText(){var t=this.getHrefAttribute().getDefinition();if(t){var e=t.children[0];if(e){return e.getText()}}return""}}class t5 extends tB{constructor(t,e,r){super(t,e,r);this.type="a";var{childNodes:i}=e;var a=i[0];var s=i.length>0&&Array.from(i).every(t=>t.nodeType===3);this.hasText=s;this.text=s?this.getTextFromNode(a):""}getText(){return this.text}renderChildren(t){if(this.hasText){super.renderChildren(t);var{document:e,x:r,y:i}=this;var{mouse:a}=e.screen;var s=new te(e,"fontSize",tV.parse(e.ctx.font).fontSize);if(a.isWorking()){a.checkBoundingBox(this,new tE(r,i-s.getPixels("y"),r+this.measureText(t),i))}}else if(this.children.length>0){var n=new tq(this.document,null);n.children=this.children;n.parent=this;n.render(t)}}onClick(){var{window:t}=this.document;if(t){t.open(this.getHrefAttribute().getString())}}onMouseMove(){var t=this.document.ctx;t.canvas.style.cursor="pointer"}}function t4(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);if(e){i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}r.push.apply(r,i)}return r}function t7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){t4(Object(r),true).forEach(function(e){(0,u.A)(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{t4(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}class t8 extends tB{constructor(t,e,r){super(t,e,r);this.type="textPath";this.textWidth=0;this.textHeight=0;this.pathLength=-1;this.glyphInfo=null;this.letterSpacingCache=[];this.measuresCache=new Map([["",0]]);var i=this.getHrefAttribute().getDefinition();this.text=this.getTextFromNode();this.dataArray=this.parsePathData(i)}getText(){return this.text}path(t){var{dataArray:e}=this;if(t){t.beginPath()}e.forEach(e=>{var{type:r,points:i}=e;switch(r){case tM.LINE_TO:if(t){t.lineTo(i[0],i[1])}break;case tM.MOVE_TO:if(t){t.moveTo(i[0],i[1])}break;case tM.CURVE_TO:if(t){t.bezierCurveTo(i[0],i[1],i[2],i[3],i[4],i[5])}break;case tM.QUAD_TO:if(t){t.quadraticCurveTo(i[0],i[1],i[2],i[3])}break;case tM.ARC:{var[a,s,n,h,o,l,u,g]=i;var c=n>h?n:h;var f=n>h?1:n/h;var v=n>h?h/n:1;if(t){t.translate(a,s);t.rotate(u);t.scale(f,v);t.arc(0,0,c,o,o+l,Boolean(1-g));t.scale(1/f,1/v);t.rotate(-u);t.translate(-a,-s)}break}case tM.CLOSE_PATH:if(t){t.closePath()}break}})}renderChildren(t){this.setTextData(t);t.save();var e=this.parent.getStyle("text-decoration").getString();var r=this.getFontSize();var{glyphInfo:i}=this;var a=t.fillStyle;if(e==="underline"){t.beginPath()}i.forEach((i,a)=>{var{p0:s,p1:n,rotation:h,text:o}=i;t.save();t.translate(s.x,s.y);t.rotate(h);if(t.fillStyle){t.fillText(o,0,0)}if(t.strokeStyle){t.strokeText(o,0,0)}t.restore();if(e==="underline"){if(a===0){t.moveTo(s.x,s.y+r/8)}t.lineTo(n.x,n.y+r/5)}});if(e==="underline"){t.lineWidth=r/20;t.strokeStyle=a;t.stroke();t.closePath()}t.restore()}getLetterSpacingAt(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;return this.letterSpacingCache[t]||0}findSegmentToFitChar(t,e,r,i,a,s,n,h,o){var l=s;var u=this.measureText(t,h);if(h===" "&&e==="justify"&&r<i){u+=(i-r)/a}if(o>-1){l+=this.getLetterSpacingAt(o)}var g=this.textHeight/20;var c=this.getEquidistantPointOnPath(l,g,0);var f=this.getEquidistantPointOnPath(l+u,g,0);var v={p0:c,p1:f};var d=c&&f?Math.atan2(f.y-c.y,f.x-c.x):0;if(n){var p=Math.cos(Math.PI/2+d)*n;var y=Math.cos(-d)*n;v.p0=t7(t7({},c),{},{x:c.x+p,y:c.y+y});v.p1=t7(t7({},f),{},{x:f.x+p,y:f.y+y})}l+=u;return{offset:l,segment:v,rotation:d}}measureText(t,e){var{measuresCache:r}=this;var i=e||this.getText();if(r.has(i)){return r.get(i)}var a=this.measureTargetText(t,i);r.set(i,a);return a}setTextData(t){if(this.glyphInfo){return}var e=this.getText();var r=e.split("");var i=e.split(" ").length-1;var a=this.parent.getAttribute("dx").split().map(t=>t.getPixels("x"));var s=this.parent.getAttribute("dy").getPixels("y");var n=this.parent.getStyle("text-anchor").getString("start");var h=this.getStyle("letter-spacing");var o=this.parent.getStyle("letter-spacing");var l=0;if(!h.hasValue()||h.getValue()==="inherit"){l=o.getPixels()}else if(h.hasValue()){if(h.getValue()!=="initial"&&h.getValue()!=="unset"){l=h.getPixels()}}var u=[];var g=e.length;this.letterSpacingCache=u;for(var c=0;c<g;c++){u.push(typeof a[c]!=="undefined"?a[c]:l)}var f=u.reduce((t,e,r)=>r===0?0:t+e||0,0);var v=this.measureText(t);var d=Math.max(v+f,0);this.textWidth=v;this.textHeight=this.getFontSize();this.glyphInfo=[];var p=this.getPathLength();var y=this.getStyle("startOffset").getNumber(0)*p;var m=0;if(n==="middle"||n==="center"){m=-d/2}if(n==="end"||n==="right"){m=-d}m+=y;r.forEach((e,a)=>{var{offset:h,segment:o,rotation:l}=this.findSegmentToFitChar(t,n,d,p,i,m,s,e,a);m=h;if(!o.p0||!o.p1){return}this.glyphInfo.push({text:r[a],p0:o.p0,p1:o.p1,rotation:l})})}parsePathData(t){this.pathLength=-1;if(!t){return[]}var e=[];var{pathParser:r}=t;r.reset();while(!r.isEnd()){var{current:i}=r;var a=i?i.x:0;var s=i?i.y:0;var n=r.next();var h=n.type;var o=[];switch(n.type){case tM.MOVE_TO:this.pathM(r,o);break;case tM.LINE_TO:h=this.pathL(r,o);break;case tM.HORIZ_LINE_TO:h=this.pathH(r,o);break;case tM.VERT_LINE_TO:h=this.pathV(r,o);break;case tM.CURVE_TO:this.pathC(r,o);break;case tM.SMOOTH_CURVE_TO:h=this.pathS(r,o);break;case tM.QUAD_TO:this.pathQ(r,o);break;case tM.SMOOTH_QUAD_TO:h=this.pathT(r,o);break;case tM.ARC:o=this.pathA(r);break;case tM.CLOSE_PATH:tO.pathZ(r);break}if(n.type!==tM.CLOSE_PATH){e.push({type:h,points:o,start:{x:a,y:s},pathLength:this.calcLength(a,s,h,o)})}else{e.push({type:tM.CLOSE_PATH,points:[],pathLength:0})}}return e}pathM(t,e){var{x:r,y:i}=tO.pathM(t).point;e.push(r,i)}pathL(t,e){var{x:r,y:i}=tO.pathL(t).point;e.push(r,i);return tM.LINE_TO}pathH(t,e){var{x:r,y:i}=tO.pathH(t).point;e.push(r,i);return tM.LINE_TO}pathV(t,e){var{x:r,y:i}=tO.pathV(t).point;e.push(r,i);return tM.LINE_TO}pathC(t,e){var{point:r,controlPoint:i,currentPoint:a}=tO.pathC(t);e.push(r.x,r.y,i.x,i.y,a.x,a.y)}pathS(t,e){var{point:r,controlPoint:i,currentPoint:a}=tO.pathS(t);e.push(r.x,r.y,i.x,i.y,a.x,a.y);return tM.CURVE_TO}pathQ(t,e){var{controlPoint:r,currentPoint:i}=tO.pathQ(t);e.push(r.x,r.y,i.x,i.y)}pathT(t,e){var{controlPoint:r,currentPoint:i}=tO.pathT(t);e.push(r.x,r.y,i.x,i.y);return tM.QUAD_TO}pathA(t){var{rX:e,rY:r,sweepFlag:i,xAxisRotation:a,centp:s,a1:n,ad:h}=tO.pathA(t);if(i===0&&h>0){h-=2*Math.PI}if(i===1&&h<0){h+=2*Math.PI}return[s.x,s.y,e,r,n,h,a,i]}calcLength(t,e,r,i){var a=0;var s=null;var n=null;var h=0;switch(r){case tM.LINE_TO:return this.getLineLength(t,e,i[0],i[1]);case tM.CURVE_TO:a=0;s=this.getPointOnCubicBezier(0,t,e,i[0],i[1],i[2],i[3],i[4],i[5]);for(h=.01;h<=1;h+=.01){n=this.getPointOnCubicBezier(h,t,e,i[0],i[1],i[2],i[3],i[4],i[5]);a+=this.getLineLength(s.x,s.y,n.x,n.y);s=n}return a;case tM.QUAD_TO:a=0;s=this.getPointOnQuadraticBezier(0,t,e,i[0],i[1],i[2],i[3]);for(h=.01;h<=1;h+=.01){n=this.getPointOnQuadraticBezier(h,t,e,i[0],i[1],i[2],i[3]);a+=this.getLineLength(s.x,s.y,n.x,n.y);s=n}return a;case tM.ARC:{a=0;var o=i[4];var l=i[5];var u=i[4]+l;var g=Math.PI/180;if(Math.abs(o-u)<g){g=Math.abs(o-u)}s=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],o,0);if(l<0){for(h=o-g;h>u;h-=g){n=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0);a+=this.getLineLength(s.x,s.y,n.x,n.y);s=n}}else{for(h=o+g;h<u;h+=g){n=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0);a+=this.getLineLength(s.x,s.y,n.x,n.y);s=n}}n=this.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],u,0);a+=this.getLineLength(s.x,s.y,n.x,n.y);return a}}return 0}getPointOnLine(t,e,r,i,a){var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:e;var n=arguments.length>6&&arguments[6]!==undefined?arguments[6]:r;var h=(a-r)/(i-e+W);var o=Math.sqrt(t*t/(1+h*h));if(i<e){o*=-1}var l=h*o;var u=null;if(i===e){u={x:s,y:n+l}}else if((n-r)/(s-e+W)===h){u={x:s+o,y:n+l}}else{var g=0;var c=0;var f=this.getLineLength(e,r,i,a);if(f<W){return null}var v=(s-e)*(i-e)+(n-r)*(a-r);v/=f*f;g=e+v*(i-e);c=r+v*(a-r);var d=this.getLineLength(s,n,g,c);var p=Math.sqrt(t*t-d*d);o=Math.sqrt(p*p/(1+h*h));if(i<e){o*=-1}l=h*o;u={x:g+o,y:c+l}}return u}getPointOnPath(t){var e=this.getPathLength();var r=0;var i=null;if(t<-5e-5||t-5e-5>e){return null}var{dataArray:a}=this;for(var s of a){if(s&&(s.pathLength<5e-5||r+s.pathLength+5e-5<t)){r+=s.pathLength;continue}var n=t-r;var h=0;switch(s.type){case tM.LINE_TO:i=this.getPointOnLine(n,s.start.x,s.start.y,s.points[0],s.points[1],s.start.x,s.start.y);break;case tM.ARC:{var o=s.points[4];var l=s.points[5];var u=s.points[4]+l;h=o+n/s.pathLength*l;if(l<0&&h<u||l>=0&&h>u){break}i=this.getPointOnEllipticalArc(s.points[0],s.points[1],s.points[2],s.points[3],h,s.points[6]);break}case tM.CURVE_TO:h=n/s.pathLength;if(h>1){h=1}i=this.getPointOnCubicBezier(h,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3],s.points[4],s.points[5]);break;case tM.QUAD_TO:h=n/s.pathLength;if(h>1){h=1}i=this.getPointOnQuadraticBezier(h,s.start.x,s.start.y,s.points[0],s.points[1],s.points[2],s.points[3]);break}if(i){return i}break}return null}getLineLength(t,e,r,i){return Math.sqrt((r-t)*(r-t)+(i-e)*(i-e))}getPathLength(){if(this.pathLength===-1){this.pathLength=this.dataArray.reduce((t,e)=>e.pathLength>0?t+e.pathLength:t,0)}return this.pathLength}getPointOnCubicBezier(t,e,r,i,a,s,n,h,o){var l=h*Y(t)+s*Q(t)+i*$(t)+e*Z(t);var u=o*Y(t)+n*Q(t)+a*$(t)+r*Z(t);return{x:l,y:u}}getPointOnQuadraticBezier(t,e,r,i,a,s,n){var h=s*J(t)+i*K(t)+e*tt(t);var o=n*J(t)+a*K(t)+r*tt(t);return{x:h,y:o}}getPointOnEllipticalArc(t,e,r,i,a,s){var n=Math.cos(s);var h=Math.sin(s);var o={x:r*Math.cos(a),y:i*Math.sin(a)};return{x:t+(o.x*n-o.y*h),y:e+(o.x*h+o.y*n)}}buildEquidistantCache(t,e){var r=this.getPathLength();var i=e||.25;var a=t||r/100;if(!this.equidistantCache||this.equidistantCache.step!==a||this.equidistantCache.precision!==i){this.equidistantCache={step:a,precision:i,points:[]};var s=0;for(var n=0;n<=r;n+=i){var h=this.getPointOnPath(n);var o=this.getPointOnPath(n+i);if(!h||!o){continue}s+=this.getLineLength(h.x,h.y,o.x,o.y);if(s>=a){this.equidistantCache.points.push({x:h.x,y:h.y,distance:n});s-=a}}}}getEquidistantPointOnPath(t,e,r){this.buildEquidistantCache(e,r);if(t<0||t-this.getPathLength()>5e-5){return null}var i=Math.round(t/this.getPathLength()*(this.equidistantCache.points.length-1));return this.equidistantCache.points[i]||null}}var t9=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*)$/i;class t6 extends tk{constructor(t,e,r){super(t,e,r);this.type="image";this.loaded=false;var i=this.getHrefAttribute().getString();if(!i){return}var a=i.endsWith(".svg")||/^\s*data:image\/svg\+xml/i.test(i);t.images.push(this);if(!a){void this.loadImage(i)}else{void this.loadSvg(i)}this.isSvg=a}loadImage(t){var e=this;return(0,a.A)(function*(){try{var r=yield e.document.createImage(t);e.image=r}catch(e){console.error('Error while loading image "'.concat(t,'":'),e)}e.loaded=true})()}loadSvg(t){var e=this;return(0,a.A)(function*(){var r=t9.exec(t);if(r){var i=r[5];if(r[4]==="base64"){e.image=atob(i)}else{e.image=decodeURIComponent(i)}}else{try{var a=yield e.document.fetch(t);var s=yield a.text();e.image=s}catch(e){console.error('Error while loading image "'.concat(t,'":'),e)}}e.loaded=true})()}renderChildren(t){var{document:e,image:r,loaded:i}=this;var a=this.getAttribute("x").getPixels("x");var s=this.getAttribute("y").getPixels("y");var n=this.getStyle("width").getPixels("x");var h=this.getStyle("height").getPixels("y");if(!i||!r||!n||!h){return}t.save();t.translate(a,s);if(this.isSvg){var o=e.canvg.forkString(t,this.image,{ignoreMouse:true,ignoreAnimation:true,ignoreDimensions:true,ignoreClear:true,offsetX:0,offsetY:0,scaleWidth:n,scaleHeight:h});o.document.documentElement.parent=this;void o.render()}else{var l=this.image;e.setViewBox({ctx:t,aspectRatio:this.getAttribute("preserveAspectRatio").getString(),width:n,desiredWidth:l.width,height:h,desiredHeight:l.height});if(this.loaded){if(typeof l.complete==="undefined"||l.complete){t.drawImage(l,0,0)}}}t.restore()}getBoundingBox(){var t=this.getAttribute("x").getPixels("x");var e=this.getAttribute("y").getPixels("y");var r=this.getStyle("width").getPixels("x");var i=this.getStyle("height").getPixels("y");return new tE(t,e,t+r,e+i)}}class et extends tk{constructor(){super(...arguments);this.type="symbol"}render(t){}}class ee{constructor(t){this.document=t;this.loaded=false;t.fonts.push(this)}load(t,e){var r=this;return(0,a.A)(function*(){try{var{document:i}=r;var a=yield i.canvg.parser.load(e);var s=a.getElementsByTagName("font");Array.from(s).forEach(e=>{var r=i.createElement(e);i.definitions[t]=r})}catch(t){console.error('Error while loading font "'.concat(e,'":'),t)}r.loaded=true})()}}class er extends tS{constructor(t,e,r){super(t,e,r);this.type="style";var i=V(Array.from(e.childNodes).map(t=>t.textContent).join("").replace(/(\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,"").replace(/@import.*;/g,""));var a=i.split("}");a.forEach(e=>{var r=e.trim();if(!r){return}var i=r.split("{");var a=i[0].split(",");var s=i[1].split(";");a.forEach(e=>{var r=e.trim();if(!r){return}var i=t.styles[r]||{};s.forEach(e=>{var r=e.indexOf(":");var a=e.substr(0,r).trim();var s=e.substr(r+1,e.length-r).trim();if(a&&s){i[a]=new te(t,a,s)}});t.styles[r]=i;t.stylesSpecificity[r]=U(r);if(r==="@font-face"){var a=i["font-family"].getString().replace(/"|'/g,"");var n=i.src.getString().split(",");n.forEach(e=>{if(e.indexOf('format("svg")')>0){var r=B(e);if(r){void new ee(t).load(a,r)}}})}})})}}er.parseExternalUrl=B;class ei extends tk{constructor(){super(...arguments);this.type="use"}setContext(t){super.setContext(t);var e=this.getAttribute("x");var r=this.getAttribute("y");if(e.hasValue()){t.translate(e.getPixels("x"),0)}if(r.hasValue()){t.translate(0,r.getPixels("y"))}}path(t){var{element:e}=this;if(e){e.path(t)}}renderChildren(t){var{document:e,element:r}=this;if(r){var i=r;if(r.type==="symbol"){i=new tL(e,null);i.attributes.viewBox=new te(e,"viewBox",r.getAttribute("viewBox").getString());i.attributes.preserveAspectRatio=new te(e,"preserveAspectRatio",r.getAttribute("preserveAspectRatio").getString());i.attributes.overflow=new te(e,"overflow",r.getAttribute("overflow").getString());i.children=r.children;r.styles.opacity=new te(e,"opacity",this.calculateOpacity())}if(i.type==="svg"){var a=this.getStyle("width",false,true);var s=this.getStyle("height",false,true);if(a.hasValue()){i.attributes.width=new te(e,"width",a.getString())}if(s.hasValue()){i.attributes.height=new te(e,"height",s.getString())}}var n=i.parent;i.parent=this;i.render(t);i.parent=n}}getBoundingBox(t){var{element:e}=this;if(e){return e.getBoundingBox(t)}return null}elementTransform(){var{document:t,element:e}=this;return tb.fromElement(t,e)}get element(){if(!this.cachedElement){this.cachedElement=this.getHrefAttribute().getDefinition()}return this.cachedElement}}function ea(t,e,r,i,a,s){return t[r*i*4+e*4+s]}function es(t,e,r,i,a,s,n){t[r*i*4+e*4+s]=n}function en(t,e,r){var i=t[e];return i*r}function eh(t,e,r,i){return e+Math.cos(t)*r+Math.sin(t)*i}class eo extends tS{constructor(t,e,r){super(t,e,r);this.type="feColorMatrix";var i=k(this.getAttribute("values").getString());switch(this.getAttribute("type").getString("matrix")){case"saturate":{var a=i[0];i=[.213+.787*a,.715-.715*a,.072-.072*a,0,0,.213-.213*a,.715+.285*a,.072-.072*a,0,0,.213-.213*a,.715-.715*a,.072+.928*a,0,0,0,0,0,1,0,0,0,0,0,1];break}case"hueRotate":{var s=i[0]*Math.PI/180;i=[eh(s,.213,.787,-.213),eh(s,.715,-.715,-.715),eh(s,.072,-.072,.928),0,0,eh(s,.213,-.213,.143),eh(s,.715,.285,.14),eh(s,.072,-.072,-.283),0,0,eh(s,.213,-.213,-.787),eh(s,.715,-.715,.715),eh(s,.072,.928,.072),0,0,0,0,0,1,0,0,0,0,0,1];break}case"luminanceToAlpha":i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,.2125,.7154,.0721,0,0,0,0,0,0,1];break}this.matrix=i;this.includeOpacity=this.getAttribute("includeOpacity").hasValue()}apply(t,e,r,i,a){var{includeOpacity:s,matrix:n}=this;var h=t.getImageData(0,0,i,a);for(var o=0;o<a;o++){for(var l=0;l<i;l++){var u=ea(h.data,l,o,i,a,0);var g=ea(h.data,l,o,i,a,1);var c=ea(h.data,l,o,i,a,2);var f=ea(h.data,l,o,i,a,3);var v=en(n,0,u)+en(n,1,g)+en(n,2,c)+en(n,3,f)+en(n,4,1);var d=en(n,5,u)+en(n,6,g)+en(n,7,c)+en(n,8,f)+en(n,9,1);var p=en(n,10,u)+en(n,11,g)+en(n,12,c)+en(n,13,f)+en(n,14,1);var y=en(n,15,u)+en(n,16,g)+en(n,17,c)+en(n,18,f)+en(n,19,1);if(s){v=0;d=0;p=0;y*=f/255}es(h.data,l,o,i,a,0,v);es(h.data,l,o,i,a,1,d);es(h.data,l,o,i,a,2,p);es(h.data,l,o,i,a,3,y)}}t.clearRect(0,0,i,a);t.putImageData(h,0,0)}}class el extends tS{constructor(){super(...arguments);this.type="mask"}apply(t,e){var{document:r}=this;var i=this.getAttribute("x").getPixels("x");var a=this.getAttribute("y").getPixels("y");var s=this.getStyle("width").getPixels("x");var n=this.getStyle("height").getPixels("y");if(!s&&!n){var h=new tE;this.children.forEach(e=>{h.addBoundingBox(e.getBoundingBox(t))});i=Math.floor(h.x1);a=Math.floor(h.y1);s=Math.floor(h.width);n=Math.floor(h.height)}var o=this.removeStyles(e,el.ignoreStyles);var l=r.createCanvas(i+s,a+n);var u=l.getContext("2d");r.screen.setDefaults(u);this.renderChildren(u);new eo(r,{nodeType:1,childNodes:[],attributes:[{nodeName:"type",value:"luminanceToAlpha"},{nodeName:"includeOpacity",value:"true"}]}).apply(u,0,0,i+s,a+n);var g=r.createCanvas(i+s,a+n);var c=g.getContext("2d");r.screen.setDefaults(c);e.render(c);c.globalCompositeOperation="destination-in";c.fillStyle=u.createPattern(l,"no-repeat");c.fillRect(0,0,i+s,a+n);t.fillStyle=c.createPattern(g,"no-repeat");t.fillRect(0,0,i+s,a+n);this.restoreStyles(e,o)}render(t){}}el.ignoreStyles=["mask","transform","clip-path"];var eu=()=>{};class eg extends tS{constructor(){super(...arguments);this.type="clipPath"}apply(t){var{document:e}=this;var r=Reflect.getPrototypeOf(t);var{beginPath:i,closePath:a}=t;if(r){r.beginPath=eu;r.closePath=eu}Reflect.apply(i,t,[]);this.children.forEach(i=>{if(typeof i.path==="undefined"){return}var s=typeof i.elementTransform!=="undefined"?i.elementTransform():null;if(!s){s=tb.fromElement(e,i)}if(s){s.apply(t)}i.path(t);if(r){r.closePath=a}if(s){s.unapply(t)}});Reflect.apply(a,t,[]);t.clip();if(r){r.beginPath=i;r.closePath=a}}render(t){}}class ec extends tS{constructor(){super(...arguments);this.type="filter"}apply(t,e){var{document:r,children:i}=this;var a=e.getBoundingBox(t);if(!a){return}var s=0;var n=0;i.forEach(t=>{var e=t.extraFilterDistance||0;s=Math.max(s,e);n=Math.max(n,e)});var h=Math.floor(a.width);var o=Math.floor(a.height);var l=h+2*s;var u=o+2*n;if(l<1||u<1){return}var g=Math.floor(a.x);var c=Math.floor(a.y);var f=this.removeStyles(e,ec.ignoreStyles);var v=r.createCanvas(l,u);var d=v.getContext("2d");r.screen.setDefaults(d);d.translate(-g+s,-c+n);e.render(d);i.forEach(t=>{if(typeof t.apply==="function"){t.apply(d,0,0,l,u)}});t.drawImage(v,0,0,l,u,g-s,c-n,l,u);this.restoreStyles(e,f)}render(t){}}ec.ignoreStyles=["filter","transform","clip-path"];class ef extends tS{constructor(t,e,r){super(t,e,r);this.type="feDropShadow";this.addStylesFromStyleDefinition()}apply(t,e,r,i,a){}}class ev extends tS{constructor(){super(...arguments);this.type="feMorphology"}apply(t,e,r,i,a){}}class ed extends tS{constructor(){super(...arguments);this.type="feComposite"}apply(t,e,r,i,a){}}class ep extends tS{constructor(t,e,r){super(t,e,r);this.type="feGaussianBlur";this.blurRadius=Math.floor(this.getAttribute("stdDeviation").getNumber());this.extraFilterDistance=this.blurRadius}apply(t,e,r,i,a){var{document:s,blurRadius:n}=this;var h=s.window?s.window.document.body:null;var o=t.canvas;o.id=s.getUniqueId();if(h){o.style.display="none";h.appendChild(o)}(0,w.dD)(o,e,r,i,a,n);if(h){h.removeChild(o)}}}class ey extends tS{constructor(){super(...arguments);this.type="title"}}class em extends tS{constructor(){super(...arguments);this.type="desc"}}var ex={"svg":tL,"rect":tI,"circle":tR,"ellipse":tF,"line":t_,"polyline":tj,"polygon":tX,"path":tO,"pattern":tU,"marker":tW,"defs":tH,"linearGradient":tY,"radialGradient":tQ,"stop":t$,"animate":tZ,"animateColor":tJ,"animateTransform":tK,"font":t0,"font-face":t1,"missing-glyph":t2,"glyph":tN,"text":tB,"tspan":tD,"tref":t3,"a":t5,"textPath":t8,"image":t6,"g":tq,"symbol":et,"style":er,"use":ei,"mask":el,"clipPath":eg,"filter":ec,"feDropShadow":ef,"feMorphology":ev,"feComposite":ed,"feColorMatrix":eo,"feGaussianBlur":ep,"title":ey,"desc":em};function eb(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);if(e){i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}r.push.apply(r,i)}return r}function eS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){eb(Object(r),true).forEach(function(e){(0,u.A)(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{eb(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function ew(t,e){var r=document.createElement("canvas");r.width=t;r.height=e;return r}function eP(t){return eA.apply(this,arguments)}function eA(){eA=(0,a.A)(function*(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var r=document.createElement("img");if(e){r.crossOrigin="Anonymous"}return new Promise((e,i)=>{r.onload=()=>{e(r)};r.onerror=(t,e,r,a,s)=>{i(s)};r.src=t})});return eA.apply(this,arguments)}class eC{constructor(t){var{rootEmSize:e=12,emSize:r=12,createCanvas:i=eC.createCanvas,createImage:a=eC.createImage,anonymousCrossOrigin:s}=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.canvg=t;this.definitions=Object.create(null);this.styles=Object.create(null);this.stylesSpecificity=Object.create(null);this.images=[];this.fonts=[];this.emSizeStack=[];this.uniqueId=0;this.screen=t.screen;this.rootEmSize=e;this.emSize=r;this.createCanvas=i;this.createImage=this.bindCreateImage(a,s);this.screen.wait(this.isImagesLoaded.bind(this));this.screen.wait(this.isFontsLoaded.bind(this))}bindCreateImage(t,e){if(typeof e==="boolean"){return(r,i)=>t(r,typeof i==="boolean"?i:e)}return t}get window(){return this.screen.window}get fetch(){return this.screen.fetch}get ctx(){return this.screen.ctx}get emSize(){var{emSizeStack:t}=this;return t[t.length-1]}set emSize(t){var{emSizeStack:e}=this;e.push(t)}popEmSize(){var{emSizeStack:t}=this;t.pop()}getUniqueId(){return"canvg".concat(++this.uniqueId)}isImagesLoaded(){return this.images.every(t=>t.loaded)}isFontsLoaded(){return this.fonts.every(t=>t.loaded)}createDocumentElement(t){var e=this.createElement(t.documentElement);e.root=true;e.addStylesFromStyleDefinition();this.documentElement=e;return e}createElement(t){var e=t.nodeName.replace(/^[^:]+:/,"");var r=eC.elementTypes[e];if(typeof r!=="undefined"){return new r(this,t)}return new tw(this,t)}createTextNode(t){return new tz(this,t)}setViewBox(t){this.screen.setViewBox(eS({document:this},t))}}eC.createCanvas=ew;eC.createImage=eP;eC.elementTypes=ex;function eT(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);if(e){i=i.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})}r.push.apply(r,i)}return r}function eV(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){eT(Object(r),true).forEach(function(e){(0,u.A)(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{eT(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}class eE{constructor(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};this.parser=new tu(r);this.screen=new th(t,r);this.options=r;var i=new eC(this,r);var a=i.createDocumentElement(e);this.document=i;this.documentElement=a}static from(t,e){var r=arguments;return(0,a.A)(function*(){var i=r.length>2&&r[2]!==undefined?r[2]:{};var a=new tu(i);var s=yield a.parse(e);return new eE(t,s,i)})()}static fromString(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var i=new tu(r);var a=i.parseFromString(e);return new eE(t,a,r)}fork(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return eE.from(t,e,eV(eV({},this.options),r))}forkString(t,e){var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};return eE.fromString(t,e,eV(eV({},this.options),r))}ready(){return this.screen.ready()}isReady(){return this.screen.isReady()}render(){var t=arguments,e=this;return(0,a.A)(function*(){var r=t.length>0&&t[0]!==undefined?t[0]:{};e.start(eV({enableRedraw:true,ignoreAnimation:true,ignoreMouse:true},r));yield e.ready();e.stop()})()}start(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var{documentElement:e,screen:r,options:i}=this;r.start(e,eV(eV({enableRedraw:true},i),t))}stop(){this.screen.stop()}resize(t){var e=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t;var r=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this.documentElement.resize(t,e,r)}}}}]);