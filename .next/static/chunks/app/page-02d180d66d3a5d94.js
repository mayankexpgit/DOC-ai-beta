(self["webpackChunk_N_E"]=self["webpackChunk_N_E"]||[]).push([[974],{23377:(e,t,s)=>{Promise.resolve().then(s.bind(s,46467))},30285:(e,t,s)=>{"use strict";s.d(t,{$:()=>c});var a=s(95155);var n=s(12115);var r=s(66634);var l=s(74466);var i=s(59434);const o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}});const c=n.forwardRef((e,t)=>{let{className:s,variant:n,size:l,asChild:c=false,...d}=e;const u=c?r.DX:"button";return(0,a.jsx)(u,{className:(0,i.cn)(o({variant:n,size:l,className:s})),ref:t,...d})});c.displayName="Button"},46467:(e,t,s)=>{"use strict";s.r(t);s.d(t,{"default":()=>a$});var a=s(95155);var n=s(12115);var r=s(18186);var l=s(15300);var i=s(60706);var o=s(49339);var c=s(18763);var d=s(17850);var u=s(87267);var m=s(72774);var h=s(91721);var x=s(38881);var p=s(24334);var f=s(29817);var g=s(56013);var j=s(33349);var b=s(66634);var v=s(74466);var w=s(15546);const y=768;function N(){const[e,t]=n.useState(undefined);n.useEffect(()=>{const e=window.matchMedia("(max-width: ".concat(y-1,"px)"));const s=()=>{t(window.innerWidth<y)};e.addEventListener("change",s);t(window.innerWidth<y);return()=>e.removeEventListener("change",s)},[]);return!!e}var C=s(59434);var k=s(30285);const S=n.forwardRef((e,t)=>{let{className:s,type:n,...r}=e;return(0,a.jsx)("input",{type:n,className:(0,C.cn)("flex h-10 w-full rounded-md border border-input bg-background/50 px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...r})});S.displayName="Input";var A=s(87489);const P=n.forwardRef((e,t)=>{let{className:s,orientation:n="horizontal",decorative:r=true,...l}=e;return(0,a.jsx)(A.b,{ref:t,decorative:r,orientation:n,className:(0,C.cn)("shrink-0 bg-border",n==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",s),...l})});P.displayName=A.b.displayName;var D=s(45821);var R=s(25318);const z=D.bL;const I=D.l9;const F=D.bm;const T=D.ZL;const L=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(D.hJ,{className:(0,C.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n,ref:t})});L.displayName=D.hJ.displayName;const E=(0,v.F)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}});const M=n.forwardRef((e,t)=>{let{side:s="right",className:n,children:r,...l}=e;return(0,a.jsxs)(T,{children:[(0,a.jsx)(L,{}),(0,a.jsxs)(D.UC,{ref:t,className:(0,C.cn)(E({side:s}),n),...l,children:[r,(0,a.jsxs)(D.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,a.jsx)(R.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});M.displayName=D.UC.displayName;const U=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,C.cn)("flex flex-col space-y-2 text-center sm:text-left",t),...s})};U.displayName="SheetHeader";const _=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,C.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};_.displayName="SheetFooter";const V=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(D.hE,{ref:t,className:(0,C.cn)("text-lg font-semibold text-foreground",s),...n})});V.displayName=D.hE.displayName;const G=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(D.VY,{ref:t,className:(0,C.cn)("text-sm text-muted-foreground",s),...n})});G.displayName=D.VY.displayName;function O(e){let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,C.cn)("animate-pulse rounded-md bg-muted",t),...s})}var B=s(78082);const Y=B.Kq;const H=B.bL;const q=B.l9;const $=n.forwardRef((e,t)=>{let{className:s,sideOffset:n=4,...r}=e;return(0,a.jsx)(B.UC,{ref:t,sideOffset:n,className:(0,C.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})});$.displayName=B.UC.displayName;const Q="sidebar_state";const W=60*60*24*7;const K="16rem";const X="18rem";const J="4rem";const Z="b";const ee=n.createContext(null);function et(){const e=n.useContext(ee);if(!e){throw new Error("useSidebar must be used within a SidebarProvider.")}return e}const es=n.forwardRef((e,t)=>{let{defaultOpen:s=true,open:r,onOpenChange:l,className:i,style:o,children:c,...d}=e;const u=N();const[m,h]=n.useState(false);const[x,p]=n.useState(s);const f=r!==null&&r!==void 0?r:x;const g=n.useCallback(e=>{const t=typeof e==="function"?e(f):e;if(l){l(t)}else{p(t)}document.cookie="".concat(Q,"=").concat(t,"; path=/; max-age=").concat(W)},[l,f]);const j=n.useCallback(()=>{return u?h(e=>!e):g(e=>!e)},[u,g,h]);n.useEffect(()=>{const e=e=>{if(e.key===Z&&(e.metaKey||e.ctrlKey)){e.preventDefault();j()}};window.addEventListener("keydown",e);return()=>window.removeEventListener("keydown",e)},[j]);const b=f?"expanded":"collapsed";const v=n.useMemo(()=>({state:b,open:f,setOpen:g,isMobile:u,openMobile:m,setOpenMobile:h,toggleSidebar:j}),[b,f,g,u,m,h,j]);return(0,a.jsx)(ee.Provider,{value:v,children:(0,a.jsx)(Y,{delayDuration:0,children:(0,a.jsx)("div",{style:{"--sidebar-width":K,"--sidebar-width-icon":J,...o},className:(0,C.cn)("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",i),ref:t,...d,children:c})})})});es.displayName="SidebarProvider";const ea=n.forwardRef((e,t)=>{let{side:s="left",variant:n="sidebar",collapsible:r="offcanvas",className:l,children:i,...o}=e;const{isMobile:c,state:d,openMobile:u,setOpenMobile:m}=et();if(r==="none"){return(0,a.jsx)("div",{className:(0,C.cn)("flex h-full w-[--sidebar-width] flex-col bg-sidebar-background text-sidebar-foreground",l),ref:t,...o,children:i})}if(c){return(0,a.jsx)(z,{open:u,onOpenChange:m,...o,children:(0,a.jsx)(M,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar-background p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":X},side:s,children:(0,a.jsx)("div",{className:"flex h-full w-full flex-col",children:i})})})}return(0,a.jsxs)("div",{ref:t,className:"group peer hidden md:block text-sidebar-foreground","data-state":d,"data-collapsible":d==="collapsed"?r:"","data-variant":n,"data-side":s,children:[(0,a.jsx)("div",{className:(0,C.cn)("duration-200 relative h-svh bg-transparent transition-[width] ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",n==="floating"||n==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]",n==="floating"?"w-0":"w-[--sidebar-width]")}),(0,a.jsx)("div",{className:(0,C.cn)("duration-200 fixed inset-y-0 z-20 hidden h-svh w-[--sidebar-width] transition-[left,right,width] ease-linear md:flex",s==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",n==="floating"||n==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",l),...o,children:(0,a.jsx)("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar-background group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});ea.displayName="Sidebar";const en=n.forwardRef((e,t)=>{let{className:s,onClick:n,...r}=e;const{toggleSidebar:l}=et();return(0,a.jsxs)(k.$,{ref:t,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:(0,C.cn)("h-7 w-7",s),onClick:e=>{n===null||n===void 0?void 0:n(e);l()},...r,children:[(0,a.jsx)(w.A,{}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle Sidebar"})]})});en.displayName="SidebarTrigger";const er=n.forwardRef((e,t)=>{let{className:s,...n}=e;const{toggleSidebar:r}=et();return(0,a.jsx)("button",{ref:t,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:(0,C.cn)("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] hover:after:bg-sidebar-border group-data-[side=left]:-right-4 group-data-[side=right]:left-0 sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",s),...n})});er.displayName="SidebarRail";const el=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("main",{ref:t,className:(0,C.cn)("relative flex min-h-svh flex-1 flex-col transition-[margin-left] duration-200 ease-linear","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))] md:peer-data-[variant=inset]:ml-[calc(var(--sidebar-width)_+_theme(spacing.4))] md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow","peer-data-[variant=sidebar]:md:ml-[var(--sidebar-width)]","md:peer-data-[state=collapsed]:peer-data-[variant=sidebar]:ml-[var(--sidebar-width-icon)]","md:peer-data-[state=collapsed]:peer-data-[collapsible=offcanvas]:peer-data-[variant=sidebar]:ml-0",s),...n})});el.displayName="SidebarInset";const ei=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(S,{ref:t,"data-sidebar":"input",className:(0,C.cn)("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",s),...n})});ei.displayName="SidebarInput";const eo=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"header",className:(0,C.cn)("flex flex-col gap-2",s),...n})});eo.displayName="SidebarHeader";const ec=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"footer",className:(0,C.cn)("flex flex-col gap-2 mt-auto",s),...n})});ec.displayName="SidebarFooter";const ed=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(P,{ref:t,"data-sidebar":"separator",className:(0,C.cn)("mx-2 w-auto bg-sidebar-border",s),...n})});ed.displayName="SidebarSeparator";const eu=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"content",className:(0,C.cn)("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",s),...n})});eu.displayName="SidebarContent";const em=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"group",className:(0,C.cn)("relative flex w-full min-w-0 flex-col p-2",s),...n})});em.displayName="SidebarGroup";const eh=n.forwardRef((e,t)=>{let{className:s,asChild:n=false,...r}=e;const l=n?b.DX:"div";return(0,a.jsx)(l,{ref:t,"data-sidebar":"group-label",className:(0,C.cn)("duration-200 flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",s),...r})});eh.displayName="SidebarGroupLabel";const ex=n.forwardRef((e,t)=>{let{className:s,asChild:n=false,...r}=e;const l=n?b.DX:"button";return(0,a.jsx)(l,{ref:t,"data-sidebar":"group-action",className:(0,C.cn)("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",s),...r})});ex.displayName="SidebarGroupAction";const ep=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"group-content",className:(0,C.cn)("w-full text-sm",s),...n})});ep.displayName="SidebarGroupContent";const ef=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("ul",{ref:t,"data-sidebar":"menu",className:(0,C.cn)("flex w-full min-w-0 flex-col gap-1 p-2",s),...n})});ef.displayName="SidebarMenu";const eg=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("li",{ref:t,"data-sidebar":"menu-item",className:(0,C.cn)("group/menu-item relative",s),...n})});eg.displayName="SidebarMenuItem";const ej=(0,v.F)("peer/menu-button flex w-full items-center gap-3 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-10 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-5 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-10 text-sm",sm:"h-8 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}});const eb=n.forwardRef((e,t)=>{let{asChild:s=false,isActive:n=false,variant:r="default",size:l="default",tooltip:i,className:o,...c}=e;const d=s?b.DX:"button";const{isMobile:u,state:m}=et();const h=(0,a.jsx)(d,{ref:t,"data-sidebar":"menu-button","data-size":l,"data-active":n,className:(0,C.cn)(ej({variant:r,size:l}),o),...c});if(!i){return h}if(typeof i==="string"){i={children:i}}return(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:h}),(0,a.jsx)($,{side:"right",align:"center",hidden:m!=="collapsed"||u,...i})]})});eb.displayName="SidebarMenuButton";const ev=n.forwardRef((e,t)=>{let{className:s,asChild:n=false,showOnHover:r=false,...l}=e;const i=n?b.DX:"button";return(0,a.jsx)(i,{ref:t,"data-sidebar":"menu-action",className:(0,C.cn)("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 peer-hover/menu-button:text-sidebar-accent-foreground [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",r&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",s),...l})});ev.displayName="SidebarMenuAction";const ew=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,"data-sidebar":"menu-badge",className:(0,C.cn)("absolute right-1 flex h-5 min-w-5 items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground select-none pointer-events-none","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",s),...n})});ew.displayName="SidebarMenuBadge";const ey=n.forwardRef((e,t)=>{let{className:s,showIcon:r=false,...l}=e;const i=n.useMemo(()=>{return"".concat(Math.floor(Math.random()*40)+50,"%")},[]);return(0,a.jsxs)("div",{ref:t,"data-sidebar":"menu-skeleton",className:(0,C.cn)("rounded-md h-8 flex gap-2 px-2 items-center",s),...l,children:[r&&(0,a.jsx)(O,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),(0,a.jsx)(O,{className:"h-4 flex-1 max-w-[--skeleton-width]","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});ey.displayName="SidebarMenuSkeleton";const eN=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("ul",{ref:t,"data-sidebar":"menu-sub",className:(0,C.cn)("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",s),...n})});eN.displayName="SidebarMenuSub";const eC=n.forwardRef((e,t)=>{let{...s}=e;return(0,a.jsx)("li",{ref:t,...s})});eC.displayName="SidebarMenuSubItem";const ek=n.forwardRef((e,t)=>{let{asChild:s=false,size:n="md",isActive:r,className:l,...i}=e;const o=s?b.DX:"a";return(0,a.jsx)(o,{ref:t,"data-sidebar":"menu-sub-button","data-size":n,"data-active":r,className:(0,C.cn)("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",n==="sm"&&"text-xs",n==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",l),...i})});ek.displayName="SidebarMenuSubButton";var eS=s(85977);const eA=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eS.bL,{ref:t,className:(0,C.cn)("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",s),...n})});eA.displayName=eS.bL.displayName;const eP=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eS._V,{ref:t,className:(0,C.cn)("aspect-square h-full w-full",s),...n})});eP.displayName=eS._V.displayName;const eD=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(eS.H4,{ref:t,className:(0,C.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",s),...n})});eD.displayName=eS.H4.displayName;const eR=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...e,children:[(0,a.jsx)("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),(0,a.jsx)("polyline",{points:"14 2 14 8 20 8"}),(0,a.jsx)("path",{d:"m11.5 16.5-2-2.5 2-2.5"}),(0,a.jsx)("path",{d:"m9.5 14.5h3"}),(0,a.jsx)("path",{d:"M15.5 12v5"})]});const ez=e=>{const t=n.useId();return(0,a.jsxs)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",...e,children:[(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:t,x1:"0",y1:"0",x2:"1",y2:"1",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"hsl(var(--primary))"}),(0,a.jsx)("stop",{offset:"100%",stopColor:"hsl(var(--secondary))"})]})}),(0,a.jsx)("path",{d:"M15.5 12C15.5 11.5953 15.4214 11.1953 15.2721 10.8236C15.1228 10.4519 14.9066 10.1184 14.6364 9.84818C14.3662 9.57797 14.0327 9.36179 13.661 9.21245C13.2893 9.06312 12.8893 8.98448 12.4846 8.98448C12.0799 8.98448 11.6799 9.06312 11.3082 9.21245C10.9365 9.36179 10.603 9.57797 10.3328 9.84818C10.0626 10.1184 9.84638 10.4519 9.69705 10.8236C9.54772 11.1953 9.46908 11.5953 9.46908 12C9.46908 12.4047 9.54772 12.8047 9.69705 13.1764C9.84638 13.5481 10.0626 13.8816 10.3328 14.1518C10.603 14.422 10.9365 14.6382 11.3082 14.7875C11.6799 14.9369 12.0799 15.0155 12.4846 15.0155C12.8893 15.0155 13.2893 14.9369 13.661 14.7875C14.0327 14.6382 14.3662 14.422 14.6364 14.1518C14.9066 13.8816 15.1228 13.5481 15.2721 13.1764C15.4214 12.8047 15.5 12.4047 15.5 12Z",stroke:"url(#".concat(t,")"),strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",fill:"none"}),(0,a.jsx)("path",{d:"M3.75012 12C3.75012 16.5513 7.69887 20.5 12.2501 20.5C16.8014 20.5 20.7501 16.5513 20.7501 12C20.7501 7.44871 16.8014 3.5 12.2501 3.5C7.69887 3.5 3.75012 7.44871 3.75012 12Z",stroke:"url(#".concat(t,")"),strokeWidth:"2",fill:"none"})]})};const eI=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,C.cn)("rounded-2xl border bg-card text-card-foreground shadow-sm",s),...n})});eI.displayName="Card";const eF=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,C.cn)("flex flex-col space-y-1.5 p-6",s),...n})});eF.displayName="CardHeader";const eT=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h3",{ref:t,className:(0,C.cn)("text-2xl font-semibold leading-none tracking-tight font-headline",s),...n})});eT.displayName="CardTitle";const eL=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("p",{ref:t,className:(0,C.cn)("text-sm text-muted-foreground",s),...n})});eL.displayName="CardDescription";const eE=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,C.cn)("p-6 pt-0",s),...n})});eE.displayName="CardContent";const eM=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,C.cn)("flex items-center p-6 pt-0",s),...n})});eM.displayName="CardFooter";var eU=s(19968);var e_=s(67554);var eV=s(68718);var eG=s(98030);var eO=s(56104);var eB=s(90858);if(!eO.IG){console.warn("Firebase Storage is not configured. Cloud storage features will be disabled.")}async function eY(e,t,s){if(!eO.IG){throw new Error("Firebase Storage is not initialized.")}const a=(0,eB.KR)(eO.IG,"documents/".concat(e,"/").concat(t));const n=await (0,eB.D)(a,s);return(0,eB.qk)(n.ref)}async function eH(e){if(!eO.IG){return[]}const t=(0,eB.KR)(eO.IG,"documents/".concat(e));const s=await (0,eB._w)(t);const a=await Promise.all(s.items.map(async e=>{const t=await (0,eB.qk)(e);const s=await (0,eB.yb)(e);return{name:e.name,url:t,createdAt:new Date(s.timeCreated).getTime()}}));return a}var eq=s(87481);var e$=s(74601);function eQ(e){let{tools:t,setActiveTool:s}=e;const[r]=(0,n.useState)(0);const l=160;const i=t.length;const o=2*Math.PI/i;return(0,a.jsxs)("div",{className:"relative w-96 h-96 flex items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute w-full h-full animate-radial-spin",style:{transform:"rotate(".concat(r,"deg)"),animationDuration:"80s"},children:t.map((e,t)=>{const n=t*o;const i=l*Math.cos(n);const c=l*Math.sin(n);return(0,a.jsx)(Y,{delayDuration:100,children:(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:(0,a.jsx)("button",{onClick:()=>s(e.tool),className:(0,C.cn)("absolute w-20 h-20 rounded-full flex items-center justify-center transition-all duration-300 ease-in-out cursor-pointer","shadow-lg z-10 hover:scale-110 hover:z-20",e.bgColor),style:{top:"calc(50% - 40px)",left:"calc(50% - 40px)",transform:"translate(".concat(i,"px, ").concat(c,"px) rotate(").concat(-r,"deg)")},"aria-label":e.name,children:(0,a.jsx)(e.icon,{className:(0,C.cn)("w-10 h-10",e.color)})})}),(0,a.jsx)($,{side:"top",align:"center",children:(0,a.jsx)("p",{children:e.name})})]})},e.tool)})}),(0,a.jsxs)("div",{className:"absolute w-40 h-40 bg-card rounded-full flex flex-col items-center justify-center text-center p-4 shadow-inner border animate-create-glow group",children:[(0,a.jsx)("div",{className:"absolute inset-0 rounded-full bg-primary/10 transition-opacity opacity-0 group-hover:opacity-100 duration-500"}),(0,a.jsx)("div",{className:"relative z-10 flex flex-col items-center",children:(0,a.jsx)(e$.A,{className:"w-12 h-12 text-primary icon-glow transition-transform duration-500 group-hover:scale-110"})})]}),(0,a.jsx)("div",{className:"absolute w-80 h-80 rounded-full border border-dashed border-primary/20 animate-spin-reverse [animation-duration:60s]"}),(0,a.jsx)("div",{className:"absolute w-[26rem] h-[26rem] rounded-full border border-dotted border-secondary/20 animate-radial-spin [animation-duration:80s]"})]})}var eW=s(61275);var eK=s(89677);var eX=s(17607);const eJ=e=>{switch(e){case"document":return(0,a.jsx)(l.A,{className:"w-6 h-6 text-purple-500"});default:return(0,a.jsx)(l.A,{className:"w-6 h-6 text-gray-500"})}};function eZ(e){let{item:t,onSelect:s}=e;const n=(0,eK.m)(new Date(t.timestamp),{addSuffix:true});const r=e=>{e.stopPropagation();s(t)};return(0,a.jsxs)(eI,{className:"group cursor-pointer transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5 flex flex-col",onClick:()=>s(t),children:[(0,a.jsxs)(eF,{className:"flex-row items-start gap-4 space-y-0 pb-4",children:[(0,a.jsx)("div",{className:"w-12 h-12 flex items-center justify-center bg-purple-100 dark:bg-purple-900/30 rounded-lg",children:eJ(t.type)}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(eT,{className:"text-base leading-snug",children:t.title}),(0,a.jsx)(eL,{className:"text-xs",children:n})]})]}),(0,a.jsxs)(eM,{className:"mt-auto flex justify-end gap-2 p-2 pt-0",children:[(0,a.jsxs)(k.$,{size:"sm",variant:"ghost",onClick:()=>s(t),children:[(0,a.jsx)(eX.A,{className:"mr-2 h-4 w-4"})," View"]}),(0,a.jsxs)(k.$,{size:"sm",variant:"ghost",onClick:r,children:[(0,a.jsx)(eV.A,{className:"mr-2 h-4 w-4"})," Download"]})]})]})};const e0=[{name:"Document",description:"Generate essays, reports, and more.",icon:l.A,tool:"docs",color:"text-purple-600",bgColor:"bg-purple-100 dark:bg-purple-900/30",gradient:"from-purple-500 to-indigo-600"},{name:"Exam Paper",description:"Create papers from NCERT books.",icon:i.A,tool:"exam",color:"text-blue-600",bgColor:"bg-blue-100 dark:bg-blue-900/30",gradient:"from-blue-500 to-sky-600"},{name:"Short Notes",description:"Generate notes from a chapter.",icon:o.A,tool:"notes",color:"text-green-600",bgColor:"bg-green-100 dark:bg-green-900/30",gradient:"from-green-500 to-emerald-600"},{name:"Handwritten",description:"Convert notes to your handwriting.",icon:c.A,tool:"handwriting",color:"text-red-600",bgColor:"bg-red-100 dark:bg-red-900/30",gradient:"from-red-500 to-orange-600"},{name:"AI Editor",description:"Professionally edit your documents.",icon:d.A,tool:"editor",color:"text-indigo-600",bgColor:"bg-indigo-100 dark:bg-indigo-900/30",gradient:"from-indigo-500 to-violet-600"},{name:"Booklet Solver",description:"Solve any uploaded question paper.",icon:u.A,tool:"solver",color:"text-yellow-600",bgColor:"bg-yellow-100 dark:bg-yellow-900/30",gradient:"from-yellow-500 to-amber-600"},{name:"Blueprint",description:"Generate a project design blueprint.",icon:m.A,tool:"blueprint",color:"text-sky-600",bgColor:"bg-sky-100 dark:bg-sky-900/30",gradient:"from-sky-400 to-blue-500"},{name:"Resume",description:"Create a professional resume draft.",icon:h.A,tool:"resume",color:"text-orange-600",bgColor:"bg-orange-100 dark:bg-orange-900/30",gradient:"from-orange-400 to-red-500"},{name:"Analyzer",description:"Summarize and ask questions.",icon:x.A,tool:"analyzer",color:"text-pink-600",bgColor:"bg-pink-100 dark:bg-pink-900/30",gradient:"from-pink-500 to-rose-500"},{name:"Illustration",description:"Create diagrams and charts.",icon:p.A,tool:"illustrations",color:"text-teal-600",bgColor:"bg-teal-100 dark:bg-teal-900/30",gradient:"from-teal-400 to-cyan-500"}];function e1(e){let{setActiveTool:t}=e;var s;const{user:r}=(0,eG.A)();const{toast:i}=(0,eq.dj)();const[o,c]=n.useState([]);const[d,u]=n.useState(true);const{recentGenerations:m,viewGeneration:h}=(0,eW.K)();const x=n.useCallback(()=>{if(r){u(true);eH(r.uid).then(e=>{const t=e.sort((e,t)=>t.createdAt-e.createdAt);c(t)}).catch(e=>{console.error("Error listing documents:",e);i({variant:"destructive",title:"Error",description:"Could not load your saved documents."})}).finally(()=>u(false))}else{u(false);c([])}},[r,i]);n.useEffect(()=>{x()},[x]);return(0,a.jsxs)("div",{className:"flex flex-col gap-8",children:[(0,a.jsxs)("div",{className:"text-left",children:[(0,a.jsxs)("h1",{className:"text-4xl font-bold font-headline text-foreground",children:["Good morning, ",(r===null||r===void 0?void 0:(s=r.displayName)===null||s===void 0?void 0:s.split(" ")[0])||"Guest","!"]}),(0,a.jsx)("p",{className:"mt-2 text-lg text-muted-foreground",children:"Let's create something amazing today."})]}),(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)(eI,{className:"lg:col-span-2 bg-gradient-to-br from-primary via-purple-600 to-violet-700 text-white p-8 flex flex-col justify-between rounded-3xl min-h-[200px] shadow-2xl shadow-primary/20",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h2",{className:"text-3xl font-bold font-headline",children:"AI Content Generator"}),(0,a.jsx)("p",{className:"mt-2 text-purple-200 max-w-lg",children:"Instantly generate documents, presentations, and more with the power of AI."})]}),(0,a.jsx)("div",{className:"mt-8",children:(0,a.jsxs)(k.$,{onClick:()=>t("docs"),className:"bg-white/20 hover:bg-white/30 text-white rounded-full",children:["Get Started ",(0,a.jsx)(eU.A,{className:"ml-2 w-4 h-4"})]})})]})}),r&&m.length>0&&(0,a.jsxs)("div",{className:"pt-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-headline text-foreground mb-4",children:"Recent Generations"}),(0,a.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:m.map(e=>(0,a.jsx)(eZ,{item:e,onSelect:h},e.id))})]}),(0,a.jsxs)("div",{className:"pt-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-headline text-foreground mb-4",children:"Quick Tools"}),(0,a.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e0.map(e=>(0,a.jsx)(eI,{onClick:()=>t(e.tool),className:"group cursor-pointer transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:(0,a.jsxs)(eE,{className:"p-4 flex flex-col items-center justify-center text-center gap-2 h-32",children:[(0,a.jsx)("div",{className:(0,C.cn)("w-12 h-12 rounded-lg flex items-center justify-center transition-transform duration-300 group-hover:scale-110",e.bgColor),children:(0,a.jsx)(e.icon,{className:(0,C.cn)("w-6 h-6",e.color)})}),(0,a.jsx)("h3",{className:"text-sm font-semibold",children:e.name})]})},e.tool))})]}),(0,a.jsxs)("div",{className:"pt-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold font-headline text-foreground",children:"Your Cloud Documents"}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:x,disabled:d||!r,children:(0,a.jsx)(e_.A,{className:(0,C.cn)("w-4 h-4",d&&"animate-spin")})})]}),(0,a.jsx)(eI,{children:(0,a.jsxs)(eE,{className:"p-6",children:[d&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(O,{className:"h-10 w-full"}),(0,a.jsx)(O,{className:"h-10 w-full"}),(0,a.jsx)(O,{className:"h-10 w-full"})]}),!d&&o.length>0&&(0,a.jsx)("ul",{className:"space-y-2",children:o.map(e=>(0,a.jsxs)("li",{className:"flex items-center justify-between p-2 rounded-lg hover:bg-accent",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)(l.A,{className:"w-5 h-5 text-muted-foreground"}),(0,a.jsxs)("div",{className:"flex flex-col",children:[(0,a.jsx)("span",{className:"font-medium",children:e.name}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground",children:new Date(e.createdAt).toLocaleDateString()})]})]}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",asChild:true,children:(0,a.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:(0,a.jsx)(eV.A,{className:"w-4 h-4"})})})]},e.name))}),!d&&o.length===0&&(0,a.jsxs)("div",{className:"text-center text-muted-foreground py-10",children:[(0,a.jsx)(f.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("h3",{className:"font-semibold",children:"No Documents Found"}),(0,a.jsx)("p",{className:"text-sm",children:r?"Saved documents will appear here. Try saving a generated document!":"Sign in to view your cloud documents."})]})]})})]}),(0,a.jsx)("div",{className:"pt-8 text-center",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-[400px]",children:(0,a.jsx)(eQ,{tools:e0,setActiveTool:t})})})]})}var e2=s(90221);var e4=s(62177);var e5=s(55594);var e3=s(54990);var e8=s(26574);var e6=s(74694);var e9=s(98917);var e7=s(50594);var te=s(73350);var tt=s(82733);var ts=s(31550);var ta=s(79311);var tn=s(17832);var tr=s(37765);var tl=s(37607);var ti=s(6523);var to=s(15599);var tc=s(18018);var td=s(26597);var tu=s(52699);var tm=s.n(tu);var th=s(40968);const tx=(0,v.F)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70");const tp=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(th.b,{ref:t,className:(0,C.cn)(tx(),s),...n})});tp.displayName=th.b.displayName;const tf=e4.Op;const tg=n.createContext({});const tj=e=>{let{...t}=e;return(0,a.jsx)(tg.Provider,{value:{name:t.name},children:(0,a.jsx)(e4.xI,{...t})})};const tb=()=>{const e=n.useContext(tg);const t=n.useContext(tv);const{getFieldState:s,formState:a}=(0,e4.xW)();const r=s(e.name,a);if(!e){throw new Error("useFormField should be used within <FormField>")}const{id:l}=t;return{id:l,name:e.name,formItemId:"".concat(l,"-form-item"),formDescriptionId:"".concat(l,"-form-item-description"),formMessageId:"".concat(l,"-form-item-message"),...r}};const tv=n.createContext({});const tw=n.forwardRef((e,t)=>{let{className:s,...r}=e;const l=n.useId();return(0,a.jsx)(tv.Provider,{value:{id:l},children:(0,a.jsx)("div",{ref:t,className:(0,C.cn)("space-y-2",s),...r})})});tw.displayName="FormItem";const ty=n.forwardRef((e,t)=>{let{className:s,...n}=e;const{error:r,formItemId:l}=tb();return(0,a.jsx)(tp,{ref:t,className:(0,C.cn)(r&&"text-destructive",s),htmlFor:l,...n})});ty.displayName="FormLabel";const tN=n.forwardRef((e,t)=>{let{...s}=e;const{error:n,formItemId:r,formDescriptionId:l,formMessageId:i}=tb();return(0,a.jsx)(b.DX,{ref:t,id:r,"aria-describedby":!n?"".concat(l):"".concat(l," ").concat(i),"aria-invalid":!!n,...s})});tN.displayName="FormControl";const tC=n.forwardRef((e,t)=>{let{className:s,...n}=e;const{formDescriptionId:r}=tb();return(0,a.jsx)("p",{ref:t,id:r,className:(0,C.cn)("text-sm text-muted-foreground",s),...n})});tC.displayName="FormDescription";const tk=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;const{error:l,formMessageId:i}=tb();var o;const c=l?String((o=l===null||l===void 0?void 0:l.message)!==null&&o!==void 0?o:""):n;if(!c){return null}return(0,a.jsx)("p",{ref:t,id:i,className:(0,C.cn)("text-sm font-medium text-destructive",s),...r,children:c})});tk.displayName="FormMessage";var tS=s(43433);var tA=s(79556);var tP=s(77381);var tD=s(10518);const tR=tS.bL;const tz=tS.YJ;const tI=tS.WT;const tF=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(tS.l9,{ref:t,className:(0,C.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...r,children:[n,(0,a.jsx)(tS.In,{asChild:true,children:(0,a.jsx)(tA.A,{className:"h-4 w-4 opacity-50"})})]})});tF.displayName=tS.l9.displayName;const tT=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(tS.PP,{ref:t,className:(0,C.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(tP.A,{className:"h-4 w-4"})})});tT.displayName=tS.PP.displayName;const tL=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(tS.wn,{ref:t,className:(0,C.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(tA.A,{className:"h-4 w-4"})})});tL.displayName=tS.wn.displayName;const tE=n.forwardRef((e,t)=>{let{className:s,children:n,position:r="popper",...l}=e;return(0,a.jsx)(tS.ZL,{children:(0,a.jsxs)(tS.UC,{ref:t,className:(0,C.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:r,...l,children:[(0,a.jsx)(tT,{}),(0,a.jsx)(tS.LM,{className:(0,C.cn)("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(tL,{})]})})});tE.displayName=tS.UC.displayName;const tM=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(tS.JU,{ref:t,className:(0,C.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})});tM.displayName=tS.JU.displayName;const tU=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(tS.q7,{ref:t,className:(0,C.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(tS.VF,{children:(0,a.jsx)(tD.A,{className:"h-4 w-4"})})}),(0,a.jsx)(tS.p4,{children:n})]})});tU.displayName=tS.q7.displayName;const t_=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(tS.wv,{ref:t,className:(0,C.cn)("-mx-1 my-1 h-px bg-muted",s),...n})});t_.displayName=tS.wv.displayName;const tV=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("textarea",{className:(0,C.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background/50 px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...n})});tV.displayName="Textarea";var tG=s(34477);const tO=(0,tG.createServerReference)("403090e7d82448b5c4b73fc59ab327cdcf05aa94be",tG.callServer,undefined,tG.findSourceMapURL,"generateDocument");var tB=s(54073);const tY=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsxs)(tB.bL,{ref:t,className:(0,C.cn)("relative flex w-full touch-none select-none items-center",s),...n,children:[(0,a.jsx)(tB.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(tB.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(tB.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});tY.displayName=tB.bL.displayName;function tH(){return(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-muted-foreground",children:(0,a.jsxs)("div",{className:"w-64 h-48 bg-card-foreground/10 rounded-lg p-4 flex flex-col items-center",children:[(0,a.jsx)("div",{className:"w-full h-8 bg-muted rounded-t-md border-b-4 border-muted-foreground/50"}),(0,a.jsx)("div",{className:"w-5/6 h-4 bg-muted-foreground/20 rounded-b-md"}),(0,a.jsx)("div",{className:"w-4/5 h-2 bg-background mt-2"}),(0,a.jsx)("div",{className:"w-4/5 h-32 mt-[-1rem] overflow-hidden",children:(0,a.jsx)("div",{className:"w-full h-full bg-card rounded-md shadow-lg animate-print-paper p-2",children:(0,a.jsxs)("div",{className:"space-y-1.5",children:[(0,a.jsx)("div",{className:"h-2 w-1/3 bg-primary/50 rounded-sm animate-print-lines",style:{animationDelay:"0.5s"}}),(0,a.jsx)("div",{className:"h-1.5 w-full bg-muted-foreground/30 rounded-sm animate-print-lines",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"h-1.5 w-5/6 bg-muted-foreground/30 rounded-sm animate-print-lines",style:{animationDelay:"1.2s"}}),(0,a.jsx)("div",{className:"h-1.5 w-full bg-muted-foreground/30 rounded-sm animate-print-lines",style:{animationDelay:"1.4s"}}),(0,a.jsx)("div",{className:"h-1.5 w-3/4 bg-muted-foreground/30 rounded-sm animate-print-lines",style:{animationDelay:"1.6s"}}),(0,a.jsx)("div",{className:"h-1.5 w-full bg-muted-foreground/30 rounded-sm animate-print-lines",style:{animationDelay:"1.8s"}})]})})})]})})}var tq=s(47655);const t$=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(tq.bL,{ref:t,className:(0,C.cn)("relative overflow-hidden",s),...r,children:[(0,a.jsx)(tq.LM,{className:"h-full w-full rounded-[inherit]",children:n}),(0,a.jsx)(tQ,{}),(0,a.jsx)(tq.OK,{})]})});t$.displayName=tq.bL.displayName;const tQ=n.forwardRef((e,t)=>{let{className:s,orientation:n="vertical",...r}=e;return(0,a.jsx)(tq.VM,{ref:t,orientation:n,className:(0,C.cn)("flex touch-none select-none transition-colors",n==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",n==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",s),...r,children:(0,a.jsx)(tq.lr,{className:"relative flex-1 rounded-full bg-border"})})});tQ.displayName=tq.VM.displayName;const tW=D.bL;const tK=D.l9;const tX=D.ZL;const tJ=D.bm;const tZ=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(D.hJ,{ref:t,className:(0,C.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...n})});tZ.displayName=D.hJ.displayName;const t0=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(tX,{children:[(0,a.jsx)(tZ,{}),(0,a.jsxs)(D.UC,{ref:t,className:(0,C.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...r,children:[n,(0,a.jsxs)(D.bm,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(R.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});t0.displayName=D.UC.displayName;const t1=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,C.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};t1.displayName="DialogHeader";const t2=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,C.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};t2.displayName="DialogFooter";const t4=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(D.hE,{ref:t,className:(0,C.cn)("text-lg font-semibold leading-none tracking-tight",s),...n})});t4.displayName=D.hE.displayName;const t5=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(D.VY,{ref:t,className:(0,C.cn)("text-sm text-muted-foreground",s),...n})});t5.displayName=D.VY.displayName;var t3=s(55863);const t8=n.forwardRef((e,t)=>{let{className:s,value:n,...r}=e;return(0,a.jsx)(t3.bL,{ref:t,className:(0,C.cn)("relative h-2 w-full overflow-hidden rounded-full bg-primary/20",s),...r,children:(0,a.jsx)(t3.C1,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:"translateX(-".concat(100-(n||0),"%)")}})})});t8.displayName=t3.bL.displayName;var t6=s(85005);var t9=s(12543);const t7=n.createContext(null);function se(){const e=n.useContext(t7);if(!e){throw new Error("useCarousel must be used within a <Carousel />")}return e}const st=n.forwardRef((e,t)=>{let{orientation:s="horizontal",opts:r,setApi:l,plugins:i,className:o,children:c,...d}=e;const[u,m]=(0,t6.A)({...r,axis:s==="horizontal"?"x":"y"},i);const[h,x]=n.useState(false);const[p,f]=n.useState(false);const g=n.useCallback(e=>{if(!e){return}x(e.canScrollPrev());f(e.canScrollNext())},[]);const j=n.useCallback(()=>{m===null||m===void 0?void 0:m.scrollPrev()},[m]);const b=n.useCallback(()=>{m===null||m===void 0?void 0:m.scrollNext()},[m]);const v=n.useCallback(e=>{if(e.key==="ArrowLeft"){e.preventDefault();j()}else if(e.key==="ArrowRight"){e.preventDefault();b()}},[j,b]);n.useEffect(()=>{if(!m||!l){return}l(m)},[m,l]);n.useEffect(()=>{if(!m){return}g(m);m.on("reInit",g);m.on("select",g);return()=>{m===null||m===void 0?void 0:m.off("select",g)}},[m,g]);return(0,a.jsx)(t7.Provider,{value:{carouselRef:u,api:m,opts:r,orientation:s||((r===null||r===void 0?void 0:r.axis)==="y"?"vertical":"horizontal"),scrollPrev:j,scrollNext:b,canScrollPrev:h,canScrollNext:p},children:(0,a.jsx)("div",{ref:t,onKeyDownCapture:v,className:(0,C.cn)("relative",o),role:"region","aria-roledescription":"carousel",...d,children:c})})});st.displayName="Carousel";const ss=n.forwardRef((e,t)=>{let{className:s,...n}=e;const{carouselRef:r,orientation:l}=se();return(0,a.jsx)("div",{ref:r,className:"overflow-hidden",children:(0,a.jsx)("div",{ref:t,className:(0,C.cn)("flex",l==="horizontal"?"-ml-4":"-mt-4 flex-col",s),...n})})});ss.displayName="CarouselContent";const sa=n.forwardRef((e,t)=>{let{className:s,...n}=e;const{orientation:r}=se();return(0,a.jsx)("div",{ref:t,role:"group","aria-roledescription":"slide",className:(0,C.cn)("min-w-0 shrink-0 grow-0 basis-full",r==="horizontal"?"pl-4":"pt-4",s),...n})});sa.displayName="CarouselItem";const sn=n.forwardRef((e,t)=>{let{className:s,variant:n="outline",size:r="icon",...l}=e;const{orientation:i,scrollPrev:o,canScrollPrev:c}=se();return(0,a.jsxs)(k.$,{ref:t,variant:n,size:r,className:(0,C.cn)("absolute  h-8 w-8 rounded-full",i==="horizontal"?"-left-12 top-1/2 -translate-y-1/2":"-top-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!c,onClick:o,...l,children:[(0,a.jsx)(t9.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Previous slide"})]})});sn.displayName="CarouselPrevious";const sr=n.forwardRef((e,t)=>{let{className:s,variant:n="outline",size:r="icon",...l}=e;const{orientation:i,scrollNext:o,canScrollNext:c}=se();return(0,a.jsxs)(k.$,{ref:t,variant:n,size:r,className:(0,C.cn)("absolute h-8 w-8 rounded-full",i==="horizontal"?"-right-12 top-1/2 -translate-y-1/2":"-bottom-12 left-1/2 -translate-x-1/2 rotate-90",s),disabled:!c,onClick:o,...l,children:[(0,a.jsx)(eU.A,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Next slide"})]})});sr.displayName="CarouselNext";var sl=s(4884);const si=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(sl.bL,{className:(0,C.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",s),...n,ref:t,children:(0,a.jsx)(sl.zi,{className:(0,C.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});si.displayName=sl.bL.displayName;const so=[{name:"Roboto",className:"font-roboto"},{name:"Open Sans",className:"font-open-sans"},{name:"Lato",className:"font-lato"},{name:"Montserrat",className:"font-montserrat"},{name:"Merriweather",className:"font-merriweather"},{name:"Playfair Display",className:"font-playfair-display"},{name:"Nunito",className:"font-nunito"},{name:"Raleway",className:"font-raleway"},{name:"Source Code Pro",className:"font-source-code-pro"},{name:"Lora",className:"font-lora"},{name:"PT Sans",className:"font-pt-sans"},{name:"Poppins",className:"font-poppins"}];const sc=[{name:"Caveat",className:"font-caveat"},{name:"Dancing Script",className:"font-dancing-script"},{name:"Patrick Hand",className:"font-patrick-hand"},{name:"Indie Flower",className:"font-indie-flower"}];const sd=[...so,...sc];const su=e5.z.enum(["Roboto","Open Sans","Lato","Montserrat","Merriweather","Playfair Display","Nunito","Raleway","Source Code Pro","Lora","PT Sans","Poppins","Caveat","Dancing Script","Patrick Hand","Indie Flower"]);const sm=e5.z.object({prompt:e5.z.string().min(10,{message:"Prompt must be at least 10 characters."}),documentType:e5.z.enum(["essay","report","letter","meeting-agenda","project-proposal","presentation","timetable"]).default("essay"),format:e5.z.enum(["PDF","DOCX","TXT"]).default("PDF"),pageSize:e5.z.enum(["A4","A3","A5"]).default("A4"),pageCount:e5.z.number().min(1).max(30),qualityLevel:e5.z.enum(["medium","high","ultra"]).default("high"),font:su.default("Roboto"),theme:e5.z.enum(["professional","creative","minimalist"]).default("professional"),numImages:e5.z.number().min(0).max(15).default(0),generateTemplate:e5.z.boolean().default(true)});function sh(){var e;const[t,s]=(0,n.useState)(false);const[r,l]=(0,n.useState)(false);const[i,o]=(0,n.useState)(0);const[c,d]=(0,n.useState)("Initializing...");const{toast:u}=(0,eq.dj)();const{user:m}=(0,eG.A)();const{addRecentGeneration:h,viewGeneration:x,viewingItem:p}=(0,eW.K)();const f=(p===null||p===void 0?void 0:p.type)==="document"?p.data:null;const g=(p===null||p===void 0?void 0:p.type)==="document";const[j,b]=(0,n.useState)({pageSize:"A4",format:"PDF",font:"Roboto"});const v=(0,e4.mN)({resolver:(0,e2.u)(sm),defaultValues:{prompt:"",documentType:"essay",format:"PDF",pageSize:"A4",pageCount:1,qualityLevel:"high",font:"Roboto",theme:"professional",numImages:0,generateTemplate:true}});const w=v.watch("format");const y=v.watch("documentType");const N=y==="presentation";const S=y==="timetable";const A=w!=="TXT";const P={"essay":"e.g., An essay on the impact of AI on modern society...","report":"e.g., A quarterly sales report for Q2 2024, analyzing key metrics...","letter":"e.g., A cover letter for a software engineer position at Google...","meeting-agenda":"e.g., An agenda for the weekly project sync meeting...","project-proposal":"e.g., A project proposal for a new mobile application...","presentation":"e.g., A presentation on the future of renewable energy...","timetable":"e.g., A weekly timetable for a 10th-grade student with subjects: Math, Science, English, History, and Art, from Monday to Friday, 9am to 3pm.","default":"Describe the content you want to create."};async function D(e){s(true);x(null);const t=(e,t)=>{o(e);d(t)};t(10,"Warming up the AI...");b({pageSize:e.pageSize,format:e.format,font:e.font});try{t(30,"Generating content...");const s=await tO(e);t(100,"Content ready!");if(m){h({type:"document",title:e.prompt.substring(0,50)+"...",data:s,formValues:e})}x({id:Date.now().toString(),type:"document",title:e.prompt.substring(0,50)+"...",data:s,timestamp:Date.now(),formValues:e})}catch(e){console.error(e);t(0,"Error!");u({variant:"destructive",title:"Error",description:"Failed to generate content. Please try again."})}finally{s(false)}}const z=()=>{if(!f)return;const e=f.pages.map(e=>{const t=document.createElement("div");t.innerHTML=e.content;return t.textContent||t.innerText||""}).join("\n\n");navigator.clipboard.writeText(e);u({title:"Copied!",description:"Content copied to clipboard."})};const I=()=>{var e,t;const s=document.getElementById("printable-area");if(!s)return;const a=window.open("","_blank");if(!a){u({title:"Error",description:"Could not open print window. Please disable your pop-up blocker.",variant:"destructive"});return}const n=(p===null||p===void 0?void 0:(e=p.formValues)===null||e===void 0?void 0:e.font)||"Roboto";const r="https://fonts.googleapis.com/css2?family=".concat(n.replace(/ /g,"+"),":wght@400;700&display=swap");const l=s.innerHTML;a.document.write('\n            <html>\n                <head>\n                    <title>Print Document</title>\n                    <link rel="preconnect" href="https://fonts.googleapis.com">\n                    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n                    <link rel="stylesheet" href="'.concat(r,'">\n                    <script src="https://cdn.tailwindcss.com"><\/script>\n                    <style>\n                        body { font-family: \'').concat(n,"', sans-serif; }\n                        @page { size: ").concat((p===null||p===void 0?void 0:(t=p.formValues)===null||t===void 0?void 0:t.pageSize)||"A4",'; margin: 1in; }\n                        .page-container {\n                            display: flex;\n                            flex-direction: column;\n                            gap: 2rem;\n                        }\n                        table { width: 100%; border-collapse: collapse; }\n                        th, td { border: 1px solid black; padding: 8px; text-align: left; }\n                        th { background-color: #f2f2f2; }\n                         img {\n                            max-height: 300px;\n                            margin: 1rem auto;\n                            border-radius: 0.5rem;\n                            background-color: white;\n                            padding: 0.5rem;\n                         }\n                    </style>\n                </head>\n                <body>\n                    <div class="page-container">').concat(l,"</div>\n                </body>\n            </html>\n        "));a.document.close();setTimeout(()=>{a.focus();a.print();a.close()},500)};const F=async()=>{if(!f)return null;const e=document.getElementById("printable-area");if(!e){u({title:"Error",description:"Could not find content to generate PDF from.",variant:"destructive"});return null}const t=Array.from(e.children);if(t.length===0){u({title:"Error",description:"No pages to convert to PDF.",variant:"destructive"});return null}let s="p";if(f.isPresentation){s="l"}else{s=t[0].clientWidth>t[0].clientHeight?"l":"p"}const a=new td.Ay({orientation:s,unit:"px",format:f.isPresentation?"a4":[t[0].clientWidth,t[0].clientHeight]});for(let e=0;e<t.length;e++){const n=t[e];const r=await tm()(n,{scale:2,useCORS:true,allowTaint:true,backgroundColor:f.theme.backgroundColor});const l=r.toDataURL("image/png");const i=a.internal.pageSize.getWidth();const o=a.internal.pageSize.getHeight();if(e>0){a.addPage([i,o],s)}a.addImage(l,"PNG",0,0,i,o)}return a.output("blob")};const T=async()=>{var e,t;if(!f)return;const s=(p===null||p===void 0?void 0:(e=p.formValues)===null||e===void 0?void 0:e.format)||"PDF";const a=(p===null||p===void 0?void 0:(t=p.formValues)===null||t===void 0?void 0:t.documentType)||"document";u({title:"Preparing Download...",description:"Your ".concat(a," is being prepared as a ").concat(s," file.")});if(s==="PDF"){const e=await F();if(e){const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="".concat(a,".pdf");document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t)}return}let n="";let r="";let l="";if(s==="TXT"){n=f.pages.map(e=>{const t=document.createElement("div");t.innerHTML=e.content;return t.textContent||t.innerText||""}).join("\n\n---\n\n");r="text/plain;charset=utf-8";l="txt"}else{var i,o;const e=(p===null||p===void 0?void 0:(i=p.formValues)===null||i===void 0?void 0:i.font)||"Roboto";const t="https://fonts.googleapis.com/css2?family=".concat(e.replace(/ /g,"+"),":wght@400;700&display=swap");const s=f.pages.map(e=>{const t=document.createElement("div");Object.assign(t.style,{width:"100%",maxWidth:"8.5in",margin:"2rem auto",padding:"2rem 2.5rem",boxShadow:"0 0 10px rgba(0,0,0,0.1)",backgroundColor:f.theme.backgroundColor,color:f.theme.textColor,borderImageSource:f.theme.backgroundImageDataUri?"url(".concat(f.theme.backgroundImageDataUri,")"):"none",borderImageSlice:"20",borderImageWidth:"20px",borderImageRepeat:"repeat",borderStyle:"solid",borderColor:"transparent",pageBreakAfter:"always"});t.innerHTML=e.content;return t.outerHTML}).join("");n='\n                <!DOCTYPE html>\n                <html lang="en">\n                <head>\n                    <meta charset="UTF-8">\n                    <title>'.concat(a,'</title>\n                    <link rel="preconnect" href="https://fonts.googleapis.com">\n                    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>\n                    <link rel="stylesheet" href="').concat(t,"\">\n                    <style>\n                        body { \n                            font-family: '").concat(e,"', sans-serif; \n                            font-size: 12pt;\n                            background-color: #f0f0f0; \n                            margin: 0; \n                            padding: 1rem;\n                        }\n                        h1, h2, h3, h4, h5, h6 { font-weight: bold; }\n                        h1 { font-size: 22pt; color: ").concat(f.theme.headingColor,"; } \n                        h2 { font-size: 18pt; color: ").concat(f.theme.headingColor,"; } \n                        h3 { font-size: 14pt; color: ").concat(f.theme.headingColor,"; }\n                        p { margin: 0 0 1em 0; }\n                        table { border-collapse: collapse; width: 100%; }\n                        td, th { border: 1px solid #ccc; padding: 8px; }\n                        img { max-width: 100%; height: auto; border-radius: 8px; }\n                        @page { size: ").concat((p===null||p===void 0?void 0:(o=p.formValues)===null||o===void 0?void 0:o.pageSize)||"A4","; }\n                    </style>\n                </head>\n                <body>\n                    ").concat(s,"\n                </body>\n                </html>\n            ");r="text/html;charset=utf-8";l="doc"}const c=new Blob([n],{type:r});const d=URL.createObjectURL(c);const m=document.createElement("a");m.href=d;m.download="".concat(a,".").concat(l);document.body.appendChild(m);m.click();document.body.removeChild(m);URL.revokeObjectURL(d);u({title:"Download Started!",description:"Your document is being downloaded as a .".concat(l," file.")})};const L=async()=>{if(!f)return;if(!m){u({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}l(true);u({title:"Uploading to Cloud...",description:"Your document is being saved to your account."});try{const e=await F();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t=v.getValues("documentType");const s=v.getValues("prompt").substring(0,20).replace(/\s/g,"_");const a="".concat(t,"_").concat(s,"_").concat(new Date().toISOString(),".pdf");await eY(m.uid,a,e);u({title:"Saved to Cloud!",description:"Your document has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);u({variant:"destructive",title:"Upload Failed",description:"Could not save your document to the cloud. Please try again."})}finally{l(false)}};const E={"A4":"aspect-[1/1.414]","A3":"aspect-[1.414/1]","A5":"aspect-[1/1.414]"};const M=sd.reduce((e,t)=>{e[t.name]=t.className;return e},{});const U=(f===null||f===void 0?void 0:f.pages)||[];return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Content Generator"}),(0,a.jsx)(eL,{children:"Create documents, presentations, and more with the power of AI."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...v,children:(0,a.jsxs)("form",{onSubmit:v.handleSubmit(D),className:"space-y-6",children:[(0,a.jsx)(tj,{control:v.control,name:"documentType",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(e3.A,{})," Type"]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a document type"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"essay",children:"Essay"}),(0,a.jsx)(tU,{value:"report",children:"Report"}),(0,a.jsx)(tU,{value:"letter",children:"Letter"}),(0,a.jsx)(tU,{value:"meeting-agenda",children:"Meeting Agenda"}),(0,a.jsx)(tU,{value:"project-proposal",children:"Project Proposal"}),(0,a.jsx)(tU,{value:"presentation",children:"Presentation"}),(0,a.jsx)(tU,{value:"timetable",children:"Timetable"})]})]}),(0,a.jsx)(tC,{children:"Select the type of content to guide the AI."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:v.control,name:"prompt",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2 relative",children:[(0,a.jsxs)("div",{className:"shooting-stars",children:[(0,a.jsx)("div",{className:"star"}),(0,a.jsx)("div",{className:"star"}),(0,a.jsx)("div",{className:"star"})]}),(0,a.jsx)(ez,{className:"w-8 h-8 icon-glow"}),"Your Prompt"]}),(0,a.jsx)("div",{className:"glowing-border",children:(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:P[y]||P["default"],className:"min-h-[120px] bg-background",...t})})}),(0,a.jsx)(tC,{children:"Describe the content you want to create."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)("div",{className:(0,C.cn)("grid grid-cols-1 md:grid-cols-2 gap-6",S&&"hidden"),children:[(0,a.jsx)(tj,{control:v.control,name:"pageSize",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:(0,C.cn)((N||S)&&"hidden"),children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(e8.A,{})," Page Size"]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,disabled:!A,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a page size"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"A4",children:"A4"}),(0,a.jsx)(tU,{value:"A3",children:"A3"}),(0,a.jsx)(tU,{value:"A5",children:"A5"})]})]}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:v.control,name:"format",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:(0,C.cn)((N||S)&&"hidden"),children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(e6.A,{})," Format"]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a format"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"PDF",children:"PDF"}),(0,a.jsx)(tU,{value:"DOCX",children:"DOCX"}),(0,a.jsx)(tU,{value:"TXT",children:"TXT"})]})]}),(0,a.jsx)(tk,{})]})}})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(tj,{control:v.control,name:"qualityLevel",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(e9.A,{})," Quality Level",(0,a.jsx)(Y,{children:(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:(0,a.jsx)(e7.A,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),(0,a.jsx)($,{children:(0,a.jsxs)("p",{className:"max-w-xs",children:[(0,a.jsx)("b",{children:"Medium:"})," Good quality, balanced time.",(0,a.jsx)("br",{}),(0,a.jsx)("b",{children:"High:"})," Better quality, more detailed.",(0,a.jsx)("br",{}),(0,a.jsx)("b",{children:"Ultra:"})," Best quality, exceptionally detailed, slower."]})})]})})]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select quality level"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"medium",children:"Medium"}),(0,a.jsx)(tU,{value:"high",children:"High"}),(0,a.jsx)(tU,{value:"ultra",children:"Ultra"})]})]}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:v.control,name:"font",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:(0,C.cn)((N||S)&&"hidden"),children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(te.A,{})," Font"]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,disabled:!A,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a font"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsxs)(tz,{children:[(0,a.jsx)(tM,{children:"Standard"}),so.map(e=>(0,a.jsx)(tU,{value:e.name,className:e.className,children:e.name},e.name))]}),(0,a.jsxs)(tz,{children:[(0,a.jsx)(tM,{children:"Handwriting"}),sc.map(e=>(0,a.jsx)(tU,{value:e.name,className:e.className,children:e.name},e.name))]})]})]}),(0,a.jsx)(tk,{})]})}})]}),(0,a.jsx)(tj,{control:v.control,name:"theme",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:(0,C.cn)((N||S)&&"hidden"),children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(tt.A,{})," Theme"]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,disabled:!A,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a theme"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"professional",children:"Professional"}),(0,a.jsx)(tU,{value:"creative",children:"Creative"}),(0,a.jsx)(tU,{value:"minimalist",children:"Minimalist"})]})]}),(0,a.jsx)(tC,{children:"AI will generate a visual style based on your choice. Ineligible for TXT."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:v.control,name:"pageCount",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:(0,C.cn)(S&&"hidden"),children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(ts.A,{})," ",N?"Number of Slides":"Page Count",": ",t.value]}),(0,a.jsx)(tN,{children:(0,a.jsx)(tY,{min:N?1:1,max:N?15:30,step:1,defaultValue:[t.value],onValueChange:e=>t.onChange(e[0])})}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:v.control,name:"numImages",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:(0,C.cn)(S&&"hidden"),children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(ta.A,{})," Number of Images: ",t.value]}),(0,a.jsx)(tN,{children:(0,a.jsx)(tY,{min:0,max:15,step:1,defaultValue:[t.value],onValueChange:e=>t.onChange(e[0]),disabled:!A})}),(0,a.jsx)(tC,{children:"Select how many AI-generated illustrations (diagrams, charts, etc.) to include."}),(0,a.jsx)(tk,{})]})}}),N&&(0,a.jsx)(tj,{control:v.control,name:"generateTemplate",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ty,{children:"Generate AI Template"}),(0,a.jsx)(tC,{children:"Create a unique visual theme with AI-generated slide borders."})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(si,{checked:t.value,onCheckedChange:t.onChange})})]})}}),(0,a.jsx)("div",{className:(0,C.cn)("glowing-border",t&&"[--animation-play-state:paused]"),children:(0,a.jsx)("button",{type:"submit",disabled:t,className:"relative w-full h-12 flex items-center justify-center bg-primary rounded-md text-primary-foreground font-bold text-lg disabled:opacity-100 disabled:bg-primary/80",children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(tn.A,{className:"h-5 w-5",strokeWidth:2.5}),t?"Generating...":"Generate ".concat(N?"Presentation":S?"Timetable":"Document"),(0,a.jsx)(e$.A,{className:"h-5 w-5",strokeWidth:2.5})]})})})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col bg-muted/30",children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Generated Content"}),(0,a.jsx)(eL,{children:"Your AI-generated content will appear here."})]}),(0,a.jsxs)(eE,{className:"flex-1 flex flex-col p-2 sm:p-4 md:p-6 min-h-0 items-center justify-center",children:[(t||i>0&&!f)&&(0,a.jsxs)("div",{className:"w-full max-w-md text-center",children:[(0,a.jsx)(tH,{}),(0,a.jsx)(t8,{value:i,className:"mt-4 w-full"}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground animate-pulse",children:c})]}),f&&!t&&(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mx-auto animate-float-glow",children:f.isPresentation?(0,a.jsx)(tr.A,{className:"w-12 h-12 text-primary icon-glow"}):(0,a.jsx)(e$.A,{className:"w-12 h-12 text-primary icon-glow"})}),(0,a.jsxs)("h3",{className:"mt-4 text-lg font-medium",children:[f.isPresentation?"Presentation":"Document"," Generated!"]}),(0,a.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:"Your content is ready to be viewed."}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center mt-6",children:[(0,a.jsxs)(k.$,{onClick:()=>x(p),children:[(0,a.jsx)(eX.A,{className:"mr-2 h-4 w-4"}),"View ",f.isPresentation?"Presentation":"Document"]}),(0,a.jsxs)(k.$,{onClick:L,disabled:!m||r,variant:"secondary",children:[(0,a.jsx)(tl.A,{className:"mr-2 h-4 w-4"}),r?"Saving...":"Save to Cloud"]})]})]}),!t&&!f&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-muted-foreground",children:(0,a.jsx)("p",{children:"Your generated content will appear here."})})]})]}),f&&(0,a.jsx)(tW,{open:g,onOpenChange:e=>!e&&x(null),children:(0,a.jsx)("div",{className:"dialog-content-parent",children:(0,a.jsxs)(t0,{className:"max-w-none w-[95vw] sm:w-[90vw] md:w-[80vw] h-[90vh] flex flex-col p-0",children:[(0,a.jsxs)(t1,{className:"p-4 border-b",children:[(0,a.jsxs)(t4,{children:[f.isPresentation?"Presentation":"Document"," Viewer"]}),(0,a.jsx)(t5,{children:"Here is your generated content. You can copy the text or download it."})]}),(0,a.jsxs)("div",{className:"w-full h-full flex flex-col bg-muted/50 flex-1 min-h-0",children:[(0,a.jsxs)("div",{className:"flex items-center justify-end gap-2 p-2 border-b bg-background rounded-t-lg",children:[(0,a.jsx)(Y,{children:(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:T,children:(0,a.jsx)(ti.A,{className:"h-4 w-4"})})}),(0,a.jsx)($,{children:(0,a.jsxs)("p",{children:["Download (",(p===null||p===void 0?void 0:(e=p.formValues)===null||e===void 0?void 0:e.format)||"PDF",")"]})})]})}),(0,a.jsx)(Y,{children:(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:z,children:(0,a.jsx)(to.A,{className:"h-4 w-4"})})}),(0,a.jsx)($,{children:(0,a.jsx)("p",{children:"Copy Text"})})]})}),(0,a.jsx)(Y,{children:(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:I,children:(0,a.jsx)(tc.A,{className:"h-4 w-4"})})}),(0,a.jsx)($,{children:(0,a.jsx)("p",{children:"Print"})})]})}),(0,a.jsx)(tJ,{asChild:true,children:(0,a.jsx)(k.$,{variant:"ghost",size:"icon","aria-label":"Close",onClick:()=>x(null),children:(0,a.jsx)(R.A,{className:"h-4 w-4"})})})]}),(0,a.jsx)(t$,{className:"flex-1 bg-muted/20",id:"printable-area-wrapper",children:(0,a.jsx)("div",{id:"printable-area",className:(0,C.cn)("flex items-center justify-center p-4 sm:p-8",f.isPresentation?"":"flex-col gap-8"),children:f.isPresentation?(0,a.jsxs)(st,{className:"w-full max-w-4xl",children:[(0,a.jsx)(ss,{children:U.map((e,t)=>(0,a.jsx)(sa,{children:(0,a.jsx)("div",{className:"p-1",children:(0,a.jsx)(eI,{id:"page-".concat(t),className:"aspect-video flex items-center justify-center relative overflow-hidden text-white p-8",style:{backgroundColor:f.theme.backgroundColor,"--border-image-source":f.theme.backgroundImageDataUri?"url(".concat(f.theme.backgroundImageDataUri,")"):"none",borderImageSource:"var(--border-image-source)",borderImageSlice:20,borderImageWidth:"20px",borderImageRepeat:"repeat",borderStyle:"solid",borderColor:"transparent"},children:(0,a.jsx)("div",{className:"relative z-10 w-full h-full flex flex-col justify-center text-center prose-invert prose-sm sm:prose-base md:prose-lg prose-h1:text-5xl prose-h2:text-4xl prose-img:max-h-60 prose-img:mx-auto prose-img:rounded-lg",style:{"--tw-prose-body":f.theme.textColor,"--tw-prose-headings":f.theme.headingColor},dangerouslySetInnerHTML:{__html:e.content}})})})},t))}),(0,a.jsx)(sn,{className:"text-white bg-black/50 hover:bg-black/80 -left-8"}),(0,a.jsx)(sr,{className:"text-white bg-black/50 hover:bg-black/80 -right-8"})]}):(0,a.jsx)(a.Fragment,{children:U.map((e,t)=>{var s,n;return(0,a.jsx)("div",{id:"page-".concat(t),className:(0,C.cn)("w-full max-w-4xl shadow-lg relative bg-white print:shadow-none print:border",E[p===null||p===void 0?void 0:(s=p.formValues)===null||s===void 0?void 0:s.pageSize]),style:{padding:"2rem 2.5rem",backgroundColor:f.theme.backgroundColor,color:f.theme.textColor,"--border-image-source":f.theme.backgroundImageDataUri?"url(".concat(f.theme.backgroundImageDataUri,")"):"none",borderImageSource:"var(--border-image-source)",borderImageSlice:20,borderImageWidth:"20px",borderImageRepeat:"repeat",borderStyle:"solid",borderColor:"transparent"},children:(0,a.jsx)("div",{className:(0,C.cn)("relative z-10 whitespace-pre-wrap prose prose-sm sm:prose-base max-w-none dark:prose-invert prose-table:w-full",M[p===null||p===void 0?void 0:(n=p.formValues)===null||n===void 0?void 0:n.font]),style:{"--tw-prose-body":f.theme.textColor,"--tw-prose-headings":f.theme.headingColor,"--tw-prose-lead":f.theme.textColor,"--tw-prose-links":f.theme.textColor,"--tw-prose-bold":f.theme.textColor,"--tw-prose-counters":f.theme.textColor,"--tw-prose-bullets":f.theme.textColor,"--tw-prose-hr":f.theme.textColor,"--tw-prose-quotes":f.theme.textColor,"--tw-prose-quote-borders":f.theme.textColor,"--tw-prose-captions":f.theme.textColor,"--tw-prose-code":f.theme.textColor,"--tw-prose-pre-code":f.theme.textColor,"--tw-prose-pre-bg":"rgba(0,0,0,0.05)","--tw-prose-th-borders":f.theme.headingColor,"--tw-prose-td-borders":f.theme.textColor,"--tw-prose-invert-body":f.theme.textColor,"--tw-prose-invert-headings":f.theme.headingColor},dangerouslySetInnerHTML:{__html:e.content}})},t)})})})})]})]})})})]})};const sx=(0,tG.createServerReference)("4091e7bca6ccfa91b94f2aa79814a14a822f483259",tG.callServer,undefined,tG.findSourceMapURL,"generateResume");const sp=e5.z.object({skills:e5.z.string().min(10,{message:"Skills section must not be empty."}),experience:e5.z.string().min(20,{message:"Experience section must not be empty."})});function sf(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,i]=(0,n.useState)(null);const{toast:o}=(0,eq.dj)();const{user:c}=(0,eG.A)();const d=(0,n.useRef)(null);const u=(0,e4.mN)({resolver:(0,e2.u)(sp),defaultValues:{skills:"",experience:""}});async function m(e){t(true);i(null);try{const t=await sx(e);i(t)}catch(e){console.error(e);o({variant:"destructive",title:"Error",description:"Failed to generate resume. Please try again."})}finally{t(false)}}const h=async()=>{if(!d.current)return null;const e=await tm()(d.current,{scale:2,backgroundColor:"#ffffff"});const t=e.toDataURL("image/png");const s=new td.Ay("p","px","a4");const a=s.internal.pageSize.getWidth();const n=s.internal.pageSize.getHeight();const r=e.width;const l=e.height;const i=r/l;let o=a/i;const c=Math.ceil(o/n);for(let e=0;e<c;e++){if(e>0)s.addPage();const r=-e*n;s.addImage(t,"PNG",0,r,a,o)}return s.output("blob")};const x=async()=>{o({title:"Preparing Download...",description:"Your resume is being converted to PDF."});const e=await h();if(e){const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="resume.pdf";document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t)}};const p=async()=>{if(!c){o({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}r(true);o({title:"Uploading to Cloud...",description:"Your resume is being saved."});try{const e=await h();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t="Resume_".concat(new Date().toISOString(),".pdf");await eY(c.uid,t,e);o({title:"Saved to Cloud!",description:"Your resume has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);o({variant:"destructive",title:"Upload Failed",description:"Could not save your resume. Please try again."})}finally{r(false)}};return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Resume Generator"}),(0,a.jsx)(eL,{children:"Create a professional resume tailored to your skills and experience."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...u,children:(0,a.jsxs)("form",{onSubmit:u.handleSubmit(m),className:"space-y-8",children:[(0,a.jsx)(tj,{control:u.control,name:"skills",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Your Skills"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"e.g., JavaScript, React, Node.js, Project Management, Public Speaking...",className:"min-h-[120px]",...t})}),(0,a.jsx)(tC,{children:"List your skills, separated by commas."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:u.control,name:"experience",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Your Experience"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Describe your work experience, projects, and achievements...",className:"min-h-[150px]",...t})}),(0,a.jsx)(tC,{children:"Provide details about your professional background."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)(k.$,{type:"submit",disabled:e,className:"w-full",children:[e?"Generating...":"Generate Resume",(0,a.jsx)(e$.A,{className:"ml-2 w-4 h-4"})]})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col",children:[(0,a.jsxs)(eF,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(eT,{children:"Generated Resume Draft"}),l&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:p,disabled:!c||s,children:(0,a.jsx)(tl.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:x,children:(0,a.jsx)(ti.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(eL,{children:"Your AI-generated resume will appear here."})]}),(0,a.jsxs)(eE,{children:[e&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(O,{className:"h-6 w-1/3"}),(0,a.jsx)(O,{className:"h-4 w-1/2"}),(0,a.jsx)(O,{className:"h-4 w-1/2"}),(0,a.jsx)("br",{}),(0,a.jsx)(O,{className:"h-5 w-1/4"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)("br",{}),(0,a.jsx)(O,{className:"h-5 w-1/4"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-full"})]}),l&&(0,a.jsx)("div",{ref:d,className:"prose prose-sm sm:prose-base dark:prose-invert max-w-none whitespace-pre-wrap bg-white dark:bg-card p-4 rounded-md",children:l.resumeDraft})]})]})]})};const sg=(0,tG.createServerReference)("40a9e888563379984adccdc602f0795f291ef0c257",tG.callServer,undefined,tG.findSourceMapURL,"analyzeDocument");var sj=s(37250);const sb=sj.bL;const sv=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(sj.q7,{ref:t,className:(0,C.cn)("border-b",s),...n})});sv.displayName="AccordionItem";const sw=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsx)(sj.Y9,{className:"flex",children:(0,a.jsxs)(sj.l9,{ref:t,className:(0,C.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...r,children:[n,(0,a.jsx)(tA.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});sw.displayName=sj.l9.displayName;const sy=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsx)(sj.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...r,children:(0,a.jsx)("div",{className:(0,C.cn)("pb-4 pt-0",s),children:n})})});sy.displayName=sj.UC.displayName;const sN=e5.z.object({documentContent:e5.z.string().min(50,{message:"Document content must be at least 50 characters."}),userQuestion:e5.z.string().min(5,{message:"Question must be at least 5 characters."})});function sC(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(null);const{toast:l}=(0,eq.dj)();const i=(0,e4.mN)({resolver:(0,e2.u)(sN),defaultValues:{documentContent:"",userQuestion:""}});async function o(e){t(true);r(null);try{const t=await sg(e);r(t)}catch(e){console.error(e);l({variant:"destructive",title:"Error",description:"Failed to analyze document. Please try again."})}finally{t(false)}}return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Document Analyzer"}),(0,a.jsx)(eL,{children:"Get summaries and answers from your documents instantly."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...i,children:(0,a.jsxs)("form",{onSubmit:i.handleSubmit(o),className:"space-y-8",children:[(0,a.jsx)(tj,{control:i.control,name:"documentContent",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Document Content"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Paste the text from your document here...",className:"min-h-[200px]",...t})}),(0,a.jsx)(tC,{children:"You can paste content from TXT, DOCX, or PDF files."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:i.control,name:"userQuestion",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Your Question"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., What are the main conclusions?",...t})}),(0,a.jsx)(tC,{children:"Ask something specific about the document."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)(k.$,{type:"submit",disabled:e,className:"w-full",children:[e?"Analyzing...":"Analyze Document",(0,a.jsx)(e$.A,{className:"ml-2 w-4 h-4"})]})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px]",children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Analysis Result"}),(0,a.jsx)(eL,{children:"The summary and answer will appear here."})]}),(0,a.jsxs)(eE,{children:[e&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(O,{className:"h-5 w-1/3 mb-2"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-full mt-2"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(O,{className:"h-5 w-1/3 mb-2"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-2/3 mt-2"})]})]}),s&&(0,a.jsxs)(sb,{type:"single",collapsible:true,defaultValue:"summary",className:"w-full",children:[(0,a.jsxs)(sv,{value:"summary",children:[(0,a.jsx)(sw,{className:"font-headline",children:"Summary"}),(0,a.jsx)(sy,{children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:s.summary})})]}),(0,a.jsxs)(sv,{value:"answer",children:[(0,a.jsx)(sw,{className:"font-headline",children:"Answer to your Question"}),(0,a.jsx)(sy,{children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:s.answer})})]})]})]})]})]})}var sk=s(34214);var sS=s(66766);const sA=(0,tG.createServerReference)("40082709065aeb050910b4f548d5f710b539882875",tG.callServer,undefined,tG.findSourceMapURL,"generateIllustration");const sP=e5.z.object({title:e5.z.string().min(3,{message:"Title must be at least 3 characters."}),description:e5.z.string().min(10,{message:"Description must be at least 10 characters."}),numItems:e5.z.number().min(2).max(10).default(4),colorPalette:e5.z.enum(["vibrant","professional","pastel","monochromatic"]).default("vibrant")});function sD(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,i]=(0,n.useState)(null);const{toast:o}=(0,eq.dj)();const{user:c}=(0,eG.A)();const d=(0,e4.mN)({resolver:(0,e2.u)(sP),defaultValues:{title:"",description:"",numItems:4,colorPalette:"vibrant"}});async function u(e){t(true);i(null);try{const t=await sA(e);i(t)}catch(e){console.error(e);o({variant:"destructive",title:"Error",description:"Failed to generate illustration. Please try again."})}finally{t(false)}}const m=()=>{if(!(l===null||l===void 0?void 0:l.imageDataUri))return;const e=document.createElement("a");e.href=l.imageDataUri;e.download="illustration.png";document.body.appendChild(e);e.click();document.body.removeChild(e);o({title:"Download Started",description:"Your illustration is being downloaded."})};const h=e=>{const t=atob(e.split(",")[1]);const s=e.split(",")[0].split(":")[1].split(";")[0];const a=new ArrayBuffer(t.length);const n=new Uint8Array(a);for(let e=0;e<t.length;e++){n[e]=t.charCodeAt(e)}return new Blob([a],{type:s})};const x=async()=>{if(!(l===null||l===void 0?void 0:l.imageDataUri))return;if(!c){o({variant:"destructive",title:"Login Required",description:"You must be signed in to save illustrations to the cloud."});return}r(true);o({title:"Uploading to Cloud...",description:"Your illustration is being saved."});try{const e=h(l.imageDataUri);const t=d.getValues("title").replace(/\s/g,"_");const s="illustration_".concat(t,"_").concat(new Date().toISOString(),".png");await eY(c.uid,s,e);o({title:"Saved to Cloud!",description:"Your illustration has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);o({variant:"destructive",title:"Upload Failed",description:"Could not save your illustration. Please try again."})}finally{r(false)}};return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Illustration Studio"}),(0,a.jsx)(eL,{children:"Create beautiful diagrams and infographics with AI."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...d,children:(0,a.jsxs)("form",{onSubmit:d.handleSubmit(u),className:"space-y-6",children:[(0,a.jsx)(tj,{control:d.control,name:"title",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(te.A,{})," Title"]}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., 4 Steps to Success",...t})}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:d.control,name:"description",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:["Description",(0,a.jsx)(Y,{children:(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:(0,a.jsx)(e7.A,{className:"h-4 w-4 text-muted-foreground cursor-help"})}),(0,a.jsx)($,{children:(0,a.jsx)("p",{className:"max-w-xs",children:'Describe the process or data you want to visualize. Be specific! For example: "A roadmap showing the 4 stages of our project: Discovery, Design, Development, and Deployment."'})})]})})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Describe the process or data to visualize...",className:"min-h-[120px]",...t})}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(tj,{control:d.control,name:"colorPalette",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(tt.A,{})," Color Palette"]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a palette"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"vibrant",children:"Vibrant"}),(0,a.jsx)(tU,{value:"professional",children:"Professional"}),(0,a.jsx)(tU,{value:"pastel",children:"Pastel"}),(0,a.jsx)(tU,{value:"monochromatic",children:"Monochromatic"})]})]}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:d.control,name:"numItems",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(sk.A,{})," Number of Items: ",t.value]}),(0,a.jsx)(tN,{children:(0,a.jsx)(tY,{min:2,max:10,step:1,defaultValue:[t.value],onValueChange:e=>t.onChange(e[0])})}),(0,a.jsx)(tk,{})]})}})]}),(0,a.jsx)("div",{className:"glowing-border",children:(0,a.jsx)(k.$,{type:"submit",disabled:e,className:"w-full p-0",variant:"ghost",children:(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-background rounded-md",children:(0,a.jsxs)("span",{className:"flex items-center gap-2 bg-gradient-to-r from-chart-1 via-chart-2 to-chart-3 text-transparent bg-clip-text font-bold text-lg",children:[(0,a.jsx)(tn.A,{className:"h-5 w-5",strokeWidth:2.5}),e?"Generating...":"Generate Illustration",(0,a.jsx)(e$.A,{className:"h-5 w-5",strokeWidth:2.5})]})})})})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col bg-muted/30",children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Generated Illustration"}),(0,a.jsx)(eL,{children:"Your AI-generated illustration will appear here."})]}),(0,a.jsxs)(eE,{className:"flex-1 flex flex-col p-2 sm:p-4 md:p-6 min-h-0 items-center justify-center",children:[e&&(0,a.jsxs)("div",{className:"w-full max-w-md text-center",children:[(0,a.jsx)(tH,{}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground animate-pulse",children:"The AI is designing your illustration..."})]}),l&&l.imageDataUri&&!e&&(0,a.jsxs)("div",{className:"w-full h-full flex flex-col items-center justify-center gap-4",children:[(0,a.jsx)("div",{className:"relative w-full aspect-video rounded-lg overflow-hidden shadow-lg border bg-background",children:(0,a.jsx)(sS["default"],{src:l.imageDataUri,alt:"Generated Illustration",layout:"fill",objectFit:"contain","data-ai-hint":"infographic diagram"})}),(0,a.jsxs)("div",{className:"flex gap-2 justify-center",children:[(0,a.jsxs)(k.$,{onClick:m,children:[(0,a.jsx)(eV.A,{className:"mr-2 h-4 w-4"}),"Download PNG"]}),(0,a.jsxs)(k.$,{onClick:x,disabled:!c||s,variant:"secondary",children:[(0,a.jsx)(tl.A,{className:"mr-2 h-4 w-4"}),s?"Saving...":"Save to Cloud"]})]})]}),!e&&!l&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-center text-muted-foreground p-8",children:(0,a.jsx)("p",{children:"Describe your data or process, and the AI will create a beautiful visualization for you."})})]})]})]})}var sR=s(18271);var sz=s(31949);var sI=s(66655);var sF=s(8947);const sT=(0,tG.createServerReference)("40c3d899092175c682f4be8bf691fe344aa11b7b7c",tG.callServer,undefined,tG.findSourceMapURL,"generateExamPaper");var sL=s(60704);const sE=sL.bL;const sM=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(sL.B8,{ref:t,className:(0,C.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...n})});sM.displayName=sL.B8.displayName;const sU=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(sL.l9,{ref:t,className:(0,C.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...n})});sU.displayName=sL.l9.displayName;const s_=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(sL.UC,{ref:t,className:(0,C.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...n})});s_.displayName=sL.UC.displayName;var sV=s(27242);const sG=sV.bL;const sO=sV.R6;const sB=sV.Ke;const sY=(0,v.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}});const sH=n.forwardRef((e,t)=>{let{className:s,variant:n,...r}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,C.cn)(sY({variant:n}),s),...r})});sH.displayName="Alert";const sq=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,C.cn)("mb-1 font-medium leading-none tracking-tight",s),...n})});sq.displayName="AlertTitle";const s$=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,C.cn)("text-sm [&_p]:leading-relaxed",s),...n})});s$.displayName="AlertDescription";const sQ=e5.z.object({examTitle:e5.z.string().min(5,{message:"Title must be at least 5 characters."}),standard:e5.z.string().min(1,{message:"Please enter a standard or grade."}),subject:e5.z.string().min(3,{message:"Please enter a subject."}),curriculum:e5.z.enum(["ncert","nios","board"]).default("ncert"),syllabus:e5.z.string().min(10,{message:"Syllabus must be at least 10 characters."}),difficulty:e5.z.enum(["easy","medium","hard"]).default("medium"),numQuestions:e5.z.number().min(1).max(200).default(10),totalMarks:e5.z.string().min(1,{message:"Please enter total marks."}).regex(/^\d+$/,{message:"Marks must be a number."}),timeAllotted:e5.z.string().min(3,{message:"Please enter time allotted."}),includePYQs:e5.z.boolean().default(false),addAnswerKey:e5.z.boolean().default(true),isMCQOnly:e5.z.boolean().default(false),competencyPercentage:e5.z.number().min(0).max(100).default(50).optional(),useOriginalQuestions:e5.z.boolean().default(false),generateBlueprint:e5.z.boolean().default(true),isSectionWise:e5.z.boolean().default(false),numMCQs:e5.z.number().optional(),num1Mark:e5.z.number().optional(),num2Mark:e5.z.number().optional(),num3Mark:e5.z.number().optional(),num4Mark:e5.z.number().optional()}).refine(e=>{if(!e.isSectionWise)return true;const{totalMarks:t,numMCQs:s=0,num1Mark:a=0,num2Mark:n=0,num3Mark:r=0,num4Mark:l=0}=e;const i=s*1+a*1+n*2+r*3+l*4;return i===parseInt(t)},{message:"The sum of marks from all sections must equal the Total Marks for the paper.",path:["isSectionWise"]});const sW=e=>{if(!e)return{header:"",instructions:"",questions:[]};const t=e.split("\n");const s=t.findIndex(e=>e.trim()==="---"||e.includes("**General Instructions**"));let a;let n=[];let r;if(s!==-1){a=t.slice(0,s);const e=t.findIndex((e,t)=>t>s&&/^\s*(\d+\.|\*\*?Section)/.test(e));if(e!==-1){n=t.slice(s,e);r=t.slice(e)}else{n=t.slice(s);r=[]}}else{const e=t.findIndex(e=>/^\s*(\d+\.|\*\*?Section)/.test(e));if(e!==-1){a=t.slice(0,e);r=t.slice(e)}else{a=t;r=[]}}const l=sF.xI.parse(a.join("\n"));const i=sF.xI.parse(n.join("\n").replace("---",""));const o=[];if(r.length>0){let e="";for(const t of r){if(t.trim()==="")continue;const s=/^\s*(\d+\.|\*\*?Section)/.test(t);if(s&&e){o.push(e.trim())}e=s?t:e+"\n"+t}if(e)o.push(e.trim())}const c=o.map(e=>{if(!e||e.trim()==="")return null;if(/^\s*\*\*?Section/.test(e)){return{number:"",text:sF.xI.parse(e),marks:""}}const t=e.match(/^\s*(\d+)\.\s/);const s=t?t[1]:"";const a=e.match(/\[(.*?)\]\s*$/);const n=a?a[0]:"";let r=e.replace(/^\s*\d+\.\s/,"").replace(/\[(.*?)\]\s*$/,"").trim();const l=sF.xI.parse(r||"");return{number:s,text:l,marks:n}}).filter(e=>e!==null);return{header:l,instructions:i,questions:c}};function sK(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,o]=(0,n.useState)(null);const[c,d]=(0,n.useState)("paper");const[u,m]=(0,n.useState)(false);const{toast:h}=(0,eq.dj)();const{user:x}=(0,eG.A)();const p=(0,e4.mN)({resolver:(0,e2.u)(sQ),defaultValues:{examTitle:"Mid-Term Examination",standard:"10th",subject:"Science",curriculum:"ncert",syllabus:"Chapter 1: Chemical Reactions and Equations\nChapter 2: Acids, Bases and Salts\nChapter 6: Life Processes",difficulty:"medium",numQuestions:10,totalMarks:"70",timeAllotted:"3 Hours",includePYQs:false,addAnswerKey:true,isMCQOnly:false,competencyPercentage:50,useOriginalQuestions:false,generateBlueprint:true,isSectionWise:false,numMCQs:0,num1Mark:0,num2Mark:0,num3Mark:0,num4Mark:0}});const f=p.watch("isMCQOnly");const g=p.watch("totalMarks");const j=p.watch("isSectionWise");const{numMCQs:b=0,num1Mark:v=0,num2Mark:w=0,num3Mark:y=0,num4Mark:N=0}=p.watch();const A=b*1+v*1+w*2+y*3+N*4;const D=(parseInt(g)||0)-A;async function R(e){t(true);o(null);try{const t=await sT(e);o(t);d("paper")}catch(e){console.error(e);h({variant:"destructive",title:"Error",description:"Failed to generate exam paper. Please try again."})}finally{t(false)}}const z=()=>{if(!l)return;const e=document.getElementById(c==="paper"?"printable-exam":c==="key"?"printable-key":"printable-blueprint");if(!e)return;const t=e.innerText;navigator.clipboard.writeText(t);h({title:"Copied!",description:"".concat(c==="paper"?"Question paper":c==="key"?"Answer key":"Blueprint"," content copied to clipboard.")})};const I=()=>{const e=document.getElementById(c==="paper"?"printable-exam":c==="key"?"printable-key":"printable-blueprint");if(!e)return;const t=window.open("","_blank");if(!t){h({title:"Error",description:"Could not open print window. Please disable your pop-up blocker.",variant:"destructive"});return}const s=e.innerHTML;t.document.write("\n            <html>\n                <head>\n                    <title>Print ".concat(c==="paper"?"Exam Paper":"Answer Key","</title>\n                    <style>\n                        body { \n                            font-family: 'Times New Roman', Times, serif; \n                            line-height: 1.6;\n                            margin: 0;\n                            color: black;\n                            background-color: white;\n                        }\n                        .printable-content {\n                            max-width: 8.5in;\n                            margin: auto;\n                            padding: 1in;\n                        }\n                        .prose {\n                            max-width: none;\n                        }\n                        .prose .header-content {\n                            text-align: center;\n                        }\n                        .prose .header-details { \n                            display: flex; \n                            justify-content: space-between; \n                            font-weight: bold; \n                            margin-top: 1rem;\n                            padding-bottom: 0.5rem;\n                            border-bottom: 1px solid black;\n                        }\n                        .prose .instructions-block {\n                            font-weight: bold;\n                            margin-top: 1.5rem;\n                            margin-bottom: 2rem;\n                            padding: 1rem;\n                            border: 1px solid #ccc;\n                            border-radius: 8px;\n                        }\n                        .prose .instructions-block, .prose .instructions-block * {\n                           font-weight: bold !important;\n                        }\n                        .prose ol, .prose ul {\n                           padding-left: 20px;\n                        }\n                        .question-list {\n                            list-style: none;\n                            padding-left: 0;\n                        }\n                        .question-item {\n                           margin-top: 1.5rem;\n                           display: flex;\n                           justify-content: space-between;\n                           align-items: flex-start;\n                           gap: 1rem;\n                           border-top: 1px solid #eee;\n                           padding-top: 1rem;\n                        }\n                        .question-item-text {\n                           flex-grow: 1;\n                        }\n                         .question-item-text p, .question-item-text ol, .question-item-text ul {\n                           margin-top: 0;\n                           margin-bottom: 0;\n                        }\n                        .question-item-marks {\n                            font-weight: bold;\n                        }\n                        .prose table { width: 100%; border-collapse: collapse; margin-top: 1rem; }\n                        .prose th, .prose td { border: 1px solid #ccc; padding: 8px; text-align: left; }\n                        .prose th { background-color: #f2f2f2; }\n                    </style>\n                </head>\n                <body>\n                    <div class=\"printable-content prose\">").concat(s,"</div>\n                </body>\n            </html>\n        "));t.document.close();setTimeout(()=>{t.focus();t.print();t.close()},250)};const F=async()=>{if(!l)return null;const e=document.getElementById(c==="paper"?"printable-exam":c==="key"?"printable-key":"printable-blueprint");if(!e){h({title:"Error",description:"Could not find content to generate PDF from.",variant:"destructive"});return null}const t=await tm()(e,{scale:2,useCORS:true,backgroundColor:"#ffffff"});const s=t.toDataURL("image/png");const a=new td.Ay("p","px","a4");const n=a.internal.pageSize.getWidth();const r=a.internal.pageSize.getHeight();const i=t.width;const o=t.height;const d=i/o;let u=n/d;let m=Math.ceil(u/r);for(let e=0;e<m;e++){if(e>0)a.addPage();let t=-e*r;a.addImage(s,"PNG",0,t,n,u)}return a.output("blob")};const T=async()=>{if(!l)return;h({title:"Preparing Download...",description:"Your ".concat(c==="paper"?"exam paper":c==="key"?"answer key":"blueprint"," is being converted to PDF.")});const e=await F();if(e){const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="".concat(c==="paper"?"exam-paper":c==="key"?"answer-key":"blueprint",".pdf");document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t)}};const L=async()=>{if(!l)return;if(!x){h({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}r(true);h({title:"Uploading to Cloud...",description:"Your exam paper is being saved to your account."});try{const e=await F();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t=p.getValues("examTitle").replace(/\s/g,"_");const s=p.getValues("subject");const a="ExamPaper_".concat(s,"_").concat(t,".pdf");await eY(x.uid,a,e);h({title:"Saved to Cloud!",description:"Your exam paper has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);h({variant:"destructive",title:"Upload Failed",description:"Could not save your exam paper. Please try again."})}finally{r(false)}};const{header:E,instructions:M,questions:U}=(l===null||l===void 0?void 0:l.examPaperContent)?sW(l.examPaperContent):{header:"",instructions:"",questions:[]};const _=(l===null||l===void 0?void 0:l.answerKeyContent)?sF.xI.parse(l.answerKeyContent):"";const V=(l===null||l===void 0?void 0:l.blueprintContent)?sF.xI.parse(l.blueprintContent):"";return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Exam Paper Generator"}),(0,a.jsx)(eL,{children:"Create high-quality exam papers based on modern curriculum patterns."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...p,children:(0,a.jsxs)("form",{onSubmit:p.handleSubmit(R),className:"space-y-6",children:[(0,a.jsx)(tj,{control:p.control,name:"examTitle",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Exam Title"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., Final Term Physics",...t})}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(tj,{control:p.control,name:"standard",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Standard / Grade"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., 12th",...t})}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:p.control,name:"subject",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Subject"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., Mathematics",...t})}),(0,a.jsx)(tk,{})]})}})]}),(0,a.jsx)(tj,{control:p.control,name:"curriculum",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Curriculum / Board"}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select curriculum"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"ncert",children:"NCERT"}),(0,a.jsx)(tU,{value:"nios",children:"NIOS"}),(0,a.jsx)(tU,{value:"board",children:"Standard Board Pattern"})]})]}),(0,a.jsx)(tC,{children:"The AI will generate questions based on the selected pattern."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsx)(tj,{control:p.control,name:"totalMarks",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Total Marks"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., 70",...t})}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:p.control,name:"timeAllotted",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Time Allotted"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., 3 Hours",...t})}),(0,a.jsx)(tk,{})]})}})]}),(0,a.jsx)(tj,{control:p.control,name:"syllabus",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Syllabus / Topics"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Paste the syllabus or list the topics to be covered. e.g., Chapter 1: Chemical Reactions, Chapter 2: Acids, Bases and Salts",className:"min-h-[120px]",...t})}),(0,a.jsx)(tC,{children:"Be specific for the best results."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:p.control,name:"isMCQOnly",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ty,{children:"MCQ Only Mode"}),(0,a.jsx)(tC,{children:"Generate a paper with only multiple-choice questions."})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(si,{checked:t.value,onCheckedChange:e=>{t.onChange(e);if(e)p.setValue("isSectionWise",false)}})})]})}}),(0,a.jsx)(tj,{control:p.control,name:"difficulty",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Difficulty Level"}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select difficulty"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"easy",children:"Easy"}),(0,a.jsx)(tU,{value:"medium",children:"Medium"}),(0,a.jsx)(tU,{value:"hard",children:"Hard"})]})]}),(0,a.jsx)(tk,{})]})}}),f&&(0,a.jsx)(tj,{control:p.control,name:"numQuestions",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{children:["Number of Questions: ",t.value]}),(0,a.jsx)(tN,{children:(0,a.jsx)(tY,{min:1,max:Math.min(parseInt(g)||200,200),step:1,value:[t.value],onValueChange:e=>t.onChange(e[0])})}),(0,a.jsx)(tC,{children:"Max questions is limited by Total Marks."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)(sG,{open:u,onOpenChange:m,children:[(0,a.jsx)(sO,{asChild:true,children:(0,a.jsxs)(k.$,{variant:"ghost",className:"w-full justify-start px-0",children:[(0,a.jsx)(sR.A,{className:"mr-2 h-4 w-4"}),"Advanced Settings",(0,a.jsx)(tA.A,{className:(0,C.cn)("ml-auto h-4 w-4 transition-transform",u&&"rotate-180")})]})}),(0,a.jsxs)(sB,{className:"space-y-6 pt-4",children:[(0,a.jsx)(tj,{control:p.control,name:"isSectionWise",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:"flex flex-row items-center justify-between rounded-lg border p-4 shadow-sm bg-muted/50",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ty,{className:"text-base",children:"Section Wise Generation"}),(0,a.jsx)(tC,{children:"Manually define the number of questions for each section."})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(si,{checked:t.value,onCheckedChange:e=>{t.onChange(e);if(e)p.setValue("isMCQOnly",false)}})})]})}}),j&&(0,a.jsxs)("div",{className:"p-4 border rounded-lg space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(tj,{control:p.control,name:"numMCQs",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"No. of MCQs (1 Mark)"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{type:"number",min:"0",placeholder:"e.g., 10",...t,onChange:e=>t.onChange(parseInt(e.target.value)||0)})})]})}}),(0,a.jsx)(tj,{control:p.control,name:"num1Mark",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"No. of 1-Mark Qs"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{type:"number",min:"0",placeholder:"e.g., 5",...t,onChange:e=>t.onChange(parseInt(e.target.value)||0)})})]})}}),(0,a.jsx)(tj,{control:p.control,name:"num2Mark",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"No. of 2-Mark Qs"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{type:"number",min:"0",placeholder:"e.g., 5",...t,onChange:e=>t.onChange(parseInt(e.target.value)||0)})})]})}}),(0,a.jsx)(tj,{control:p.control,name:"num3Mark",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"No. of 3-Mark Qs"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{type:"number",min:"0",placeholder:"e.g., 5",...t,onChange:e=>t.onChange(parseInt(e.target.value)||0)})})]})}}),(0,a.jsx)(tj,{control:p.control,name:"num4Mark",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"No. of 4-Mark Qs"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{type:"number",min:"0",placeholder:"e.g., 5",...t,onChange:e=>t.onChange(parseInt(e.target.value)||0)})})]})}})]}),(0,a.jsx)(P,{}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm font-medium",children:[(0,a.jsx)("span",{children:"Marks Accounted For:"}),(0,a.jsx)("span",{className:(0,C.cn)(D<0?"text-destructive":"text-primary"),children:A})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center text-sm font-medium",children:[(0,a.jsx)("span",{children:"Remaining Marks:"}),(0,a.jsx)("span",{className:(0,C.cn)(D<0?"text-destructive":""),children:D})]}),p.formState.errors.isSectionWise&&(0,a.jsxs)(sH,{variant:"destructive",children:[(0,a.jsx)(sz.A,{className:"h-4 w-4"}),(0,a.jsx)(sq,{children:"Marks Mismatch"}),(0,a.jsx)(s$,{children:p.formState.errors.isSectionWise.message})]})]}),(0,a.jsx)(tj,{control:p.control,name:"includePYQs",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ty,{children:"Include PYQs"}),(0,a.jsx)(tC,{children:"Incorporate Previous Year Questions and competitive patterns."})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(si,{checked:t.value,onCheckedChange:t.onChange})})]})}}),(0,a.jsx)(tj,{control:p.control,name:"useOriginalQuestions",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ty,{children:"Use AI-Generated Original Questions"}),(0,a.jsx)(tC,{children:"Create new practice questions that follow the curriculum."})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(si,{checked:t.value,onCheckedChange:t.onChange})})]})}}),(0,a.jsx)(tj,{control:p.control,name:"competencyPercentage",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{children:["Competency-Based Questions: ",t.value||0,"%"]}),(0,a.jsx)(tN,{children:(0,a.jsx)(tY,{min:0,max:100,step:10,defaultValue:[t.value||50],onValueChange:e=>t.onChange(e[0]),disabled:f})}),(0,a.jsx)(tC,{children:"Set the percentage of competency-based questions in the paper."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:p.control,name:"generateBlueprint",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ty,{children:"Generate Exam Blueprint"}),(0,a.jsx)(tC,{children:"Create a blueprint table of the exam structure."})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(si,{checked:t.value,onCheckedChange:t.onChange})})]})}})]})]}),(0,a.jsx)(tj,{control:p.control,name:"addAnswerKey",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{className:"flex flex-row items-center justify-between rounded-lg border p-3 shadow-sm",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(ty,{children:"Add Detailed Answer Key"}),(0,a.jsx)(tC,{children:'Generate a "topper-style" solved answer sheet.'})]}),(0,a.jsx)(tN,{children:(0,a.jsx)(si,{checked:t.value,onCheckedChange:t.onChange})})]})}}),(0,a.jsxs)(k.$,{type:"submit",disabled:e,className:"w-full",children:[e?"Generating...":"Generate Exam Paper",(0,a.jsx)(i.A,{className:"ml-2 w-4 h-4"})]})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col bg-muted/30",children:[(0,a.jsxs)(eF,{children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(eT,{children:"Generated Content"}),l&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:L,disabled:!x||s,children:(0,a.jsx)(tl.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:z,children:(0,a.jsx)(to.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:I,children:(0,a.jsx)(tc.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:T,children:(0,a.jsx)(ti.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(eL,{children:l?"Your AI-generated paper is ready.":"Your paper will appear here."})]}),(0,a.jsxs)(eE,{className:"flex-1 flex flex-col p-2 sm:p-4 md:p-6 min-h-0 items-center justify-center",children:[e&&(0,a.jsxs)("div",{className:"w-full max-w-md text-center",children:[(0,a.jsx)(tH,{}),(0,a.jsx)("p",{className:"mt-2 text-sm text-muted-foreground animate-pulse",children:"AI is creating your exam paper..."})]}),l&&!e&&(0,a.jsxs)(sE,{defaultValue:"paper",onValueChange:d,className:"w-full flex-1 flex flex-col",children:[(0,a.jsxs)(sM,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(sU,{value:"paper",children:"Question Paper"}),(0,a.jsx)(sU,{value:"key",disabled:!l.answerKeyContent,children:"Answer Key"}),(0,a.jsxs)(sU,{value:"blueprint",disabled:!l.blueprintContent,children:[(0,a.jsx)(sI.A,{className:"mr-2 h-4 w-4"}),"Blueprint"]})]}),(0,a.jsx)(s_,{value:"paper",className:"flex-1 mt-2 min-h-0",children:(0,a.jsxs)(t$,{className:"h-full w-full rounded-md border",children:[(0,a.jsx)("style",{children:"\n                                        .instructions-block, .instructions-block * {\n                                            font-weight: bold !important;\n                                        }\n                                        "}),(0,a.jsxs)("div",{id:"printable-exam",className:"prose prose-sm sm:prose-base max-w-none font-serif p-8 bg-white text-black",children:[(0,a.jsx)("div",{className:"header-content",dangerouslySetInnerHTML:{__html:E.replace(/<p>----------<\/p>/gi,"")}}),M&&(0,a.jsx)("div",{className:"instructions-block my-12",dangerouslySetInnerHTML:{__html:M}}),(0,a.jsx)("div",{className:"question-list space-y-2 divide-y divide-dashed",children:U.map((e,t)=>(0,a.jsx)("div",{className:"question-item flex justify-between items-start gap-4 pt-4",children:e.number?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"question-item-text flex-grow flex gap-2",children:[(0,a.jsxs)("span",{className:"font-bold",children:[e.number,"."]}),(0,a.jsx)("div",{className:"inline",dangerouslySetInnerHTML:{__html:e.text}})]}),(0,a.jsx)("div",{className:"question-item-marks font-bold shrink-0",children:e.marks})]}):(0,a.jsx)("div",{className:"w-full font-bold",dangerouslySetInnerHTML:{__html:e.text}})},t))})]})]})}),(0,a.jsx)(s_,{value:"key",className:"flex-1 mt-2 min-h-0",children:(0,a.jsx)(t$,{className:"h-full w-full rounded-md border",children:(0,a.jsx)("div",{id:"printable-key",className:(0,C.cn)("prose prose-sm sm:prose-base max-w-none p-8 bg-white text-black font-patrick-hand"),dangerouslySetInnerHTML:{__html:_}})})}),(0,a.jsx)(s_,{value:"blueprint",className:"flex-1 mt-2 min-h-0",children:(0,a.jsx)(t$,{className:"h-full w-full rounded-md border",children:(0,a.jsx)("div",{id:"printable-blueprint",className:"prose prose-sm sm:prose-base max-w-none p-8 bg-white text-black",dangerouslySetInnerHTML:{__html:V}})})})]}),!e&&!l&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-center text-muted-foreground p-8 rounded-md border bg-background",children:(0,a.jsx)("p",{children:"Fill in the details to generate a custom exam paper based on your selected curriculum."})})]})]})]})}var sX=s(50172);var sJ=s(50442);var sZ=s(13824);const s0=(0,tG.createServerReference)("401faf2d921f9f56a715d40a1323fa5a934d3d7601",tG.callServer,undefined,tG.findSourceMapURL,"generateShortNotes");const s1=e5.z.object({chapterContent:e5.z.string().min(100,{message:"Chapter content must be at least 100 characters."}),detailLevel:e5.z.enum(["concise","detailed","comprehensive"]).default("detailed")});sZ.EA.workerSrc="//unpkg.com/pdfjs-dist@".concat(sZ.rE,"/build/pdf.worker.min.mjs");function s2(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,i]=(0,n.useState)(false);const[c,d]=(0,n.useState)(null);const{toast:u}=(0,eq.dj)();const{user:m}=(0,eG.A)();const h=(0,n.useRef)(null);const x=(0,e4.mN)({resolver:(0,e2.u)(s1),defaultValues:{chapterContent:"",detailLevel:"detailed"}});const p=async e=>{var t;const s=(t=e.target.files)===null||t===void 0?void 0:t[0];if(!s)return;if(s.type!=="application/pdf"){u({variant:"destructive",title:"Invalid File Type",description:"Please upload a PDF file."});return}r(true);u({title:"Processing PDF...",description:"Extracting text from your document."});try{const e=await s.arrayBuffer();const t=await sZ.YE(e).promise;const a=t.numPages;let n="";for(let e=1;e<=a;e++){const s=await t.getPage(e);const a=await s.getTextContent();const r=a.items.map(e=>e.str).join(" ");n+=r+"\n\n"}x.setValue("chapterContent",n,{shouldValidate:true});u({title:"Success!",description:"PDF content has been extracted and loaded."})}catch(e){console.error("Failed to parse PDF:",e);u({variant:"destructive",title:"PDF Parsing Error",description:"Could not read the content from the PDF file. Please try another file."})}finally{r(false);e.target.value=""}};async function f(e){t(true);d(null);try{const t=await s0(e);d(t)}catch(e){console.error(e);u({variant:"destructive",title:"Error",description:"Failed to generate notes. Please try again."})}finally{t(false)}}const g=async()=>{if(!h.current)return null;const e=await tm()(h.current,{scale:2,backgroundColor:"#ffffff"});const t=e.toDataURL("image/png");const s=new td.Ay("p","px","a4");const a=s.internal.pageSize.getWidth();const n=s.internal.pageSize.getHeight();const r=e.width;const l=e.height;const i=r/l;let o=a/i;const c=Math.ceil(o/n);for(let e=0;e<c;e++){if(e>0)s.addPage();const r=-e*n;s.addImage(t,"PNG",0,r,a,o)}return s.output("blob")};const j=async()=>{u({title:"Preparing Download...",description:"Your notes are being converted to PDF."});const e=await g();if(e){const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="short-notes.pdf";document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t)}};const b=async()=>{if(!m){u({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}i(true);u({title:"Uploading to Cloud...",description:"Your notes are being saved."});try{const e=await g();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t="Short_Notes_".concat(new Date().toISOString(),".pdf");await eY(m.uid,t,e);u({title:"Saved to Cloud!",description:"Your notes have been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);u({variant:"destructive",title:"Upload Failed",description:"Could not save your notes. Please try again."})}finally{i(false)}};const v=c?sF.xI.parse(c.shortNotes):"";return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Short Notes Generator"}),(0,a.jsx)(eL,{children:"Upload a PDF or paste chapter content to get well-structured short notes."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...x,children:(0,a.jsxs)("form",{onSubmit:x.handleSubmit(f),className:"space-y-8",children:[(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Upload Chapter PDF"}),(0,a.jsx)(tN,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.$,{asChild:true,variant:"outline",className:"w-full",disabled:s,children:(0,a.jsxs)("label",{htmlFor:"pdf-upload",className:"cursor-pointer",children:[s?(0,a.jsx)(sX.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(sJ.A,{className:"mr-2 h-4 w-4"}),s?"Parsing PDF...":"Upload PDF File"]})}),(0,a.jsx)(S,{id:"pdf-upload",type:"file",className:"sr-only",accept:".pdf",onChange:p,disabled:s})]})}),(0,a.jsx)(tC,{children:"The extracted text will appear in the text area below."})]}),(0,a.jsx)(tj,{control:x.control,name:"chapterContent",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Chapter / Document Content"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Paste the full text from your chapter here, or upload a PDF above.",className:"min-h-[250px]",...t})}),(0,a.jsx)(tC,{children:"The better the quality of the source text, the better the notes."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:x.control,name:"detailLevel",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Detail Level"}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a detail level"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"concise",children:"Concise - Quick overview"}),(0,a.jsx)(tU,{value:"detailed",children:"Detailed - Standard revision notes"}),(0,a.jsx)(tU,{value:"comprehensive",children:"Comprehensive - In-depth study notes"})]})]}),(0,a.jsx)(tC,{children:"Choose how in-depth you want your notes to be."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)(k.$,{type:"submit",disabled:e||s,className:"w-full",children:[e?"Generating...":"Generate Notes",(0,a.jsx)(tn.A,{className:"ml-2 w-4 h-4"})]})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col",children:[(0,a.jsxs)(eF,{children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(eT,{children:"Generated Notes"}),c&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:b,disabled:!m||l,children:(0,a.jsx)(tl.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:j,children:(0,a.jsx)(ti.A,{className:"h-4 w-4"})})]})]}),(0,a.jsx)(eL,{children:"Your AI-generated short notes will appear here."})]}),(0,a.jsx)(eE,{className:"flex-1 min-h-0",children:(0,a.jsx)(t$,{className:"h-full w-full rounded-md border",children:(0,a.jsxs)("div",{ref:h,className:"p-4 bg-white dark:bg-card",children:[e&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(O,{className:"h-6 w-1/3"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-5/6"}),(0,a.jsx)("br",{}),(0,a.jsx)(O,{className:"h-6 w-1/2"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-4/5"}),(0,a.jsx)(O,{className:"h-4 w-full"})]}),c&&(0,a.jsx)("div",{className:"prose prose-sm sm:prose-base max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:v}}),!e&&!c&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-center text-muted-foreground p-8",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(o.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{children:"Your generated notes will be displayed here, perfectly structured for your study needs."})]})})]})})})]})]})};const s4=(0,tG.createServerReference)("406af84a1aa303d35201cddd8ca72239940bca1361",tG.callServer,undefined,tG.findSourceMapURL,"solveBooklet");const s5=e5.z.object({documentContent:e5.z.string().min(100,{message:"Document content must be at least 100 characters."}),detailLevel:e5.z.enum(["short","medium","detailed"]).default("detailed")});sZ.EA.workerSrc="//unpkg.com/pdfjs-dist@".concat(sZ.rE,"/build/pdf.worker.min.mjs");function s3(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,i]=(0,n.useState)(false);const[o,c]=(0,n.useState)(null);const{toast:d}=(0,eq.dj)();const{user:m}=(0,eG.A)();const h=(0,n.useRef)(null);const x=(0,e4.mN)({resolver:(0,e2.u)(s5),defaultValues:{documentContent:"",detailLevel:"detailed"}});const p=async e=>{var t;const s=(t=e.target.files)===null||t===void 0?void 0:t[0];if(!s)return;if(s.type!=="application/pdf"){d({variant:"destructive",title:"Invalid File Type",description:"Please upload a PDF file."});return}r(true);d({title:"Processing PDF...",description:"Extracting text from your document."});try{const e=await s.arrayBuffer();const t=await sZ.YE(e).promise;const a=t.numPages;let n="";for(let e=1;e<=a;e++){const s=await t.getPage(e);const a=await s.getTextContent();const r=a.items.map(e=>e.str).join(" ");n+=r+"\n\n"}x.setValue("documentContent",n,{shouldValidate:true});d({title:"Success!",description:"PDF content has been extracted and loaded."})}catch(e){console.error("Failed to parse PDF:",e);d({variant:"destructive",title:"PDF Parsing Error",description:"Could not read the content from the PDF file. Please try another file."})}finally{r(false);e.target.value=""}};async function f(e){t(true);c(null);try{const t=await s4(e);c(t)}catch(e){console.error(e);d({variant:"destructive",title:"Error",description:"Failed to solve the booklet. Please try again."})}finally{t(false)}}const g=async()=>{if(!h.current)return null;const e=await tm()(h.current,{scale:2,backgroundColor:"#ffffff"});const t=e.toDataURL("image/png");const s=new td.Ay("p","px","a4");const a=s.internal.pageSize.getWidth();const n=s.internal.pageSize.getHeight();const r=e.width;const l=e.height;const i=r/l;let o=a/i;const c=Math.ceil(o/n);for(let e=0;e<c;e++){if(e>0)s.addPage();const r=-e*n;s.addImage(t,"PNG",0,r,a,o)}return s.output("blob")};const j=async()=>{d({title:"Preparing Download...",description:"Your answer key is being converted to PDF."});const e=await g();if(e){const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="solved-answer-key.pdf";document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t);d({title:"Download Complete!",description:"Your solved answer key has been downloaded."})}};const b=async()=>{if(!m){d({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}i(true);d({title:"Uploading to Cloud...",description:"Your answer key is being saved."});try{const e=await g();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t="Solved_Booklet_".concat(new Date().toISOString(),".pdf");await eY(m.uid,t,e);d({title:"Saved to Cloud!",description:"Your answer key has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);d({variant:"destructive",title:"Upload Failed",description:"Could not save your answer key. Please try again."})}finally{i(false)}};const v=()=>{if(!h.current)return;const e=window.open("","","height=800,width=800");if(e){e.document.write("<html><head><title>Print Answer Key</title>");e.document.write("<style>body { font-family: sans-serif; } .prose { max-width: 100%; } h2, h3 { margin-top: 1.5em; } </style>");e.document.write("</head><body>");e.document.write(h.current.innerHTML);e.document.write("</body></html>");e.document.close();e.focus();setTimeout(()=>{e.print();e.close()},250)}};const w=o?sF.xI.parse(o.solvedAnswers):"";return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Booklet Solver"}),(0,a.jsx)(eL,{children:"Upload any question booklet (PDF) and get a highly detailed, solved answer key."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...x,children:(0,a.jsxs)("form",{onSubmit:x.handleSubmit(f),className:"space-y-8",children:[(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Upload Booklet PDF"}),(0,a.jsx)(tN,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.$,{asChild:true,variant:"outline",className:"w-full",disabled:s,children:(0,a.jsxs)("label",{htmlFor:"booklet-upload",className:"cursor-pointer",children:[s?(0,a.jsx)(sX.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(sJ.A,{className:"mr-2 h-4 w-4"}),s?"Parsing PDF...":"Upload Question Booklet"]})}),(0,a.jsx)(S,{id:"booklet-upload",type:"file",className:"sr-only",accept:".pdf",onChange:p,disabled:s})]})}),(0,a.jsx)(tC,{children:"The extracted text will appear in the text area below."})]}),(0,a.jsx)(tj,{control:x.control,name:"documentContent",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Document Content"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Paste the full text from your booklet here, or upload a PDF above.",className:"min-h-[250px]",...t})}),(0,a.jsx)(tC,{children:"The AI will identify and solve all questions from this content."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:x.control,name:"detailLevel",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Answer Key Detail Level"}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a detail level"})})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"short",children:"Short - Final answers only"}),(0,a.jsx)(tU,{value:"medium",children:"Medium - Brief explanations"}),(0,a.jsx)(tU,{value:"detailed",children:"Detailed - Step-by-step solutions"})]})]}),(0,a.jsx)(tC,{children:"Choose how verbose you want the answer key to be."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)(k.$,{type:"submit",disabled:e||s,className:"w-full",children:[e?"Solving...":"Solve Booklet",(0,a.jsx)(tn.A,{className:"ml-2 w-4 h-4"})]})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col",children:[(0,a.jsx)(eF,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eT,{children:"Solved Answer Key"}),(0,a.jsx)(eL,{children:"A detailed answer key will appear here."})]}),o&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:b,disabled:!m||l,children:(0,a.jsx)(tl.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:v,children:(0,a.jsx)(tc.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:j,children:(0,a.jsx)(ti.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(eE,{className:"flex-1 min-h-0",children:(0,a.jsx)(t$,{className:"h-full w-full rounded-md border",children:(0,a.jsx)("div",{className:"p-4 bg-white dark:bg-card",children:(0,a.jsxs)("div",{ref:h,className:"p-4",children:[e&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(O,{className:"h-6 w-1/3"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-5/6"}),(0,a.jsx)("br",{}),(0,a.jsx)(O,{className:"h-6 w-1/2"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-4/5"}),(0,a.jsx)(O,{className:"h-4 w-full"})]}),o&&(0,a.jsx)("div",{className:"prose prose-sm sm:prose-base max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:w}}),!e&&!o&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-center text-muted-foreground p-8",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(u.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{children:"Your solved answer key will be displayed here, ready for review."})]})})]})})})})]})]})}var s8=s(76215);var s6=s(73158);var s9=s(70154);const s7=s8.bL;const ae=s8.l9;const at=s8.YJ;const as=s8.ZL;const aa=s8.Pb;const an=s8.z6;const ar=n.forwardRef((e,t)=>{let{className:s,inset:n,children:r,...l}=e;return(0,a.jsxs)(s8.ZP,{ref:t,className:(0,C.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...l,children:[r,(0,a.jsx)(s6.A,{className:"ml-auto"})]})});ar.displayName=s8.ZP.displayName;const al=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(s8.G5,{ref:t,className:(0,C.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...n})});al.displayName=s8.G5.displayName;const ai=n.forwardRef((e,t)=>{let{className:s,sideOffset:n=4,...r}=e;return(0,a.jsx)(s8.ZL,{children:(0,a.jsx)(s8.UC,{ref:t,sideOffset:n,className:(0,C.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})})});ai.displayName=s8.UC.displayName;const ao=n.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(s8.q7,{ref:t,className:(0,C.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",n&&"pl-8",s),...r})});ao.displayName=s8.q7.displayName;const ac=n.forwardRef((e,t)=>{let{className:s,children:n,checked:r,...l}=e;return(0,a.jsxs)(s8.H_,{ref:t,className:(0,C.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:r,...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s8.VF,{children:(0,a.jsx)(tD.A,{className:"h-4 w-4"})})}),n]})});ac.displayName=s8.H_.displayName;const ad=n.forwardRef((e,t)=>{let{className:s,children:n,...r}=e;return(0,a.jsxs)(s8.hN,{ref:t,className:(0,C.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...r,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(s8.VF,{children:(0,a.jsx)(s9.A,{className:"h-2 w-2 fill-current"})})}),n]})});ad.displayName=s8.hN.displayName;const au=n.forwardRef((e,t)=>{let{className:s,inset:n,...r}=e;return(0,a.jsx)(s8.JU,{ref:t,className:(0,C.cn)("px-2 py-1.5 text-sm font-semibold",n&&"pl-8",s),...r})});au.displayName=s8.JU.displayName;const am=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(s8.wv,{ref:t,className:(0,C.cn)("-mx-1 my-1 h-px bg-muted",s),...n})});am.displayName=s8.wv.displayName;const ah=e=>{let{className:t,...s}=e;return(0,a.jsx)("span",{className:(0,C.cn)("ml-auto text-xs tracking-widest opacity-60",t),...s})};ah.displayName="DropdownMenuShortcut";var ax=s(28341);var ap=s(67270);var af=s(73503);var ag=s(28294);var aj=s(17104);function ab(e){let{activeTool:t,setActiveTool:s}=e;const{user:n,signIn:r,signOut:l}=(0,eG.A)();return(0,a.jsxs)("header",{className:"sticky top-0 z-10 flex h-16 items-center justify-between gap-4 border-b bg-background/80 px-4 backdrop-blur-md sm:px-6",children:[(0,a.jsxs)(z,{children:[(0,a.jsx)(I,{asChild:true,children:(0,a.jsxs)(k.$,{variant:"outline",size:"icon",className:"shrink-0 md:hidden",children:[(0,a.jsx)(ax.A,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle navigation menu"})]})}),(0,a.jsxs)(M,{side:"left",children:[(0,a.jsxs)(U,{className:"text-left",children:[(0,a.jsx)(V,{children:"DOC AI"}),(0,a.jsx)(G,{children:"Your intelligent assistant for documents and presentations."})]}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)(k.$,{variant:"ghost",className:"justify-start gap-2",children:[(0,a.jsx)(ap.A,{className:"h-4 w-4"}),"How to use"]}),(0,a.jsxs)(k.$,{variant:"ghost",className:"justify-start gap-2",children:[(0,a.jsx)(af.A,{className:"h-4 w-4"}),"Tools Introduction"]}),(0,a.jsxs)(k.$,{variant:"ghost",className:"justify-start gap-2",children:[(0,a.jsx)(e7.A,{className:"h-4 w-4"}),"Feedback"]})]})]})]}),(0,a.jsx)("div",{className:"flex-1",children:t!=="dashboard"&&(0,a.jsxs)(k.$,{variant:"ghost",onClick:()=>s("dashboard"),children:[(0,a.jsx)(t9.A,{className:"mr-2 h-4 w-4"}),"Back"]})}),(0,a.jsxs)(s7,{children:[(0,a.jsx)(ae,{asChild:true,children:(0,a.jsxs)(k.$,{variant:"ghost",size:"icon",className:"rounded-full",children:[(0,a.jsx)(ag.A,{className:"h-6 w-6"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle user menu"})]})}),(0,a.jsxs)(ai,{align:"end",children:[(0,a.jsx)(au,{children:n?n.displayName:"Guest Account"}),(0,a.jsx)(am,{}),(0,a.jsxs)(ao,{onClick:()=>s("settings"),children:[(0,a.jsx)(sR.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Settings"})]}),(0,a.jsx)(am,{}),n?(0,a.jsxs)(ao,{onClick:l,children:[(0,a.jsx)(j.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Logout"})]}):(0,a.jsxs)(ao,{onClick:r,children:[(0,a.jsx)(aj.A,{className:"mr-2 h-4 w-4"}),(0,a.jsx)("span",{children:"Login"})]})]})]})]})};const av=e=>(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",width:"24px",height:"24px",...e,children:[(0,a.jsx)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,a.jsx)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,a.jsx)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.222,0-9.519-3.357-11.297-7.962l-6.571,4.819C9.656,39.663,16.318,44,24,44z"}),(0,a.jsx)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571l6.19,5.238C39.99,35.536,44,30.169,44,24C44,22.659,43.862,21.35,43.611,20.083z"})]});function aw(){const[e,t]=n.useState("dark");const[s,r]=n.useState("en-us");const{toast:l}=(0,eq.dj)();const{user:i,signIn:o,signOut:c,isFirebaseConfigured:d}=(0,eG.A)();n.useEffect(()=>{const t=window.document.documentElement;t.classList.remove("light","dark");if(e==="system"){const e=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";t.classList.add(e);return}t.classList.add(e)},[e]);const u=()=>{if(!d){l({title:"Configuration Required",description:"Please configure Firebase in your .env file to enable cloud features.",variant:"destructive"});return}if(!i){l({title:"Login Required",description:"Please sign in to enable cloud sync.",variant:"destructive"});return}l({title:"Coming Soon!",description:"Cloud Storage is not yet configured. Please set up Firebase to enable cloud sync."})};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Settings"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your account and application preferences."})]}),(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Appearance"}),(0,a.jsx)(eL,{children:"Customize the look and feel of the application."})]}),(0,a.jsx)(eE,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,a.jsxs)(tp,{htmlFor:"theme-mode",className:"flex flex-col space-y-1",children:[(0,a.jsx)("span",{children:"Theme"}),(0,a.jsx)("span",{className:"font-normal leading-snug text-muted-foreground",children:"Select between light and dark mode."})]}),(0,a.jsx)(si,{id:"theme-mode",checked:e==="dark",onCheckedChange:e=>t(e?"dark":"light"),"aria-label":"Toggle dark mode"})]})})]}),(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Account"}),(0,a.jsx)(eL,{children:"Manage your account settings and connected services."})]}),(0,a.jsxs)(eE,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,a.jsxs)(tp,{htmlFor:"google-auth",className:"flex flex-col space-y-1",children:[(0,a.jsx)("span",{children:"Google Account"}),(0,a.jsx)("span",{className:"font-normal leading-snug text-muted-foreground",children:i?"Signed in as ".concat(i.email):"Sign in to sync your documents across devices."})]}),i?(0,a.jsx)(k.$,{variant:"outline",onClick:c,children:"Sign Out"}):(0,a.jsx)(Y,{children:(0,a.jsxs)(H,{children:[(0,a.jsx)(q,{asChild:true,children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsxs)(k.$,{variant:"outline",id:"google-auth",onClick:o,disabled:!d,children:[(0,a.jsx)(av,{className:"mr-2"}),"Sign in with Google"]})})}),!d&&(0,a.jsx)($,{children:(0,a.jsx)("p",{children:"Firebase is not configured. Add API keys to .env to enable sign-in."})})]})})]}),(0,a.jsx)(P,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,a.jsxs)(tp,{htmlFor:"cloud-storage",className:"flex flex-col space-y-1",children:[(0,a.jsx)("span",{children:"Cloud Storage"}),(0,a.jsx)("span",{className:"font-normal leading-snug text-muted-foreground",children:d&&i?"Your documents are saved automatically.":"Sign in to enable cloud storage."})]}),(0,a.jsx)(k.$,{variant:"secondary",id:"cloud-storage",onClick:u,disabled:!d,children:"Enable Cloud Sync"})]})]})]}),(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Language & Region"}),(0,a.jsx)(eL,{children:"Set your preferred language for the application."})]}),(0,a.jsx)(eE,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,a.jsx)(tp,{htmlFor:"language",className:"flex-1",children:"App Language"}),(0,a.jsxs)(tR,{value:s,onValueChange:r,children:[(0,a.jsx)(tF,{className:"w-[200px]",id:"language",children:(0,a.jsx)(tI,{placeholder:"Select language"})}),(0,a.jsxs)(tE,{children:[(0,a.jsx)(tU,{value:"en-us",children:"English (United States)"}),(0,a.jsx)(tU,{value:"es-es",children:"Espa\xf1ol (Espa\xf1a)"}),(0,a.jsx)(tU,{value:"fr-fr",children:"Fran\xe7ais (France)"}),(0,a.jsx)(tU,{value:"de-de",children:"Deutsch (Deutschland)"})]})]})]})})]}),(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"About"}),(0,a.jsx)(eL,{children:"Information about the application."})]}),(0,a.jsxs)(eE,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,a.jsx)(tp,{htmlFor:"help-center",children:"Help Center"}),(0,a.jsx)(k.$,{variant:"outline",id:"help-center",asChild:true,children:(0,a.jsx)("a",{href:"#",target:"_blank",rel:"noopener noreferrer",children:"Visit Help Center"})})]}),(0,a.jsx)(P,{}),(0,a.jsxs)("div",{className:"flex items-center justify-between space-x-2",children:[(0,a.jsx)(tp,{htmlFor:"app-version",children:"App Version"}),(0,a.jsx)("span",{id:"app-version",className:"text-sm text-muted-foreground",children:"1.0.0"})]})]})]})]})}var ay=s(73672);var aN=s(98176);const aC=aN.bL;const ak=aN.l9;const aS=n.forwardRef((e,t)=>{let{className:s,align:n="center",sideOffset:r=4,...l}=e;return(0,a.jsx)(aN.ZL,{children:(0,a.jsx)(aN.UC,{ref:t,align:n,sideOffset:r,className:(0,C.cn)("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...l})})});aS.displayName=aN.UC.displayName;const aA=(0,tG.createServerReference)("40e57e3b381f615d9b5f419bf424e5188cd23d8d35",tG.callServer,undefined,tG.findSourceMapURL,"chatWithAssistant");function aP(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)([]);const[l,i]=(0,n.useState)("");const[o,c]=(0,n.useState)(false);const d=(0,n.useRef)(null);(0,n.useEffect)(()=>{if(d.current){d.current.scrollTo({top:d.current.scrollHeight,behavior:"smooth"})}},[s]);const u=async()=>{if(!l.trim())return;const e={text:l,isUser:true};r(t=>[...t,e]);i("");c(true);try{const e=await aA({question:l});const t={text:e.answer,isUser:false};r(e=>[...e,t])}catch(t){const e={text:"Sorry, I'm having trouble connecting. Please try again later.",isUser:false};r(t=>[...t,e]);console.error("AI Assistant Error:",t)}finally{c(false)}};return(0,a.jsxs)(aC,{open:e,onOpenChange:t,children:[(0,a.jsx)(ak,{asChild:true,children:(0,a.jsx)(k.$,{className:"fixed bottom-6 right-6 rounded-full w-16 h-16 shadow-lg bg-primary hover:bg-primary/90 transition-all duration-300 animate-float-glow",children:(0,a.jsx)(af.A,{className:"w-8 h-8 text-primary-foreground"})})}),(0,a.jsx)(aS,{side:"top",align:"end",className:"w-80 sm:w-96 rounded-2xl shadow-2xl p-0 border-none bg-card/80 backdrop-blur-xl",onCloseAutoFocus:e=>e.preventDefault(),children:(0,a.jsxs)("div",{className:"flex flex-col h-[60vh]",children:[(0,a.jsxs)("div",{className:"p-4 border-b",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-center font-headline",children:"AI Assistant"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground text-center",children:"I can help with problem-solving and educational questions."})]}),(0,a.jsx)(t$,{className:"flex-1",ref:d,children:(0,a.jsxs)("div",{className:"p-4 space-y-4",children:[s.map((e,t)=>(0,a.jsxs)("div",{className:(0,C.cn)("flex items-start gap-3",e.isUser?"justify-end":"justify-start"),children:[!e.isUser&&(0,a.jsx)(eA,{className:"w-8 h-8 border",children:(0,a.jsx)(eD,{className:"bg-primary text-primary-foreground",children:(0,a.jsx)(af.A,{size:20})})}),(0,a.jsx)("div",{className:(0,C.cn)("max-w-xs rounded-2xl px-4 py-2 text-sm",e.isUser?"bg-primary text-primary-foreground rounded-br-none":"bg-muted rounded-bl-none"),children:e.text}),e.isUser&&(0,a.jsx)(eA,{className:"w-8 h-8 border",children:(0,a.jsx)(eD,{children:(0,a.jsx)(h.A,{size:18})})})]},t)),o&&(0,a.jsxs)("div",{className:"flex items-start gap-3 justify-start",children:[(0,a.jsx)(eA,{className:"w-8 h-8 border",children:(0,a.jsx)(eD,{className:"bg-primary text-primary-foreground",children:(0,a.jsx)(af.A,{size:20})})}),(0,a.jsx)("div",{className:"max-w-xs rounded-2xl px-4 py-2 text-sm bg-muted rounded-bl-none flex items-center",children:(0,a.jsx)(sX.A,{className:"w-5 h-5 animate-spin text-muted-foreground"})})]})]})}),(0,a.jsx)("div",{className:"p-4 border-t",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(S,{value:l,onChange:e=>i(e.target.value),onKeyDown:e=>e.key==="Enter"&&!o&&u(),placeholder:"Ask a question...",className:"flex-1",disabled:o}),(0,a.jsx)(k.$,{onClick:u,disabled:o,size:"icon",className:"shrink-0",children:(0,a.jsx)(ay.A,{className:"w-4 h-4"})})]})})]})})]})}var aD=s(17569);const aR=(0,tG.createServerReference)("40e25d55f6eb6bc667718661ad3a3384592bf731e8",tG.callServer,undefined,tG.findSourceMapURL,"generateProjectBlueprint");const az=["medium","high","ultra","max"];const aI=e5.z.enum(az);const aF=e5.z.object({projectPrompt:e5.z.string().min(10,{message:"Project description must be at least 10 characters."}),qualityLevel:aI.default("high")});function aT(){return(0,a.jsxs)("div",{className:"relative w-64 h-48 flex items-center justify-center",children:[(0,a.jsx)(g.A,{className:"absolute w-16 h-16 text-muted-foreground/50 animate-spin",style:{animationDuration:"10s"}}),(0,a.jsx)(g.A,{className:"absolute w-12 h-12 top-8 left-16 text-muted-foreground/40 animate-spin-reverse",style:{animationDuration:"8s"}}),(0,a.jsx)(g.A,{className:"absolute w-10 h-10 bottom-10 right-16 text-muted-foreground/30 animate-spin",style:{animationDuration:"12s"}}),(0,a.jsxs)("div",{className:"relative w-56 h-40 bg-card rounded-md shadow-lg overflow-hidden border",children:[(0,a.jsx)("div",{className:"absolute inset-0 bg-blue-500/10 grid grid-cols-10 grid-rows-10",children:Array.from({length:100}).map((e,t)=>(0,a.jsx)("div",{className:"border-r border-b border-blue-500/10"},t))}),(0,a.jsxs)("div",{className:"absolute inset-0 p-4 space-y-2",children:[(0,a.jsx)("div",{className:"h-4 w-3/4 bg-primary/50 rounded-sm animate-print-lines",style:{animationDelay:"0.5s"}}),(0,a.jsx)("div",{className:"h-3 w-1/2 bg-muted-foreground/30 rounded-sm animate-print-lines",style:{animationDelay:"1s"}}),(0,a.jsx)("div",{className:"h-10 w-full bg-muted-foreground/20 rounded-sm animate-print-lines",style:{animationDelay:"1.2s"}})]})]})]})}function aL(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,i]=(0,n.useState)(0);const[o,c]=(0,n.useState)("");const[d,u]=(0,n.useState)(null);const{toast:h}=(0,eq.dj)();const{user:x}=(0,eG.A)();const p=(0,n.useRef)(null);const f=(0,e4.mN)({resolver:(0,e2.u)(aF),defaultValues:{projectPrompt:"",qualityLevel:"high"}});const g=f.watch("qualityLevel");async function j(e){t(true);u(null);i(0);c("Initializing...");try{i(10);c("Warming up the engineering AI...");const t=aR(e);const s=setInterval(()=>{i(e=>{if(e>=90){clearInterval(s);return e}if(e<50)c("Generating textual content...");else c("Creating SVG blueprint...");return e+7})},800);const a=await t;clearInterval(s);i(100);c("Blueprint generated!");u(a)}catch(e){console.error(e);i(0);c("Error!");h({variant:"destructive",title:"Error",description:"Failed to generate project blueprint. Please try again."})}finally{t(false)}}const b=()=>{if(!(d===null||d===void 0?void 0:d.svgBlueprint))return;const e=new Blob([d.svgBlueprint],{type:"image/svg+xml"});const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="project-blueprint.svg";document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t);h({title:"Download Started",description:"Your blueprint is being downloaded as an SVG."})};const v=async()=>{if(!p.current)return null;const e=await tm()(p.current,{scale:2,useCORS:true,backgroundColor:null});const t=e.toDataURL("image/png");const s=new td.Ay("p","px","a4");const a=s.internal.pageSize.getWidth();const n=s.internal.pageSize.getHeight();const r=e.width;const l=e.height;const i=r/l;let o=a/i;let c=Math.ceil(o/n);for(let e=0;e<c;e++){if(e>0)s.addPage();let r=-e*n;s.addImage(t,"PNG",0,r,a,o)}return s.output("blob")};const w=async()=>{h({title:"Preparing PDF...",description:"Please wait while we generate your document."});const e=await v();if(e){const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="project-blueprint.pdf";document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t);h({title:"Download Complete!",description:"Your blueprint has been saved as a PDF."})}};const y=async()=>{if(!x){h({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}r(true);h({title:"Uploading to Cloud...",description:"Your project blueprint is being saved."});try{const e=await v();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t=f.getValues("projectPrompt").substring(0,30).replace(/\s/g,"_");const s="Blueprint_".concat(t,".pdf");await eY(x.uid,s,e);h({title:"Saved to Cloud!",description:"Your blueprint has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);h({variant:"destructive",title:"Upload Failed",description:"Could not save your blueprint. Please try again."})}finally{r(false)}};const N=d?sF.xI.parse(d.materials):"";const C=d?sF.xI.parse(d.uses):"";const A=d?sF.xI.parse(d.functions):"";return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Project Blueprint Generator"}),(0,a.jsx)(eL,{children:"Describe any project, and the AI will generate a detailed plan, component list, and a 2D blueprint."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...f,children:(0,a.jsxs)("form",{onSubmit:f.handleSubmit(j),className:"space-y-8",children:[(0,a.jsx)(tj,{control:f.control,name:"projectPrompt",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Project Idea"}),(0,a.jsx)(tN,{children:(0,a.jsx)(S,{placeholder:"e.g., A simple rainwater harvesting system for a small garden",...t})}),(0,a.jsx)(tC,{children:"Be as descriptive as you can for the best results."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:f.control,name:"qualityLevel",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(e9.A,{})," Quality Level: ",(0,a.jsx)("span",{className:"font-bold capitalize",children:g})]})}),(0,a.jsx)(tN,{children:(0,a.jsx)(tY,{min:0,max:az.length-1,step:1,defaultValue:[az.indexOf(t.value)],onValueChange:e=>t.onChange(az[e[0]])})}),(0,a.jsx)(tC,{children:"Higher quality levels generate more detailed plans but take longer."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(k.$,{type:"submit",disabled:e,className:"w-full",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(e$.A,{className:"mr-2 w-4 h-4 animate-spin"}),"Engineering..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tn.A,{className:"mr-2 w-4 h-4"}),"Generate Blueprint"]})})]})})})]}),(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{className:"flex flex-row items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eT,{children:"Generated Blueprint"}),(0,a.jsx)(eL,{children:"A detailed project plan, including materials, uses, functions, and a 2D diagram."})]}),d&&!e&&(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(k.$,{onClick:y,variant:"secondary",disabled:!x||s,children:[(0,a.jsx)(tl.A,{className:"mr-2 h-4 w-4"}),s?"Saving...":"Save to Cloud"]}),(0,a.jsxs)(k.$,{onClick:w,children:[(0,a.jsx)(ti.A,{className:"mr-2 h-4 w-4"}),"Download PDF"]})]})]}),(0,a.jsxs)(eE,{className:"space-y-6 min-h-[500px]",children:[e&&(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center text-center space-y-4 p-8",children:[(0,a.jsx)(aT,{}),(0,a.jsx)(t8,{value:l,className:"w-full max-w-sm"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground animate-pulse",children:[o," (",l,"%)"]})]}),d&&!e&&(0,a.jsxs)("div",{ref:p,className:"bg-background p-4 rounded-lg",children:[(0,a.jsxs)(sb,{type:"multiple",defaultValue:["materials","uses","functions"],className:"w-full",children:[(0,a.jsxs)(sv,{value:"materials",children:[(0,a.jsxs)(sw,{className:"font-headline text-lg",children:[(0,a.jsx)(sk.A,{className:"w-5 h-5 mr-2"})," Materials Required"]}),(0,a.jsx)(sy,{children:(0,a.jsx)("div",{className:"prose prose-sm sm:prose-base max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:N}})})]}),(0,a.jsxs)(sv,{value:"uses",children:[(0,a.jsxs)(sw,{className:"font-headline text-lg",children:[(0,a.jsx)(aD.A,{className:"w-5 h-5 mr-2"})," Uses & Applications"]}),(0,a.jsx)(sy,{children:(0,a.jsx)("div",{className:"prose prose-sm sm:prose-base max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:C}})})]}),(0,a.jsxs)(sv,{value:"functions",children:[(0,a.jsxs)(sw,{className:"font-headline text-lg",children:[(0,a.jsx)(sR.A,{className:"w-5 h-5 mr-2"})," How it Works"]}),(0,a.jsx)(sy,{children:(0,a.jsx)("div",{className:"prose prose-sm sm:prose-base max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:A}})})]})]}),(0,a.jsxs)("div",{className:"space-y-4 pt-6",children:[(0,a.jsxs)("h3",{className:"font-headline text-lg flex items-center",children:[(0,a.jsx)(ta.A,{className:"w-5 h-5 mr-2"})," 2D Blueprint"]}),d.svgBlueprint?(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"w-full max-w-3xl aspect-video rounded-lg overflow-hidden shadow-lg border bg-white p-4",dangerouslySetInnerHTML:{__html:d.svgBlueprint}}),(0,a.jsxs)(k.$,{onClick:b,variant:"secondary",children:[(0,a.jsx)(eV.A,{className:"mr-2 h-4 w-4"}),"Download Blueprint (SVG)"]})]}):(0,a.jsxs)(sH,{variant:"destructive",children:[(0,a.jsx)(sz.A,{className:"h-4 w-4"}),(0,a.jsx)(sq,{children:"Blueprint Generation Failed"}),(0,a.jsx)(s$,{children:"The AI was unable to generate a visual blueprint for this project. This can sometimes happen due to content safety filters or model limitations. Please try a different or more specific project idea."})]})]})]}),!e&&!d&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-center text-muted-foreground p-8 rounded-md border-2 border-dashed min-h-[400px]",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(m.A,{className:"w-16 h-16 mx-auto mb-4 text-primary/70"}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-2",children:"Your Project Blueprint Awaits"}),(0,a.jsx)("p",{children:"Enter your project idea above, and the AI will generate a complete guide and a 2D diagram."})]})})]})]})]})}var aE=s(93875);const aM=(0,tG.createServerReference)("40a1d857e1334e1684db58f2bbc376a2684b85ac1a",tG.callServer,undefined,tG.findSourceMapURL,"convertToHandwriting");const aU=[{name:"Patrick Hand",className:"font-patrick-hand",description:"Neat & Friendly"},{name:"Kalam",className:"font-kalam",description:"Natural & Slanted"},{name:"Reenie Beanie",className:"font-reenie-beanie",description:"Thin & Scratchy"},{name:"Rock Salt",className:"font-rock-salt",description:"Bold Marker"},{name:"Caveat",className:"font-caveat",description:"Casual & Looping"},{name:"Dancing Script",className:"font-dancing-script",description:"Elegant & Flowing"},{name:"Indie Flower",className:"font-indie-flower",description:"Bubbly & Rounded"}];const a_=e5.z.enum(["Caveat","Dancing Script","Patrick Hand","Indie Flower","Kalam","Reenie Beanie","Rock Salt"]);const aV=["none","medium","high","ultra","max"];const aG=e5.z.enum(aV);const aO=e5.z.object({sourceText:e5.z.string().min(20,{message:"Please enter at least 20 characters of text to convert."}),fontName:a_.default("Patrick Hand"),humanizeLevel:aG.default("high")});function aB(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,i]=(0,n.useState)(false);const[o,d]=(0,n.useState)(null);const[u,m]=(0,n.useState)(null);const{toast:h}=(0,eq.dj)();const{user:x}=(0,eG.A)();const p=(0,n.useRef)(null);const f=(0,e4.mN)({resolver:(0,e2.u)(aO),defaultValues:{sourceText:"This is a sample of handwritten text created by an AI. The goal is to make this look as natural and human-like as possible, with subtle variations in each character. Higher humanization levels will instruct the AI to rewrite this text to include more natural connections and ligatures, like real cursive writing.",fontName:"Patrick Hand",humanizeLevel:"high"}});const g=f.watch("humanizeLevel");async function j(e){t(true);d(null);m(null);try{const t=await aM({sourceText:e.sourceText,fontName:e.fontName,humanizeLevel:e.humanizeLevel});d(t);h({title:"HTML Generated!",description:"Preparing PDF preview. This may take a moment."})}catch(e){console.error(e);h({variant:"destructive",title:"Error",description:"Failed to generate the note content. Please try again later."});t(false)}}const b=async()=>{var e,t;if(!((t=p.current)===null||t===void 0?void 0:(e=t.contentWindow)===null||e===void 0?void 0:e.document.body)){h({variant:"destructive",title:"Error",description:"Preview not ready."});return null}const s=await tm()(p.current.contentWindow.document.body,{scale:2,useCORS:true});const a=s.toDataURL("image/png");const n=new td.Ay({orientation:"p",unit:"mm",format:"a4"});const r=n.internal.pageSize.getWidth();const l=n.internal.pageSize.getHeight();const i=s.width;const o=s.height;const c=o/i;const d=r*c;n.addImage(a,"PNG",0,0,r,d);return n.output("blob")};const v=async()=>{i(true);h({title:"Generating PDF...",description:"Please wait."});try{const e=await b();if(e){const t=URL.createObjectURL(e);const s=new FileReader;s.onload=function(e){var t;m((t=e.target)===null||t===void 0?void 0:t.result);h({title:"PDF Ready!",description:"You can now download the PDF."})};s.readAsDataURL(e)}}catch(e){h({variant:"destructive",title:"Error",description:"Failed to generate PDF."})}finally{i(false)}};(0,n.useEffect)(()=>{if(o&&p.current){p.current.srcdoc=o.handwrittenNoteHtml;const e=()=>{t(false);h({title:"Preview Ready",description:'Click "Generate PDF" to create the final document.'})};p.current.addEventListener("load",e);return()=>{var t;return(t=p.current)===null||t===void 0?void 0:t.removeEventListener("load",e)}}},[o]);const w=()=>{if(!u){h({variant:"destructive",title:"PDF Not Generated",description:"Please generate the PDF first."});return};const e=document.createElement("a");e.href=u;e.download="handwritten-note.pdf";document.body.appendChild(e);e.click();document.body.removeChild(e);h({title:"Download Started",description:"Your PDF note is being downloaded."})};const y=async()=>{if(!x){h({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}r(true);h({title:"Uploading to Cloud...",description:"Your handwritten note is being saved."});try{const e=await b();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t="Handwritten_Note_".concat(new Date().toISOString(),".pdf");await eY(x.uid,t,e);h({title:"Saved to Cloud!",description:"Your note has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);h({variant:"destructive",title:"Upload Failed",description:"Could not save your note. Please try again."})}finally{r(false)}};return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"AI Handwritten Notes"}),(0,a.jsx)(eL,{children:"Convert your typed notes into a chosen handwriting style on a lined notebook page (A4 PDF)."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...f,children:(0,a.jsxs)("form",{onSubmit:f.handleSubmit(j),className:"space-y-8",children:[(0,a.jsx)(tj,{control:f.control,name:"sourceText",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Your Notes"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Type or paste the notes you want to convert here...",className:"min-h-[200px]",...t})}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:f.control,name:"fontName",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsxs)(ty,{className:"flex items-center gap-2",children:[(0,a.jsx)(te.A,{})," Handwriting Style"]}),(0,a.jsxs)(tR,{onValueChange:t.onChange,defaultValue:t.value,children:[(0,a.jsx)(tN,{children:(0,a.jsx)(tF,{children:(0,a.jsx)(tI,{placeholder:"Select a handwriting style"})})}),(0,a.jsx)(tE,{children:(0,a.jsxs)(tz,{children:[(0,a.jsx)(tM,{children:"Choose a Human-like Font"}),aU.map(e=>(0,a.jsx)(tU,{value:e.name,className:e.className,children:(0,a.jsx)("span",{className:"font-semibold",children:e.description})},e.name))]})})]}),(0,a.jsx)(tC,{children:"Select a handwriting style for your note."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(tj,{control:f.control,name:"humanizeLevel",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:(0,a.jsxs)("span",{className:"flex items-center gap-2",children:["Humanization Level: ",(0,a.jsx)("span",{className:"font-bold capitalize",children:g})]})}),(0,a.jsx)(tN,{children:(0,a.jsx)(tY,{min:0,max:aV.length-1,step:1,defaultValue:[aV.indexOf(t.value)],onValueChange:e=>t.onChange(aV[e[0]])})}),(0,a.jsx)(tC,{children:"Controls the realism. Higher levels use AI to add more variations and connections."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsx)(k.$,{type:"submit",disabled:e,className:"w-full",children:e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tn.A,{className:"mr-2 h-4 w-4 animate-spin"}),"Generating Preview..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(tn.A,{className:"mr-2 h-4 w-4"}),"Generate Note Preview"]})})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col",children:[(0,a.jsx)(eF,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eT,{children:"Generated Note Preview"}),(0,a.jsx)(eL,{children:"Your converted note will be shown here."})]}),o&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(k.$,{onClick:v,disabled:!o||e||l,children:l?"Generating...":"Generate PDF"}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:y,disabled:!x||s,children:(0,a.jsx)(tl.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:w,disabled:!u,children:(0,a.jsx)(eV.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(eE,{className:"flex-1 min-h-0",children:(0,a.jsxs)("div",{className:(0,C.cn)("h-full w-full rounded-md border-2 border-dashed flex items-center justify-center p-4",o&&!e?"border-primary":""),children:[e&&(0,a.jsxs)("div",{className:"text-center text-muted-foreground space-y-4",children:[(0,a.jsx)(c.A,{className:"h-12 w-12 animate-pulse text-primary mx-auto"}),(0,a.jsx)("p",{children:"AI is writing your note..."})]}),o&&(0,a.jsx)("div",{className:"relative w-full h-full",children:(0,a.jsx)("iframe",{ref:p,className:"w-full h-full border-0 rounded-md",title:"Handwritten Note Preview"})}),!e&&!o&&(0,a.jsxs)("div",{className:"text-center text-muted-foreground p-8",children:[(0,a.jsx)(aE.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{children:"Your generated note preview will be displayed here."})]})]})})]})]})};const aY=(0,tG.createServerReference)("406adaddb60d92d5e0e87d0f52c46d2e751f025baf",tG.callServer,undefined,tG.findSourceMapURL,"editDocument");const aH=e5.z.object({documentContent:e5.z.string().min(50,{message:"Document content must be at least 50 characters to be edited effectively."})});sZ.EA.workerSrc="//unpkg.com/pdfjs-dist@".concat(sZ.rE,"/build/pdf.worker.min.mjs");function aq(){const[e,t]=(0,n.useState)(false);const[s,r]=(0,n.useState)(false);const[l,i]=(0,n.useState)(false);const[o,c]=(0,n.useState)(null);const{toast:u}=(0,eq.dj)();const{user:m}=(0,eG.A)();const h=(0,n.useRef)(null);const x=(0,e4.mN)({resolver:(0,e2.u)(aH),defaultValues:{documentContent:""}});const p=async e=>{var t;const s=(t=e.target.files)===null||t===void 0?void 0:t[0];if(!s)return;if(s.type!=="application/pdf"){u({variant:"destructive",title:"Invalid File Type",description:"Please upload a PDF file."});return}r(true);u({title:"Processing PDF...",description:"Extracting text from your document."});try{const e=await s.arrayBuffer();const t=await sZ.YE(e).promise;const a=t.numPages;let n="";for(let e=1;e<=a;e++){const s=await t.getPage(e);const a=await s.getTextContent();const r=a.items.map(e=>e.str).join(" ");n+=r+"\n\n"}x.setValue("documentContent",n,{shouldValidate:true});u({title:"Success!",description:"PDF content has been extracted and loaded."})}catch(e){console.error("Failed to parse PDF:",e);u({variant:"destructive",title:"PDF Parsing Error",description:"Could not read the content from the PDF file. Please try another file."})}finally{r(false);e.target.value=""}};async function f(e){t(true);c(null);try{const t=await aY(e);c(t)}catch(e){console.error(e);u({variant:"destructive",title:"Error",description:"Failed to edit the document. Please try again."})}finally{t(false)}}const g=async()=>{if(!h.current)return null;const e=await tm()(h.current,{scale:2,backgroundColor:"#ffffff"});const t=e.toDataURL("image/png");const s=new td.Ay("p","px","a4");const a=s.internal.pageSize.getWidth();const n=s.internal.pageSize.getHeight();const r=e.width;const l=e.height;const i=r/l;let o=a/i;const c=Math.ceil(o/n);for(let e=0;e<c;e++){if(e>0)s.addPage();const r=-e*n;s.addImage(t,"PNG",0,r,a,o)}return s.output("blob")};const j=async()=>{u({title:"Preparing Download...",description:"Your document is being converted to PDF."});const e=await g();if(e){const t=URL.createObjectURL(e);const s=document.createElement("a");s.href=t;s.download="edited-document.pdf";document.body.appendChild(s);s.click();document.body.removeChild(s);URL.revokeObjectURL(t);u({title:"Download Complete!",description:"Your edited document has been downloaded."})}};const b=()=>{if(!h.current)return;const e=window.open("","","height=800,width=800");if(e){e.document.write("<html><head><title>Print Document</title>");e.document.write("<style>body { font-family: sans-serif; padding: 2rem; } .prose { max-width: 100%; } h1, h2, h3 { margin-top: 1.5em; } </style>");e.document.write("</head><body>");e.document.write(h.current.innerHTML);e.document.write("</body></html>");e.document.close();e.focus();setTimeout(()=>{e.print();e.close()},250)}};const v=()=>{if(!h.current)return;const e=h.current.innerText;navigator.clipboard.writeText(e);u({title:"Copied!",description:"Edited content copied to clipboard."})};const w=async()=>{if(!m){u({variant:"destructive",title:"Login Required",description:"You must be signed in to save documents to the cloud."});return}i(true);u({title:"Uploading to Cloud...",description:"Your edited document is being saved."});try{const e=await g();if(!e){throw new Error("Failed to generate PDF blob for upload.")}const t="Edited_Document_".concat(new Date().toISOString(),".pdf");await eY(m.uid,t,e);u({title:"Saved to Cloud!",description:"Your edited document has been successfully saved."})}catch(e){console.error("Cloud upload failed:",e);u({variant:"destructive",title:"Upload Failed",description:"Could not save your document. Please try again."})}finally{i(false)}};const y=o?sF.xI.parse(o.editedContent):"";return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 items-start",children:[(0,a.jsxs)(eI,{children:[(0,a.jsxs)(eF,{children:[(0,a.jsx)(eT,{children:"Professional AI Editor"}),(0,a.jsx)(eL,{children:"Upload or paste your document, and our AI will professionally revise and enhance it."})]}),(0,a.jsx)(eE,{children:(0,a.jsx)(tf,{...x,children:(0,a.jsxs)("form",{onSubmit:x.handleSubmit(f),className:"space-y-8",children:[(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Upload Document PDF"}),(0,a.jsx)(tN,{children:(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(k.$,{asChild:true,variant:"outline",className:"w-full",disabled:s,children:(0,a.jsxs)("label",{htmlFor:"doc-upload",className:"cursor-pointer",children:[s?(0,a.jsx)(sX.A,{className:"mr-2 h-4 w-4 animate-spin"}):(0,a.jsx)(sJ.A,{className:"mr-2 h-4 w-4"}),s?"Parsing PDF...":"Upload Document"]})}),(0,a.jsx)(S,{id:"doc-upload",type:"file",className:"sr-only",accept:".pdf",onChange:p,disabled:s})]})}),(0,a.jsx)(tC,{children:"The extracted text will appear in the text area below."})]}),(0,a.jsx)(tj,{control:x.control,name:"documentContent",render:e=>{let{field:t}=e;return(0,a.jsxs)(tw,{children:[(0,a.jsx)(ty,{children:"Original Document Content"}),(0,a.jsx)(tN,{children:(0,a.jsx)(tV,{placeholder:"Paste the plain text from your document here...",className:"min-h-[300px]",...t})}),(0,a.jsx)(tC,{children:"The AI will edit this content for clarity, grammar, and structure."}),(0,a.jsx)(tk,{})]})}}),(0,a.jsxs)(k.$,{type:"submit",disabled:e||s,className:"w-full",children:[e?"Editing...":"Edit with AI",(0,a.jsx)(tn.A,{className:"ml-2 w-4 h-4"})]})]})})})]}),(0,a.jsxs)(eI,{className:"min-h-[600px] flex flex-col",children:[(0,a.jsx)(eF,{children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(eT,{children:"AI-Edited Document"}),(0,a.jsx)(eL,{children:"Your revised document will appear here."})]}),o&&(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:w,disabled:!m||l,children:(0,a.jsx)(tl.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:v,children:(0,a.jsx)(to.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:b,children:(0,a.jsx)(tc.A,{className:"h-4 w-4"})}),(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:j,children:(0,a.jsx)(ti.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsx)(eE,{className:"flex-1 min-h-0 bg-muted/50 p-4",children:(0,a.jsx)(t$,{className:"h-full w-full",children:(0,a.jsxs)("div",{ref:h,className:"p-8 bg-white shadow-lg rounded-sm w-full min-h-[29.7cm] aspect-[210/297]",style:{width:"21cm",minHeight:"29.7cm",margin:"0 auto"},children:[e&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(O,{className:"h-6 w-1/3"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-5/6"}),(0,a.jsx)("br",{}),(0,a.jsx)(O,{className:"h-6 w-1/2"}),(0,a.jsx)(O,{className:"h-4 w-full"}),(0,a.jsx)(O,{className:"h-4 w-4/5"}),(0,a.jsx)(O,{className:"h-4 w-full"})]}),o&&(0,a.jsx)("div",{className:"prose prose-sm sm:prose-base max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:y}}),!e&&!o&&(0,a.jsx)("div",{className:"w-full h-full flex items-center justify-center text-center text-muted-foreground p-8",children:(0,a.jsxs)("div",{children:[(0,a.jsx)(d.A,{className:"w-12 h-12 mx-auto mb-4"}),(0,a.jsx)("p",{children:"Your professionally edited document will be displayed here."})]})})]})})})]})]})};function a$(){var e;const[t,s]=(0,n.useState)("dashboard");const{user:b,signOut:v}=(0,eG.A)();const w=()=>{switch(t){case"dashboard":return(0,a.jsx)(e1,{setActiveTool:s});case"docs":return(0,a.jsx)(sh,{});case"resume":return(0,a.jsx)(sf,{});case"analyzer":return(0,a.jsx)(sC,{});case"illustrations":return(0,a.jsx)(sD,{});case"exam":return(0,a.jsx)(sK,{});case"notes":return(0,a.jsx)(s2,{});case"solver":return(0,a.jsx)(s3,{});case"blueprint":return(0,a.jsx)(aL,{});case"handwriting":return(0,a.jsx)(aB,{});case"editor":return(0,a.jsx)(aq,{});case"settings":return(0,a.jsx)(aw,{});default:return(0,a.jsx)(e1,{setActiveTool:s})}};return(0,a.jsxs)(es,{children:[(0,a.jsxs)(ea,{variant:"sidebar",collapsible:"icon",children:[(0,a.jsx)(eo,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2",children:[(0,a.jsx)(eR,{className:"w-8 h-8 text-primary"}),(0,a.jsx)("span",{className:"text-lg font-semibold font-headline",children:"DOC AI"})]})}),(0,a.jsx)(eu,{children:(0,a.jsxs)(ef,{children:[(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("dashboard"),isActive:t==="dashboard",tooltip:"Dashboard",children:[(0,a.jsx)(r.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Home"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("docs"),isActive:t==="docs",tooltip:"Document Generator",children:[(0,a.jsx)(l.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Documents"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("exam"),isActive:t==="exam",tooltip:"Exam Paper Generator",children:[(0,a.jsx)(i.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Exam Papers"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("notes"),isActive:t==="notes",tooltip:"Short Notes Generator",children:[(0,a.jsx)(o.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Short Notes"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("handwriting"),isActive:t==="handwriting",tooltip:"AI Handwritten Notes",children:[(0,a.jsx)(c.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Handwritten"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("editor"),isActive:t==="editor",tooltip:"AI Document Editor",children:[(0,a.jsx)(d.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"AI Editor"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("solver"),isActive:t==="solver",tooltip:"Booklet Solver",children:[(0,a.jsx)(u.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Booklet Solver"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("blueprint"),isActive:t==="blueprint",tooltip:"Project Blueprints",children:[(0,a.jsx)(m.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Blueprints"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("resume"),isActive:t==="resume",tooltip:"Resume Generator",children:[(0,a.jsx)(h.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Resumes"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("analyzer"),isActive:t==="analyzer",tooltip:"Document Analyzer",children:[(0,a.jsx)(x.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Analyzer"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("illustrations"),isActive:t==="illustrations",tooltip:"Illustration Studio",children:[(0,a.jsx)(p.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Illustrations"})]})}),(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("storage"),isActive:t==="storage",tooltip:"Cloud Storage",disabled:true,children:[(0,a.jsx)(f.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Storage"})]})})]})}),(0,a.jsx)(P,{}),(0,a.jsx)(eu,{children:(0,a.jsx)(ef,{children:(0,a.jsx)(eg,{children:(0,a.jsxs)(eb,{onClick:()=>s("settings"),isActive:t==="settings",tooltip:"Settings",children:[(0,a.jsx)(g.A,{}),(0,a.jsx)("span",{className:"font-headline",children:"Settings"})]})})})}),(0,a.jsx)(ec,{children:(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3",children:[(0,a.jsxs)(eA,{children:[(0,a.jsx)(eP,{src:(b===null||b===void 0?void 0:b.photoURL)||"https://placehold.co/40x40","data-ai-hint":"user avatar"}),(0,a.jsx)(eD,{children:(b===null||b===void 0?void 0:(e=b.displayName)===null||e===void 0?void 0:e.charAt(0))||"U"})]}),(0,a.jsxs)("div",{className:"flex flex-col overflow-hidden",children:[(0,a.jsx)("span",{className:"font-semibold text-sm truncate",children:(b===null||b===void 0?void 0:b.displayName)||"Guest"}),(0,a.jsx)("span",{className:"text-xs text-muted-foreground truncate",children:(b===null||b===void 0?void 0:b.email)||"user@doc.ai"})]}),b&&(0,a.jsx)(k.$,{variant:"ghost",size:"icon",onClick:v,className:"ml-auto shrink-0",children:(0,a.jsx)(j.A,{className:"w-4 h-4"})})]})})]}),(0,a.jsx)(el,{children:(0,a.jsxs)("main",{className:"min-h-svh flex flex-col",children:[(0,a.jsx)(ab,{activeTool:t,setActiveTool:s}),(0,a.jsx)("div",{className:"flex-1 p-4 sm:p-6 lg:p-8",children:w()})]})}),(0,a.jsx)(aP,{})]})}},56104:(e,t,s)=>{"use strict";s.d(t,{Gg:()=>o,IG:()=>u,j2:()=>d});var a=s(23915);var n=s(93004);var r=s(90858);var l=s(49509);const i={apiKey:l.env.NEXT_PUBLIC_FIREBASE_API_KEY,authDomain:l.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN,projectId:l.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID,storageBucket:l.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET,messagingSenderId:l.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID,appId:l.env.NEXT_PUBLIC_FIREBASE_APP_ID};const o=i.apiKey&&i.authDomain&&i.projectId&&i.storageBucket&&i.messagingSenderId&&i.appId;let c;if(o){c=(0,a.Dk)().length?(0,a.Sx)():(0,a.Wp)(i)}else{console.warn("Firebase configuration is missing or incomplete. Firebase services will be disabled. Please provide all necessary keys in your .env file.")}const d=o?(0,n.xI)(c):null;const u=o?(0,r.c7)(c):null},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>r});var a=s(52596);var n=s(39688);function r(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++){t[s]=arguments[s]}return(0,n.QP)((0,a.$)(t))}},61275:(e,t,s)=>{"use strict";s.d(t,{K:()=>c,RecentGenerationsProvider:()=>o});var a=s(95155);var n=s(12115);var r=s(98030);const l=5;const i=(0,n.createContext)(undefined);const o=e=>{let{children:t}=e;const{user:s}=(0,r.A)();const[o,c]=(0,n.useState)([]);const[d,u]=(0,n.useState)(null);const m=(0,n.useCallback)(()=>{return s?"recentGenerations_".concat(s.uid):null},[s]);(0,n.useEffect)(()=>{const e=m();if(e){try{const t=localStorage.getItem(e);if(t){c(JSON.parse(t))}else{c([])}}catch(e){console.error("Failed to parse recent generations from localStorage",e);c([])}}else{c([])}},[s,m]);const h=e=>{const t=m();if(!t)return;const s={...e,id:"".concat(e.type,"-").concat(Date.now()),timestamp:Date.now()};c(e=>{const a=[s,...e].slice(0,l);try{localStorage.setItem(t,JSON.stringify(a))}catch(e){console.error("Failed to save recent generations to localStorage",e)}return a})};const x=e=>{u(e)};const p={recentGenerations:o,addRecentGeneration:h,viewingItem:d,viewGeneration:x};return(0,a.jsx)(i.Provider,{value:p,children:t})};const c=()=>{const e=(0,n.useContext)(i);if(e===undefined){throw new Error("useRecentGenerations must be used within a RecentGenerationsProvider")}return e}},87481:(e,t,s)=>{"use strict";s.d(t,{dj:()=>f});var a=s(12115);const n=1;const r=1e6;const l={ADD_TOAST:"ADD_TOAST",UPDATE_TOAST:"UPDATE_TOAST",DISMISS_TOAST:"DISMISS_TOAST",REMOVE_TOAST:"REMOVE_TOAST"};let i=0;function o(){i=(i+1)%Number.MAX_SAFE_INTEGER;return i.toString()}const c=new Map;const d=e=>{if(c.has(e)){return}const t=setTimeout(()=>{c.delete(e);x({type:"REMOVE_TOAST",toastId:e})},r);c.set(e,t)};const u=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,n)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{const{toastId:s}=t;if(s){d(s)}else{e.toasts.forEach(e=>{d(e.id)})}return{...e,toasts:e.toasts.map(e=>e.id===s||s===undefined?{...e,open:false}:e)}}case"REMOVE_TOAST":if(t.toastId===undefined){return{...e,toasts:[]}}return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}};const m=[];let h={toasts:[]};function x(e){h=u(h,e);m.forEach(e=>{e(h)})}function p(e){let{...t}=e;const s=o();const a=e=>x({type:"UPDATE_TOAST",toast:{...e,id:s}});const n=()=>x({type:"DISMISS_TOAST",toastId:s});x({type:"ADD_TOAST",toast:{...t,id:s,open:true,onOpenChange:e=>{if(!e)n()}}});return{id:s,dismiss:n,update:a}}function f(){const[e,t]=a.useState(h);a.useEffect(()=>{m.push(t);return()=>{const e=m.indexOf(t);if(e>-1){m.splice(e,1)}}},[e]);return{...e,toast:p,dismiss:e=>x({type:"DISMISS_TOAST",toastId:e})}}},98030:(e,t,s)=>{"use strict";s.d(t,{A:()=>m,AuthProvider:()=>u});var a=s(95155);var n=s(12115);var r=s(93004);var l=s(56104);var i=s(87481);var o=s(30285);var c=s(15599);const d=(0,n.createContext)(undefined);const u=e=>{let{children:t}=e;const[s,u]=(0,n.useState)(null);const[m,h]=(0,n.useState)(true);const{toast:x}=(0,i.dj)();(0,n.useEffect)(()=>{if(!l.Gg||!l.j2){h(false);return}const e=(0,r.hg)(l.j2,e=>{u(e);h(false)});return()=>e()},[]);const p=async()=>{if(!l.Gg||!l.j2){x({variant:"destructive",title:"Configuration Error",description:"Firebase is not configured. Please add your API keys to the .env file."});return}const e=new r.HF;try{await (0,r.df)(l.j2,e);x({title:"Success!",description:"You have successfully signed in."})}catch(t){console.error("Sign in error:",t);const e=t;if(e.code==="auth/unauthorized-domain"){const e=()=>{navigator.clipboard.writeText(window.location.hostname);x({title:"Copied!",description:"Domain name copied to clipboard."})};x({variant:"destructive",title:"Action Required: Authorize this Domain",description:(0,a.jsxs)("div",{className:"text-left text-sm w-full",children:[(0,a.jsx)("p",{className:"mb-2",children:"Firebase is blocking sign-in from this web address for security."}),(0,a.jsx)("p",{className:"font-bold",children:"1. Copy this domain name:"}),(0,a.jsxs)("div",{className:"flex items-center gap-2 my-1",children:[(0,a.jsx)("code",{className:"block bg-muted p-2 rounded-md text-foreground break-all flex-1",children:window.location.hostname}),(0,a.jsx)(o.$,{variant:"outline",size:"icon",onClick:e,children:(0,a.jsx)(c.A,{className:"h-4 w-4"})})]}),(0,a.jsx)("p",{className:"font-bold mt-2",children:"2. Go to your Firebase Project:"}),(0,a.jsxs)("p",{className:"text-xs",children:["Authentication ","->"," Settings ","->"," Authorized domains"]}),(0,a.jsx)("p",{className:"font-bold mt-2",children:'3. Click "Add domain" and paste it.'})]}),duration:3e4})}else{x({variant:"destructive",title:"Sign In Failed",description:"An unknown error occurred. Code: ".concat(e.code||"N/A")})}}};const f=async()=>{if(!l.Gg||!l.j2){x({variant:"destructive",title:"Configuration Error",description:"Firebase is not configured."});return}try{await (0,r.CI)(l.j2);x({title:"Signed Out",description:"You have been successfully signed out."})}catch(e){console.error("Sign out error:",e);x({variant:"destructive",title:"Sign Out Failed",description:"Could not sign out. Please try again."})}};const g={user:s,loading:m,signIn:p,signOut:f,isFirebaseConfigured:l.Gg};return(0,a.jsx)(d.Provider,{value:g,children:!m&&t})};const m=()=>{const e=(0,n.useContext)(d);if(e===undefined){throw new Error("useAuth must be used within an AuthProvider")}return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[644,84,930,316,428,894,441,684,358],()=>t(23377));var s=e.O();_N_E=s}]);